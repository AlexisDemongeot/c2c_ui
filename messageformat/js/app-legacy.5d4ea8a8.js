(function(t){function e(e){for(var s,n,o=e[0],l=e[1],c=e[2],u=0,d=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&d.push(a[n][0]),a[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);m&&m(e);while(d.length)d.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],s=!0,n=1;n<i.length;n++){var o=i[n];0!==a[o]&&(s=!1)}s&&(r.splice(e--,1),t=l(l.s=i[0]))}return t}var s={},n={app:0},a={app:0},r=[];function o(t){return l.p+"js/"+({"chunk-d3":"chunk-d3","data-table":"data-table","translations-en":"translations-en","wiki-tools":"wiki-tools"}[t]||t)+"-legacy."+{"chunk-d3":"081ce3aa","data-table":"b8466e3e","translations-en":"27a70c89","wiki-tools":"663ae5c2"}[t]+".js"}function l(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.e=function(t){var e=[],i={"data-table":1,"wiki-tools":1};n[t]?e.push(n[t]):0!==n[t]&&i[t]&&e.push(n[t]=new Promise((function(e,i){for(var s="css/"+({"chunk-d3":"chunk-d3","data-table":"data-table","translations-en":"translations-en","wiki-tools":"wiki-tools"}[t]||t)+"."+{"chunk-d3":"31d6cfe0","data-table":"9bc0c937","translations-en":"31d6cfe0","wiki-tools":"4768a8c5"}[t]+".css",a=l.p+s,r=document.getElementsByTagName("link"),o=0;o<r.length;o++){var c=r[o],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===s||u===a))return e()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){c=d[o],u=c.getAttribute("data-href");if(u===s||u===a)return e()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=e,m.onerror=function(e){var s=e&&e.target&&e.target.src||a,r=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=s,delete n[t],m.parentNode.removeChild(m),i(r)},m.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(m)})).then((function(){n[t]=0})));var s=a[t];if(0!==s)if(s)e.push(s[2]);else{var r=new Promise((function(e,i){s=a[t]=[e,i]}));e.push(s[2]=r);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=o(t);var d=new Error;c=function(e){u.onerror=u.onload=null,clearTimeout(m);var i=a[t];if(0!==i){if(i){var s=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+s+": "+n+")",d.name="ChunkLoadError",d.type=s,d.request=n,i[1](d)}a[t]=void 0}};var m=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(e)},l.m=t,l.c=s,l.d=function(t,e,i){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)l.d(i,s,function(e){return t[e]}.bind(null,s));return i},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/c2c_ui/messageformat/",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var m=u;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"0025":function(t,e,i){"use strict";i("79e8")},"0247":function(t,e,i){"use strict";i("1ae5")},"0307":function(t,e,i){"use strict";var s=i("bc3a"),n=i.n(s);const a=function(t){const e=this;this.response=null,this.error=null,this.promise_=t,this.data=null,this.loading=!0,t.then(t=>{e.loading=!1,e.response=t,e.data=t.data},t=>{e.loading=!1,e.error=t})};a.prototype.then=function(t,e){return this.promise_.then(t,e),this},a.prototype.catch=function(t){return this.promise_.catch(t),this};const r=function(t){this.axios=n.a.create({headers:{common:{}},baseURL:t})};r.prototype.get=function(t,e){return new a(this.axios.get(t,e))},r.prototype.post=function(t,e){return new a(this.axios.post(t,e))},r.prototype.put=function(t,e){return new a(this.axios.put(t,e))},r.prototype.delete=function(t,e){return new a(this.axios.delete(t,e))},e["a"]=r},"031d":function(t,e,i){t.exports=i.p+"img/mrp_carte.9a17989b.avif"},"0531":function(t,e,i){"use strict";i("fcc5")},"07d2":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.$user.isLogged||t.showAlways?i("router-link",{attrs:{to:{name:t.documentType+"-edit",params:{id:t.document.document_id,lang:t.lang}}},nativeOn:{click:function(e){return t.$emit("click")}}},[t._t("default",[i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Edit")])])],2):t._e()},n=[],a=i("a50d"),r={mixins:[a["a"]],props:{lang:{type:String,required:!0},showAlways:{type:Boolean,default:!1}}},o=r,l=i("2877"),c=Object(l["a"])(o,s,n,!1,null,null,null);e["default"]=c.exports},"09c4":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fa-icon",{attrs:{icon:"flag"}})},n=[],a=i("2877"),r={},o=Object(a["a"])(r,s,n,!1,null,null,null);e["default"]=o.exports},"0a65":function(t,e,i){},"0ae2":function(t,e,i){},"0c00":function(t,e,i){"use strict";i("4959")},"0c2a":function(t,e,i){},"0c6e":function(t,e,i){t.exports=i.p+"img/logo-ensg.12db1227.avif"},"0ca6":function(t,e,i){"use strict";i("b105")},"0e16":function(t,e,i){},"0e76":function(t,e,i){},"10e7":function(t,e,i){"use strict";i("a9d6")},1388:function(t,e,i){t.exports=i.p+"img/serac.37faea90.webp"},1410:function(t,e,i){"use strict";i("acb8")},"14ac":function(t,e,i){"use strict";var s;const n={isProduction:!1,addthisPublicId:"ra-58abf6b4f3a680cb",googleAnalyticsKey:"UA-2814179-1",urlsConfigurations:{demo:{name:"demo",api:"https://api.demov6.camptocamp.org",media:"https://sos.exo.io/c2corg-demov6-active",imageBackend:"https://images.demov6.camptocamp.org",forum:"https://forum.demov6.camptocamp.org",recaptchaKey:"6LfWUwoUAAAAAAxud1qqok6wOJJlCUsYXxHizRhc"},prod:{name:"prod",api:"https://api.camptocamp.org",media:"https://media.camptocamp.org/c2corg_active",imageBackend:"https://images.camptocamp.org",forum:"https://forum.camptocamp.org",recaptchaKey:"6Lc9Cw4UAAAAAIKnlar0AOsGX_P5S-bk9u8viuo2"}},urls:{name:"prod",api:"https://api.camptocamp.org",media:"https://media.camptocamp.org/c2corg_active",imageBackend:"https://images.camptocamp.org",forum:"https://forum.camptocamp.org",recaptchaKey:"6Lc9Cw4UAAAAAIKnlar0AOsGX_P5S-bk9u8viuo2"},branchName:"messageformat",publicPath:"/c2c_ui/messageformat/"},a="SiteConfiguration.urlsName";n.setUrlsName=function(t){window.localStorage.setItem(a,t)};const r=null!==(s=window.localStorage.getItem(a))&&void 0!==s?s:n.urls.name;n.isProduction||(n.urls=n.urlsConfigurations[r]),e["a"]=n},"14f8":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fa-icon",{attrs:{icon:"tachometer-alt"}})},n=[],a=i("2877"),r={},o=Object(a["a"])(r,s,n,!1,null,null,null);e["default"]=o.exports},"154c":function(t,e,i){"use strict";i("f17e")},"16a2":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("document-link",{staticClass:"pretty-waypoint-link has-hover-background",attrs:{document:t.waypoint}},[i("span",{attrs:{title:t.$gettext(t.waypoint.waypoint_type,"waypoint_types")}},[i("icon-waypoint-type",{staticClass:"has-text-normal",attrs:{"waypoint-type":t.waypoint.waypoint_type}})],1),t._v(" "),i("span",[t._v(" ")]),t._v(" "),i("document-title",{attrs:{document:t.waypoint}}),i("span",{staticClass:"has-text-normal"},[t._v(", "+t._s(t.waypoint.elevation)+" m")])],1)},n=[],a={props:{waypoint:{type:Object,required:!0}}},r=a,o=(i("5a33"),i("2877")),l=Object(o["a"])(r,s,n,!1,null,"cd1bf306",null);e["default"]=l.exports},1714:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fa-icon",{class:"no-print",attrs:{icon:["activity",t.activity]}})},n=[],a={props:{activity:{type:String,required:!0}}},r=a,o=i("2877"),l=Object(o["a"])(r,s,n,!1,null,null,null);e["default"]=l.exports},"17f8":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal",class:{"is-active":t.visible,"is-wide":t.wide,"is-small":t.small}},[i("div",{staticClass:"modal-background",class:{"is-transparent":t.hasTransparentShader},on:{click:t.hide}}),t._v(" "),i("div",{staticClass:"modal-content",class:{"has-background-danger has-text-white-bis":t.isDanger}},[t.$slots.header?i("header",{staticClass:"title is-3"},[i("button",{staticClass:"delete is-pulled-right",attrs:{"aria-label":"close"},on:{click:t.hide}}),t._v(" "),t._t("header")],2):i("button",{staticClass:"delete is-pulled-right",attrs:{"aria-label":"close"},on:{click:t.hide}}),t._v(" "),t._t("default",[t._v(" Modal content ")])],2)])},n=[],a=i("85e7"),r={mixins:[a["a"]],props:{wide:{type:Boolean,default:!1},small:{type:Boolean,default:!1},isDanger:{type:Boolean,default:!1},hasTransparentShader:{type:Boolean,default:!1}}},o=r,l=(i("154c"),i("2877")),c=Object(l["a"])(o,s,n,!1,null,"2b132614",null);e["default"]=c.exports},"188b":function(t,e,i){"use strict";i("ddb0");function s(t){this.api=t}s.prototype.create=function(t,e){const i=t.type,s=e.type,n={};return"c"===i&&["w","o","r","b","c","x","u"].includes(s)||"i"===i||"o"===i&&("r"===s||"u"===s)||"r"===i&&("w"===s||"b"===s)||"w"===i&&"b"===s||"x"===i&&["w","o","r","u"].includes(s)?(n.parent_document_id=e.document_id,n.child_document_id=t.document_id):(n.parent_document_id=t.document_id,n.child_document_id=e.document_id),this.api.post("/associations",n)},s.prototype.remove=function(t,e){const i={parent_document_id:t.document_id,child_document_id:e.document_id};return this.api.delete("/associations",{data:i})},s.prototype.getHistory=function(t){let e="/associations-history";const i=[],s=function(t,e){e&&i.push(`${t}=${e}`)};return s("d",t.documentId),s("u",t.userId),s("limit",t.limit),s("offset",t.offset),0!==i.length&&(e+="?"+i.join("&")),this.api.get(e)};var n=s;function a(t,e){this.documentType=e,this.api=t}a.prototype.getAll=function(t){return this.api.get("/"+this.documentType+"s",{params:t})},a.prototype.get=function(t,e){return this.api.get("/"+this.documentType+"s/"+t,{params:{l:e}})},a.prototype.getCooked=function(t,e){e="zh_CN"===e?"en":e;const i=this.api.get("/"+this.documentType+"s/"+t+"?cook="+e);return i},a.prototype.getVersion=function(t,e,i){const s="/"+this.documentType+"s/"+t+"/"+e+"/"+i;return this.api.get(s)},a.prototype.save=function(t,e){return this.api.put("/"+this.documentType+"s/"+t.document_id,{document:t,message:e})},a.prototype.create=function(t){return this.api.post("/"+this.documentType+"s",t)},a.prototype.getHistory=function(t,e){return this.api.get("/document/"+t+"/history/"+e)};var r=a;function o(t){this.api=t}o.prototype.getDefaultFeed=function(t){return this.api.get("/feed",{params:t})},o.prototype.getProfileFeed=function(t){return this.api.get("/profile-feed",{params:t})},o.prototype.getPersonalFeed=function(t){return this.api.get("/personal-feed",{params:t})};var l=o;function c(t){this.api=t}c.prototype.getPrivateMessagesCount=function(){return this.api.get("/forum/private-messages/unread-count")},c.prototype.createTopic=function(t,e){return this.api.post("/forum/topics",{document_id:t,lang:e})};var u=c;function d(t){this.api=t}d.prototype.protectDocument=function(t){return this.api.post("/documents/protect",{document_id:t})},d.prototype.unprotectDocument=function(t){return this.api.post("/documents/unprotect",{document_id:t})},d.prototype.deleteDocument=function(t){return this.api.delete("/documents/delete/"+t)},d.prototype.deleteLocale=function(t,e){const i="/documents/delete/"+String(t)+"/"+e;return this.api.delete(i,{})},d.prototype.mergeDocuments=function(t,e){const i={source_document_id:t,target_document_id:e};return this.api.post("/documents/merge",i)},d.prototype.revertDocument=function(t,e,i){return this.api.post("/documents/revert",{document_id:t,lang:e,version_id:i})},d.prototype.isAccountBlocked=function(t){return this.api.get("/users/blocked/"+t)},d.prototype.blockAccount=function(t){return this.api.post("/users/block",{user_id:t})},d.prototype.unblockAccount=function(t){return this.api.post("/users/unblock",{user_id:t})};var m=d;function p(t){this.api=t}function h(t){if("r"!==t)throw new Error("Tags are not supported for this kind of document")}p.prototype.add=async function({type:t,document_id:e}){return h(t),this.api.post("/tags/add",{document_id:e})},p.prototype.remove=function({type:t,document_id:e}){return h(t),this.api.post("/tags/remove",{document_id:e})},p.prototype.get=function({type:t,document_id:e}){return h(t),this.api.get("/tags/has/"+e)};var v=p;function f(t){this.api=t,this.preferences={get(){return t.get("/users/preferences")},post(e){return t.post("/users/preferences",e)}},this.following={get(){return t.get("/users/following")},add(e){return t.post("/users/follow",{user_id:e})},remove(e){return t.post("/users/unfollow",{user_id:e})},isFollowing(e){return t.get("/users/following-user/"+e)}},this.account={get(){return t.get("/users/account")},post(e,i,s,n,a,r){const o={currentpassword:e};return null!==i&&(o.name=i),null!==a&&(o.is_profile_public=a),null!==n&&(o.email=n),null!==s&&(o.forum_username=s),null!==r&&(o.newpassword=r),t.post("/users/account",o)}}}f.prototype.login=function(t,e){return this.api.post("/users/login",{username:t,password:e,discourse:!0})},f.prototype.logout=function(){return this.api.post("/users/logout",{discourse:!0})},f.prototype.update_preferred_language=function(t){return this.api.post("/users/update_preferred_language",{lang:t})},f.prototype.requestPasswordChange=function(t){return this.api.post("/users/request_password_change",{email:t})},f.prototype.validateNewPassword=function(t,e){return this.api.post("/users/validate_new_password/"+t,{password:e})},f.prototype.register=function(t){return this.api.post("/users/register",t)},f.prototype.validateChangeEmail=function(t){return this.api.post("/users/validate_change_email/"+t)},f.prototype.validateRegisterEmail=function(t){return this.api.post("/users/validate_register_email/"+t)};var _=f,g=i("0307"),b=i("14ac"),y=i("25c4");function w(){g["a"].call(this,b["a"].urls.api),this.userProfile=new _(this),this.moderator=new m(this),this.association=new n(this),this.feed=new l(this),this.forum=new u(this),this.tags=new v(this);for(const t of y["a"].documentTypes)this[t]=new r(this,t)}w.prototype=Object.create(g["a"].prototype),w.prototype.constructor=w,w.prototype.setAuthorizationToken=function(t){t?this.axios.defaults.headers.common.Authorization='JWT token="'+t+'"':this.axios.defaults.headers.common.Authorization&&delete this.axios.defaults.headers.common.Authorization},w.prototype.search=function(t){return this.get("/search",{params:t})},w.prototype.getRecentChanges=function(t){return this.get("/documents/changes",{params:t})},w.prototype.uploadImage=function(t,e,i,s){const n=new FormData;n.append("file",t);const a={headers:{"Content-Type":void 0},onUploadProgress:e};return this.axios.post(b["a"].urls.imageBackend+"/upload",n,a).then(i).catch(s)},w.prototype.createImages=function(t){return this.post("/images/list",{images:t})},w.prototype.cooker=function(t){return this.post("/cooker",t)};e["a"]=new w},"188f":function(t,e,i){},"194b":function(t,e,i){"use strict";i("44c1")},"1a53":function(t,e,i){"use strict";i("f752")},"1ae4":function(t,e,i){t.exports=i.p+"img/logo.49e8f0dc.svg"},"1ae5":function(t,e,i){},"1b97":function(t,e,i){"use strict";i("df7d")},"1d9c":function(t,e,i){},"1f4d":function(t,e,i){"use strict";i("d5ed")},2009:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[t.uppercaseFirstLetter?i("span",[t._v(t._s(t._f("uppercaseFirstLetter")(t.title)))]):i("span",[t._v(t._s(t.title))])])},n=[],a=i("a50d"),r={mixins:[a["a"]],props:{uppercaseFirstLetter:{type:Boolean,default:!1}},computed:{title(){return this.$documentUtils.getDocumentTitle(this.document,this.$route.params.lang)}}},o=r,l=i("2877"),c=Object(l["a"])(o,s,n,!1,null,null,null);e["default"]=c.exports},2061:function(t,e,i){},2075:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fa-icon",{attrs:{icon:["waypoint",t.waypointType]}})},n=[],a={props:{waypointType:{type:String,required:!0}}},r=a,o=i("2877"),l=Object(o["a"])(r,s,n,!1,null,null,null);e["default"]=l.exports},2094:function(t,e,i){t.exports=i.p+"img/artefact_vallorcine.b9124702.avif"},"20c1":function(t,e,i){"use strict";i("de23")},"20df":function(t,e,i){"use strict";i("0c2a")},2203:function(t,e,i){},"22dc":function(t,e,i){},2360:function(t,e,i){t.exports=i.p+"img/mrd.b03af943.webp"},2395:function(t,e,i){"use strict";i("b221")},"25c3":function(t,e,i){t.exports=i.p+"img/mre_carte.5574afd7.webp"},"25c4":function(t,e,i){"use strict";i("ddb0");var s=i("54e3"),n=i("7e3e"),a=i("9944");const r=s.attributes;for(const v of Object.values(n))v.values&&"string"===typeof v.values&&(v.i18nContext=v.values,v.values=r[v.values]);const o=function(t){const e=t.activities;return!(!e||0===e.length||e.length>1)&&"rock_climbing"===e[0]},l=function(t){return function(e){return"r"!==e.type||!(o(e)&&!t.includes(e.climbing_outdoor_type))}},c={route_types(t){return!(!t.activities||0===t.activities.length)&&(t.activities.length>1||!(o(t)&&!["single","multi"].includes(t.climbing_outdoor_type)))},configuration:l(["multi"]),global_rating:l(["multi"]),engagement_rating:l(["multi"]),equipment_rating:l(["single","multi"]),rock_required_rating:l(["single","multi"]),aid_rating:l(["single","multi"])};function u(t,e={}){var i,s;if(this.name=t,this.error=null,Object.assign(this,n[t],e),this.parent=null!==(i=this.parent)&&void 0!==i?i:"document",this.type=null!==(s=this.type)&&void 0!==s?s:"text",this.extraIsVisibleFor=c[this.name]||Boolean,void 0===this.i18n&&(this.i18n=Boolean("text"===this.type||this.values)),void 0===this.queryMode&&("number"===this.type?this.queryMode="numericalRangeSlider":"boolean"===this.type?this.queryMode=this.nullable?"tristate":"checkbox":"document"===this.type?this.queryMode="input-document":this.values&&(this.queryMode="multiSelect")),void 0===this.defaultUrlQuery)if("numericalRangeSlider"===this.queryMode)this.defaultUrlQuery=[this.min,this.max].join(",");else if("valuesRangeSlider"===this.queryMode)this.defaultUrlQuery=[this.values[0],this.values[this.values.length-1]].join(",");else if("multiSelect"===this.queryMode||"orientations"===this.queryMode)this.defaultUrlQuery="";else if("checkbox"===this.queryMode)this.defaultUrlQuery="false";else if("tristate"===this.queryMode)this.defaultUrlQuery="";else if("input"===this.queryMode)this.defaultUrlQuery={number:0,text:""}[this.type];else if("activities"===this.queryMode)this.defaultUrlQuery="";else if("input-document"===this.queryMode)this.defaultUrlQuery="";else if("date"===this.queryMode||"dates"===this.queryMode)this.defaultUrlQuery="";else if(void 0!==this.url)throw new Error("Unknow field queryMode for "+this.name+": "+this.queryMode)}u.prototype.valueToUrl=function(t){if("numericalRangeSlider"===this.queryMode||"valuesRangeSlider"===this.queryMode)return t.join(",");if("multiSelect"===this.queryMode||"orientations"===this.queryMode||"activities"===this.queryMode)return t.join(",");if("checkbox"===this.queryMode)return JSON.stringify(t);if("tristate"===this.queryMode)return"no info"===t?"null":"yes"===t?"true":"no"===t?"false":"";if("input"===this.queryMode)return t;if("input-document"===this.queryMode)return t.join(",");throw new Error("Unknow field queryMode for "+this.name+": "+this.queryMode)},u.prototype.urlToValue=function(t){if("numericalRangeSlider"===this.queryMode){let e=null!==t&&void 0!==t?t:this.defaultUrlQuery;return e=e.split(","),[parseInt(e[0]),parseInt(e[1])]}if("valuesRangeSlider"===this.queryMode){const e=null!==t&&void 0!==t?t:this.defaultUrlQuery;return e.split(",")}if("multiSelect"===this.queryMode||"orientations"===this.queryMode||"activities"===this.queryMode)return t?t.split(","):""===this.defaultUrlQuery?[]:this.defaultUrlQuery.split(",");if("tristate"===this.queryMode)return"true"===t||!0===t?"yes":"false"===t||!1===t?"no":"null"===t||null===t?"no info":void 0;if("checkbox"===this.queryMode)return!(null===t||void 0===t||""===t||"false"===t);if("input"===this.queryMode){const e=t||this.defaultUrlQuery;if("number"===this.type)return parseInt(e);if("text"===this.type)return e;throw new Error(`Unknow field type for ${this.name} : ${this.type}`)}if("input-document"===this.queryMode)return t?String(t).split(",").map(t=>parseInt(t,10)):[];throw new Error("Unknow field queryMode for "+this.name+": "+this.queryMode)},u.prototype.getErrorObject=function(t){let e;return"document"===this.parent?e=this.name:"locales"===this.parent?e="locales.0."+this.name:"associations"===this.parent&&(e="associations."+this.name),{name:e,description:t}},u.prototype.getError=function(t,e){if(!this.isVisibleFor(t))return null;let i;if("document"===this.parent)i=t[this.name];else if("locales"===this.parent)i=e[this.name];else{if("associations"!==this.parent)throw new Error("Unexpected parent property : "+this.parent);i=t.associations[this.name]}return i&&this.minLength&&i.length<this.minLength?this.getErrorObject("This field is too short"):i&&this.maxLength&&i.length>this.maxLength?this.getErrorObject("This field is too long"):this.required&&(!i||this.multiple&&0===i.length)?this.getErrorObject("required field"):null},u.prototype.isVisibleForActivities=function(t){let e=!0;return this.activities&&t&&(e=a["a"].intersectionIsNotNull(this.activities,t)),e},u.prototype.isVisibleForWaypointType=function(t){return!this.waypoint_types||!!t&&this.waypoint_types.includes(t)},u.prototype.isVisibleForWaypointTypes=function(t){return!this.waypoint_types||!!t&&a["a"].intersectionIsNotNull(this.waypoint_types,t)},u.prototype.isVisibleFor=function(t){return!!this.extraIsVisibleFor(t)&&(!!this.isVisibleForActivities(t.activities)&&!!this.isVisibleForWaypointType(t.waypoint_type))};var d=u,m=i("5a67");const p=function(t){const e={};for(const i of t){const t=new d(i.id,i.properties);e[t.name]=t}return e};function h(){this.activities=s.attributes.activities,this.event_activities=s.attributes.event_activities,this.waypoint_types=s.attributes.waypoint_types,this.langs=s.attributes.langs,this.quality_types=s.attributes.quality_types,this.documentTypes=Object.keys(m),this.objectDefinitions=m,this.letterToDocumentType={};for(const t of this.documentTypes){const e=m[t];e.fields=p(e.fields),e.documentType=t,this.letterToDocumentType[e.letter]=t}m.outing.fields.date_start.max=(new Date).toISOString().substring(0,10),m.outing.fields.date_end.max=(new Date).toISOString().substring(0,10)}e["a"]=new h},2878:function(t,e,i){t.exports=i.p+"img/mre.1bd2cbb0.jpg"},"28f6":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"document-card-container"},[i(t.documentType+"-card",{tag:"component",staticClass:"document-card",attrs:{document:t.document,target:t.target,highlighted:t.highlighted}}),t._v(" "),t.showDeleteButton?i("delete-button",{staticClass:"delete-button",on:{click:function(e){return t.$emit("delete")}}}):t._e()],1)},n=[],a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("card-container",{attrs:{document:t.document,target:t.target,highlighted:t.highlighted}},[i("card-title",[i("document-title",{attrs:{document:t.document}})],1),t._v(" "),i("card-row",[i("span",[t._v("\n      "+t._s(t._f("uppercaseFirstLetter")(t.$gettext(t.document.area_type,"area_types")))+"\n    ")])])],1)},r=[],o=i("f494"),l={mixins:[o["b"]]},c=l,u=i("2877"),d=Object(u["a"])(c,a,r,!1,null,null,null),m=d.exports,p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("card-container",{attrs:{document:t.document,target:t.target,highlighted:t.highlighted}},[i("card-title",[i("document-title",{attrs:{document:t.document}})],1),t._v(" "),i("card-row",[i("textual-array",{attrs:{array:t.document.categories,i18n:"","i18n-context":"article_categories"}})],1),t._v(" "),i("card-row",[i("span",[i("icon-creative-commons"),t._v(" "),i("span",[t._v(t._s(t.$gettext(t.document.article_type,"article_types")))])],1)]),t._v(" "),i("card-row",[i("card-activities-item",{attrs:{activities:t.document.activities}}),t._v(" "),i("marker-quality",{attrs:{quality:t.document.quality}})],1)],1)},h=[],v={mixins:[o["b"]]},f=v,_=Object(u["a"])(f,p,h,!1,null,null,null),g=_.exports,b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("card-container",{attrs:{document:t.document,target:t.target,highlighted:t.highlighted}},[i("card-title",[i("document-title",{attrs:{document:t.document}})],1),t._v(" "),i("card-row",[i("textual-array",{attrs:{array:t.document.book_types,i18n:"","i18n-context":"book_types"}})],1),t._v(" "),i("card-row",[i("span",[i("fa-icon",{attrs:{icon:"pen"}}),t._v("\n      "+t._s(t.document.author)+"\n    ")],1)]),t._v(" "),i("card-row",[i("card-activities-item",{attrs:{activities:t.document.activities}}),t._v(" "),i("marker-quality",{attrs:{quality:t.document.quality}})],1)],1)},y=[],w={mixins:[o["b"]]},x=w,C=Object(u["a"])(x,b,y,!1,null,null,null),k=C.exports,$=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("card-container",{attrs:{document:t.document,target:t.target,highlighted:t.highlighted}},[i("card-title",[i("document-title",{attrs:{document:t.document}})],1),t._v(" "),i("card-row",[i("card-region-item",{attrs:{document:t.document}})],1),t._v(" "),i("card-row",[i("span",[t._v(t._s(t.document.code)+" - "+t._s(t.document.editor))])])],1)},L=[],q={mixins:[o["b"]]},M=q,S=Object(u["a"])(M,$,L,!1,null,null,null),E=S.exports,O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("card-container",{attrs:{document:t.document,target:t.target,highlighted:t.highlighted}},[i("card-title",[i("document-title",{staticClass:"is-ellipsed-tablet",attrs:{document:t.document}}),t._v(" "),i("marker-condition",{staticClass:"is-pulled-right",attrs:{condition:t.document.condition_rating}})],1),t._v(" "),i("card-row",[i("card-region-item",{attrs:{document:t.document}}),t._v(" "),i("span",{staticClass:"is-nowrap"},[i("fa-icon",{staticClass:"card-icon",attrs:{icon:"pen"}}),t._v(" "),i("span",[t._v(" "+t._s(t._f("uppercaseFirstLetter")(t.document.author.name)))])],1)],1),t._v(" "),i("card-row",[i("span",[i("icon-ratings",{staticClass:"card-icon"}),t._v(" "),i("document-rating",{attrs:{document:t.document}})],1),t._v(" "),i("card-elevation-item",{staticClass:"is-ellipsed",attrs:{elevation:t.document.elevation_max}}),t._v(" "),t.document.height_diff_up?i("span",{attrs:{title:t.$gettext("height_diff_up")}},[i("icon-height-diff-up",{staticClass:"card-icon"}),t._v("\n      "+t._s(t.document.height_diff_up)+" m\n    ")],1):i("span")],1),t._v(" "),i("card-row",[i("card-activities-item",{attrs:{activities:t.document.activities}}),t._v(" "),i("span",{staticClass:"card-icon is-nowrap"},[t.document.geometry.has_geom_detail?i("marker-gps-trace"):t._e(),t._v(" "),i("span",[t._v(" ")]),t._v(" "),i("marker-image-count",{attrs:{"image-count":t.document.img_count}})],1),t._v(" "),i("span",{staticClass:"is-nowrap"},[t._v("\n      "+t._s(t.$dateUtils.toLocalizedString(t.document.date_end,"PP"))+"\n    ")]),t._v(" "),i("marker-quality",{attrs:{quality:t.document.quality}})],1)],1)},D=[],T={mixins:[o["b"]]},A=T,P=Object(u["a"])(A,O,D,!1,null,null,null),j=P.exports,N=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("card-container",{attrs:{document:t.document,target:t.target,highlighted:t.highlighted}},[i("card-title",[i("document-title",{attrs:{document:t.document}})],1),t._v(" "),i("card-row",[i("card-region-item",{attrs:{document:t.document}}),t._v(" "),i("span",{staticClass:"is-nowrap"},[i("icon-forum"),t._v("\n      @"+t._s(t.document.forum_username)+"\n    ")],1)],1),t._v(" "),i("card-row",[t.document.activities?i("card-activities-item",{attrs:{activities:t.document.activities}}):t._e(),t._v("\n     \n\n    "),t.document.categories?i("textual-array",{staticClass:"is-ellipsed",attrs:{array:t.document.categories,i18n:"","i18n-context":"user_categories"}}):t._e()],1)],1)},z=[],I={mixins:[o["b"]]},F=I,V=Object(u["a"])(F,N,z,!1,null,null,null),U=V.exports,B=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("card-container",{attrs:{document:t.document,target:t.target,highlighted:t.highlighted}},[i("card-title",[i("document-title",{staticClass:"is-ellipsed-tablet",attrs:{document:t.document}})],1),t._v(" "),i("card-row",[i("card-region-item",{attrs:{document:t.document}})],1),t._v(" "),i("card-row",[i("span",{staticClass:"is-nowrap"},[i("icon-ratings",{staticClass:"card-icon"}),t._v(" "),i("document-rating",{attrs:{document:t.document}})],1),t._v(" "),i("card-elevation-item",{staticClass:"is-ellipsed",attrs:{elevation:t.document.elevation_max}}),t._v(" "),t.document.height_diff_up?i("span",{staticClass:"is-ellipsed",attrs:{title:t.$gettext("height_diff_up")}},[i("icon-height-diff-up",{staticClass:"card-icon"}),t._v("\n      "+t._s(t.document.height_diff_up)+" m\n    ")],1):t._e(),t._v(" "),t.document.height_diff_difficulties?i("span",{staticClass:"is-ellipsed",attrs:{title:t.$gettext("height_diff_difficulties")}},[i("fa-icon",{staticClass:"card-icon",attrs:{icon:"arrows-alt-v"}}),t._v("\n      "+t._s(t.document.height_diff_difficulties)+" m\n    ")],1):t._e()],1),t._v(" "),i("card-row",[i("card-activities-item",{attrs:{activities:t.document.activities}}),t._v(" "),i("span",{staticClass:"card-icon"},[t.document.geometry.has_geom_detail?i("marker-gps-trace"):t._e()],1),t._v(" "),t.document.orientations&&0!=t.document.orientations.length?i("span",{staticClass:"is-ellipsed",attrs:{title:t.$gettext("orientations")}},[i("fa-icon",{staticClass:"card-icon",attrs:{icon:"compass"}}),t._v("\n      "+t._s(t.document.orientations.join(", "))+"\n    ")],1):t._e(),t._v(" "),i("marker-quality",{attrs:{quality:t.document.quality}})],1)],1)},R=[],H={mixins:[o["b"]]},G=H,Z=Object(u["a"])(G,B,R,!1,null,null,null),W=Z.exports,Y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("card-container",{attrs:{document:t.document,target:t.target,highlighted:t.highlighted}},[i("card-title",[i("span",{staticClass:"is-ellipsed-tablet"},[i("icon-waypoint-type",{attrs:{"waypoint-type":t.document.waypoint_type}}),t._v(" "),i("document-title",{attrs:{document:t.document}})],1)]),t._v(" "),i("card-row",[i("card-region-item",{attrs:{document:t.document}})],1),t._v(" "),i("card-row",[i("card-elevation-item",{attrs:{elevation:t.document.elevation}}),t._v(" "),i("textual-array",{attrs:{array:t.document.slackline_types,i18n:"","i18n-context":"slackline_types"}}),t._v(" "),i("marker-quality",{attrs:{quality:t.document.quality}})],1)],1)},J=[],Q={mixins:[o["b"]]},K=Q,X=Object(u["a"])(K,Y,J,!1,null,null,null),tt=X.exports,et=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("card-container",{attrs:{document:t.document,target:t.target,highlighted:t.highlighted}},[i("card-title",[i("document-title",{staticClass:"is-ellipsed",attrs:{document:t.document,"uppercase-first-letter":""}})],1),t._v(" "),i("card-row",[i("card-region-item",{attrs:{document:t.document}}),t._v(" "),i("card-elevation-item",{attrs:{elevation:t.document.elevation}})],1),t._v(" "),i("card-row",[t.document.event_type?i("span",{staticClass:"is-ellipsed"},[t._v("\n      "+t._s(t.$gettext(t.document.event_type,"event_types"))+"\n    ")]):t._e()]),t._v(" "),i("card-row",[i("card-event-activity-item",{attrs:{"event-activity":t.document.event_activity}}),t._v(" "),i("span",{staticClass:"is-nowrap"},[t._v("\n      "+t._s(t.$dateUtils.toLocalizedString(t.document.date,"PP"))+"\n    ")]),t._v(" "),i("marker-quality",{attrs:{quality:t.document.quality}})],1)],1)},it=[],st={mixins:[o["b"]]},nt=st,at=Object(u["a"])(nt,et,it,!1,null,null,null),rt=at.exports,ot=i("a50d"),lt={components:{AreaCard:m,ArticleCard:g,BookCard:k,MapCard:E,OutingCard:j,ProfileCard:U,RouteCard:W,WaypointCard:tt,XreportCard:rt},mixins:[ot["a"]],props:{showDeleteButton:{type:Boolean,default:!1},target:{type:String,default:void 0},highlighted:{type:Boolean,default:!1}}},ct=lt,ut=(i("a687"),Object(u["a"])(ct,s,n,!1,null,"381c9c50",null));e["default"]=ut.exports},"2a7d":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("router-link",{directives:[{name:"show",rawName:"v-show",value:!t.$user.isLogged,expression:"!$user.isLogged"}],staticClass:"button is-primary",attrs:{to:{name:"auth"}}},[t._t("default",[i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Login")])])],2)},n=[],a=i("2877"),r={},o=Object(a["a"])(r,s,n,!1,null,null,null);e["default"]=o.exports},"2afa":function(t,e,i){"use strict";i("73ae")},"2b05":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"control",attrs:{title:t.value_.join(", ")}},[i("svg",{staticClass:"input-orientation is-unselectable",class:{"is-read-only":t.disabled},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",version:"1.1",viewBox:"0 0 454.00715 454.00714"}},[i("g",{class:{"input-orientation-selected":t.value_.indexOf("E")>-1},on:{click:function(e){return t.toggle("E")}}},[i("path",{attrs:{d:"m370.28 168.82-142.14 58.18 142.14 58.185h0.005l83.722-58.185z"}}),t._v(" "),i("text",{attrs:{y:"247.58344",x:"350","font-size":"60"}},[t._v("E")])]),t._v(" "),i("g",{class:{"input-orientation-selected":t.value_.indexOf("W")>-1},on:{click:function(e){return t.toggle("W")}}},[i("path",{attrs:{d:"m83.727 168.82 142.14 58.18-142.14 58.185h-0.0046l-83.725-58.18z"}}),t._v(" "),i("text",{attrs:{y:"247.58344",x:"56","font-size":"60"}},[t._v("W")])]),t._v(" "),i("g",{class:{"input-orientation-selected":t.value_.indexOf("S")>-1},on:{click:function(e){return t.toggle("S")}}},[i("path",{attrs:{d:"m285.19 370.28-58.18-142.14-58.185 142.14v0.005l58.185 83.722z"}}),t._v(" "),i("text",{attrs:{y:"390.00714",x:"206.10295","font-size":"60"}},[t._v("S")])]),t._v(" "),i("g",{class:{"input-orientation-selected":t.value_.indexOf("N")>-1},on:{click:function(e){return t.toggle("N")}}},[i("path",{attrs:{d:"m285.19 83.727-58.18 142.14-58.19-142.14v-0.005l58.19-83.725z"}}),t._v(" "),i("text",{attrs:{y:"105.007141",x:"205.0424","font-size":"60"}},[t._v("N")])]),t._v(" "),i("g",{class:{"input-orientation-selected":t.value_.indexOf("SE")>-1},on:{click:function(e){return t.toggle("SE")}}},[i("path",{attrs:{d:"m369.46 287.17-141.65-59.371 59.368 141.65 0.002 0.002 100.34 18.058z"}})]),t._v(" "),i("g",{class:{"input-orientation-selected":t.value_.indexOf("NW")>-1},on:{click:function(e){return t.toggle("NW")}}},[i("path",{attrs:{d:"m166.83 84.55 59.371 141.65-141.65-59.368-0.0032-0.002l-18.058-100.34z"}})]),t._v(" "),i("g",{class:{"input-orientation-selected":t.value_.indexOf("SW")>-1},on:{click:function(e){return t.toggle("SW")}}},[i("path",{attrs:{d:"m166.83 369.46 59.371-141.65-141.65 59.368-0.0032 0.002-18.058 100.34z"}})]),t._v(" "),i("g",{class:{"input-orientation-selected":t.value_.indexOf("NE")>-1},on:{click:function(e){return t.toggle("NE")}}},[i("path",{attrs:{d:"m369.46 166.83-141.65 59.371 59.368-141.65 0.002-0.002 100.34-18.058z"}})])])])},n=[],a=i("4b81"),r={mixins:[a["b"],a["a"]]},o=r,l=(i("2bb7f"),i("2877")),c=Object(l["a"])(o,s,n,!1,null,"3d1460d0",null);e["default"]=c.exports},"2b8f":function(t,e,i){},"2b90":function(t,e,i){"use strict";i("f4ad")},"2bb7f":function(t,e,i){"use strict";i("4f20")},"2d99":function(t,e,i){"use strict";i("5a2e")},"2e3b":function(t,e,i){},"2e60":function(t,e,i){"use strict";i("b17d")},"2f83":function(t,e,i){},3039:function(t,e,i){},"30b8":function(t,e,i){},"30c7":function(t,e,i){"use strict";i("6a39")},"313f":function(t,e,i){"use strict";i("3f97")},3161:function(t,e,i){t.exports=i.p+"img/pentes_amont.cfcc9ccc.webp"},"338f":function(t,e,i){"use strict";i("dcac")},3405:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return null!==t.activities?i("span",t._l(t.sortedActivities,(function(e){return i("span",{key:e,staticClass:"replace-icon-by-names-on-print",attrs:{title:t.$gettext(e,"activities")}},[i("icon-activity",{attrs:{activity:e}})],1)})),0):t._e()},n=[],a={props:{activities:{type:Array,default:null}},computed:{sortedActivities(){return this.activities.slice(0).sort()}}},r=a,o=(i("20df"),i("2877")),l=Object(o["a"])(r,s,n,!1,null,"2de7cfed",null);e["default"]=l.exports},"35f9":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"container",staticClass:"content markdown-content"})},n=[],a=(i("5319"),i("ddb0"),i("ecee")),r=i("14ac");function o(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&(void 0===t.button||0===t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}const l=function(t,e){let i=Object(a["b"])({prefix:t,iconName:e}).html[0];return i=i.replace('fill="currentColor"','fill="#F93"'),"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(i)},c=function(t,e){return"emojione"===t?`https://cdn.jsdelivr.net/emojione/assets/svg/${e}.svg`:"c2c-activities"===t?l("activity",e):"c2c-waypoints"===t?l("waypoint",e):void 0};var u={props:{content:{type:String,required:!0}},watch:{content:"compute"},mounted(){this.compute()},methods:{compute(){const t=this.$refs.container,e=function(e,i){const s=t.querySelectorAll(e);for(const t of s)t.classList.add(...i)};t.innerHTML=this.content,this.content.includes("c2c:role")&&(this.computeFigures(t.querySelectorAll("figure[c2c\\:role=embedded-figure]")),this.computeImages(t.querySelectorAll("img[c2c\\:role=embedded-image]")),this.computeEmojis(t.querySelectorAll("img[c2c\\:role=emoji]")),this.computeAnchors(t.querySelectorAll("a[c2c\\:role=internal-link]")),this.computeVideos(t.querySelectorAll("div[c2c\\:role=video] > iframe")),e("div[c2c\\:role=info]",["notification","is-info"]),e("div[c2c\\:role=warning]",["notification","is-warning"]),e("div[c2c\\:role=danger]",["notification","is-danger"]),e("table[c2c\\:role=ltag]",["table"]))},computeVideos(t){for(const e of t)e.setAttribute("allowfullscreen",!0)},computeEmojis(t){for(const e of t){const t=e.attributes["c2c:emoji-db"].value,i=e.attributes["c2c:svg-name"].value;e.src=c(t,i)}},computeFigures(t){for(const e of t){const t=e.children[0],i=t.attributes["c2c:size"];i&&e.setAttribute("c2c:size",i.value)}},computeImages(t){for(const e of t)e.c2cExtrapoledDocument={document_id:parseInt(e.attributes["c2c:document-id"].value,10),locales:[{title:"..."}],available_langs:[this.$language.current],type:"i"},e.src=r["a"].urls.api+e.attributes["c2c:url-proxy"].value,e.addEventListener("click",()=>{this.$imageViewer.show(e.c2cExtrapoledDocument)}),this.$imageViewer.push(e.c2cExtrapoledDocument)},computeAnchors(t){for(const e of t){const t=e.attributes,{location:i,href:s}=this.$router.resolve({name:t["c2c:document-type"].value.slice(0,-1),params:{id:parseInt(t["c2c:document-id"].value,10),lang:t["c2c:lang"]?t["c2c:lang"].value:void 0,title:t["c2c:slug"]?t["c2c:slug"].value:void 0},hash:t["c2c:anchor"]?"#"+t["c2c:anchor"].value:void 0});e.href=s,e.addEventListener("click",t=>{o(t)&&this.$router.push(i)})}}}},d=u,m=(i("c458"),i("2877")),p=Object(m["a"])(d,s,n,!1,null,null,null);e["default"]=p.exports},"36ea":function(t,e,i){},"37c0":function(t,e,i){"use strict";i("1d9c")},"37da":function(t,e,i){t.exports=i.p+"img/pentes_amont.bbeae023.jpg"},"384b":function(t,e,i){"use strict";i("9f21")},"3b2a":function(t,e,i){},"3b88":function(t,e,i){},"3bba":function(t,e,i){"use strict";i("5d16")},"3d7f":function(t,e,i){t.exports=i.p+"img/logo-fondation-petzl.1d7d0bdd.avif"},"3de2":function(t,e,i){"use strict";i("675d")},"3e0c":function(t,e,i){t.exports=i.p+"img/mrd_carte.8a395fea.avif"},"3f97":function(t,e,i){},"419f":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fa-icon",{attrs:{icon:"atlas"}})},n=[],a=i("2877"),r={},o=Object(a["a"])(r,s,n,!1,null,null,null);e["default"]=o.exports},4208:function(t,e,i){},4231:function(t,e,i){"use strict";(function(t){var s=i("14ac");const n="//s7.addthis.com/js/300/addthis_widget.js";e["a"]={data(){return{visible:!1}},mounted(){if(t.browser){if(null!==document.getElementById("addthis-script"))return void this.onAddthisLoad();const t=document.createElement("script");t.setAttribute("id","addthis-script"),t.setAttribute("src",`${n}#pubid=${s["a"].addthisPublicId}`),t.onload=this.onAddthisLoad,document.body.appendChild(t)}},methods:{onAddthisLoad(){this.visible=!0,window.addthis.button(".social-network-sharing")}}}}).call(this,i("4362"))},4321:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.promise.data||t.promise.error?t.notFound?i("not-found"):t.promise.error?i("div",{staticClass:"notification is-danger"},[t._v("\n    "+t._s(t.promise.error.message)+"\n  ")]):t._e():i("div",{staticClass:"notification is-primary"},[t._v("Loading")])],1)},n=[],a=i("5fff"),r={components:{NotFound:a["a"]},props:{promise:{type:[Object,Promise],required:!0}},computed:{notFound(){var t,e,i;return Boolean(404===(null===(t=this.promise)||void 0===t||null===(e=t.error)||void 0===e||null===(i=e.response)||void 0===i?void 0:i.status))}}},o=r,l=i("2877"),c=Object(l["a"])(o,s,n,!1,null,null,null);e["default"]=c.exports},"439b":function(t,e,i){"use strict";i("53f7")},"43bc":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(t.disabled?"span":"router-link",{tag:"component",attrs:{to:{name:"associations-history",query:t.query}}},[t._t("default")],2)},n=[],a={props:{disabled:{type:Boolean,default:!1},documentId:{type:Number,default:null},userId:{type:Number,default:null},limit:{type:Number,default:null},offset:{type:Number,default:null}},computed:{query(){const t={};return this.offset&&(t.offset=this.offset),this.limit&&(t.limit=this.limit),this.documentId&&(t.d=this.documentId),this.userId&&(t.u=this.userId),t}}},r=a,o=i("2877"),l=Object(o["a"])(r,s,n,!1,null,null,null);e["default"]=l.exports},"444c":function(t,e,i){"use strict";i("fd83")},"44a5":function(t,e,i){"use strict";i("f0b3")},"44c1":function(t,e,i){},"457a":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.imageCount&&t.imageCount>0?i("span",{attrs:{title:t.imageCount+" "+t.$gettext("images")}},[i("icon-image")],1):t._e()},n=[],a={props:{imageCount:{type:Number,default:null}}},r=a,o=i("2877"),l=Object(o["a"])(r,s,n,!1,null,null,null);e["default"]=l.exports},4683:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{attrs:{title:t.$gettext("GPS Track")}},[i("icon-geometry-detail")],1)},n=[],a=i("2877"),r={},o=Object(a["a"])(r,s,n,!1,null,null,null);e["default"]=o.exports},"47b4":function(t,e,i){},"48ec":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("swiper",{staticClass:"swiper",attrs:{options:t.$options.swiperOption}},t._l(t.images,(function(e){return i("swiper-slide",{key:e.document_id},[i("img",{attrs:{src:t.getUrl(e),alt:e.locales[0].title,title:e.locales[0].title},on:{click:function(i){return t.$imageViewer.show(e)}}})])})),1)},n=[],a=i("7212"),r=i("e952"),o={components:{Swiper:a["Swiper"],SwiperSlide:a["SwiperSlide"]},props:{images:{type:Array,required:!0}},watch:{images:function(){this.images.map(this.$imageViewer.push)}},created(){this.images.map(this.$imageViewer.push)},methods:{getUrl(t){return r["a"].getMedium(t)}},swiperOption:{slidesPerView:"auto",spaceBetween:15}},l=o,c=(i("8b52"),i("2877")),u=Object(c["a"])(l,s,n,!1,null,"2849a52c",null);e["a"]=u.exports},4947:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section has-background-white-print"},[i("document-view-header",{attrs:{document:t.document,version:t.version,promise:t.promise}}),t._v(" "),t.document?i("div",{staticClass:"columns"},[i("div",{staticClass:"column is-3"},[i("div",{staticClass:"box"},[t.document.activities&&t.document.activities.length?i("activities-field",{attrs:{document:t.document}}):t._e(),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.date_time}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.author}}),t._v(" "),t.document.creator?i("label-value",{attrs:{label:t.$gettext("contributor")}},[i("author-link",{attrs:{author:t.document.creator}})],1):t._e(),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.image_type}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.quality}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.categories}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.camera_name}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.exposure_time}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.fnumber}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.focal_length}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.iso_speed}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.filename}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.file_size,unit:"ko",divisor:1024}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.height}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.width}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.elevation}})],1),t._v(" "),i("map-box",{attrs:{document:t.document}}),t._v(" "),i("tool-box",{attrs:{document:t.document}})],1),t._v(" "),i("div",{staticClass:"column is-9"},[i("div",{staticClass:"box is-paddingless"},[i("a",{attrs:{href:t.getOriginalImageUrl(t.document)}},[i("img",{staticClass:"main-image",attrs:{src:t.getBigImageUrl(t.document)}})])]),t._v(" "),t.locale.summary||t.locale.description?i("div",{staticClass:"box"},[i("markdown-section",{attrs:{document:t.document,field:t.fields.summary}}),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.description,"hide-title":""}}),t._v(" "),i("div",{staticStyle:{clear:"both"}})],1):t._e(),t._v(" "),i("routes-box",{attrs:{document:t.document,"hide-buttons":""}}),t._v(" "),i("recent-outings-box",{attrs:{document:t.document,"hide-see-all-results-button":""}}),t._v(" "),t.document?i("images-box",{attrs:{document:t.document}}):t._e(),t._v(" "),i("comments-box",{attrs:{document:t.document}})],1)]):t._e()],1)},n=[],a=i("6197"),r=i("e952"),o={mixins:[a["a"]],methods:{getOriginalImageUrl:r["a"].get,getBigImageUrl:r["a"].getBig}},l=o,c=(i("9111"),i("2877")),u=Object(c["a"])(l,s,n,!1,null,"5a21c1cf",null);e["a"]=u.exports},4959:function(t,e,i){},"4a54":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("router-link",{attrs:{to:{name:t.documentType,params:{id:t.document.document_id,lang:t.lang}},target:t.target,title:t.$documentUtils.getDocumentTitle(t.document,t.$route.params.lang)}},[t._t("default",[i("document-title",{attrs:{document:t.document,"uppercase-first-letter":t.uppercaseFirstLetter}})])],2)},n=[],a=i("a50d"),r={mixins:[a["a"]],props:{lang:{type:String,default:null},uppercaseFirstLetter:{type:Boolean,default:!1},target:{type:String,default:void 0}}},o=r,l=i("2877"),c=Object(l["a"])(o,s,n,!1,null,null,null);e["default"]=c.exports},"4b28":function(t,e,i){},"4b81":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"a",(function(){return n}));const s={props:{type:{type:String,default:"text"},disabled:{type:Boolean,default:null},required:{type:Boolean,default:null},hasError:{type:Boolean,default:!1},i18n:{type:Boolean,default:!1},divisor:{type:Number,default:void 0},placeholder:{type:String,default:null}},computed:{value_:{get(){return"number"===this.type&&void 0!==this.divisor&&this.value?this.value/this.divisor:this.value},set(t){this.disabled||(t="number"===this.type&&void 0!==this.divisor&&t?t*this.divisor:t,this.$emit("input",t))}}}},n={props:{value:{type:Array,default:null}},computed:{value_:{get(){return this.value?this.value:[]},set(t){this.disabled||this.$emit("input",t)}}},methods:{toggle(t){if(this.disabled)return;const e=this.value_.slice(0);e.includes(t)?e.splice(e.indexOf(t),1):e.push(t),0===e.length&&this.required||(this.value_=e)}}}},"4d2e":function(t,e,i){},"4d66":function(t,e,i){},"4ed6":function(t,e,i){"use strict";i("4d2e")},"4f20":function(t,e,i){},"4f37":function(t,e,i){t.exports=i.p+"img/mre.a1a08ee5.avif"},"4f4e":function(t,e,i){},5020:function(t,e,i){},5061:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fa-icon",{attrs:{icon:"user"}})},n=[],a=i("2877"),r={},o=Object(a["a"])(r,s,n,!1,null,null,null);e["default"]=o.exports},5195:function(t,e,i){"use strict";i("8caa")},5222:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dropdown",class:{"is-active":t.isActive}},[i("div",{staticClass:"dropdown-trigger",on:{click:function(e){t.isActive=!t.isActive&&!t.disabled}}},[i("span",{attrs:{"aria-haspopup":"true","aria-controls":"dropdown-menu"}},[t._t("button")],2)]),t._v(" "),i("div",{staticClass:"dropdown-menu",attrs:{id:"dropdown-menu",role:"menu"}},[i("div",{staticClass:"dropdown-content"},[t._t("default")],2)])])},n=[],a={props:{disabled:{type:Boolean,default:null}},data(){return{isActive:!1}},created(){window.addEventListener("click",this.onClick)},beforeDestroy(){window.removeEventListener("click",this.onClick)},methods:{onClick(t){this.$el.contains(t.target)||(this.isActive=!1)}}},r=a,o=i("2877"),l=Object(o["a"])(r,s,n,!1,null,null,null);e["default"]=l.exports},"522a":function(t,e,i){"use strict";i("8bfa")},"52a7":function(t,e,i){},5316:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fa-icon",{staticClass:"icon-yeti",attrs:{icon:"exclamation",transform:"shrink-6 rotate-45",mask:"square"}})},n=[],a=(i("6e91"),i("2877")),r={},o=Object(a["a"])(r,s,n,!1,null,"463ca1de",null);e["default"]=o.exports},"53f3":function(t,e,i){},"53f7":function(t,e,i){},5468:function(t,e,i){},"54e3":function(t){t.exports=JSON.parse('{"attributes":{"access_conditions":["cleared","snowy","closed_snow","closed_cleared"],"access_times":["1min","5min","10min","15min","20min","30min","45min","1h","1h30","2h","2h30","3h","3h+"],"activities":["skitouring","snow_ice_mixed","mountain_climbing","rock_climbing","ice_climbing","hiking","snowshoeing","paragliding","mountain_biking","via_ferrata","slacklining"],"activity_rates":["activity_rate_y5","activity_rate_m2","activity_rate_w1"],"aid_ratings":["A0","A0+","A1","A1+","A2","A2+","A3","A3+","A4","A4+","A5","A5+"],"area_types":["range","admin_limits","country"],"article_categories":["mountain_environment","gear","technical","topoguide_supplements","soft_mobility","expeditions","stories","c2c_meetings","tags","site_info","association"],"article_types":["collab","personal"],"author_statuses":["primary_impacted","secondary_impacted","internal_witness","external_witness"],"autonomies":["non_autonomous","autonomous","expert"],"avalanche_levels":["level_1","level_2","level_3","level_4","level_5","level_na"],"avalanche_signs":["no","danger_sign","recent_avalanche","natural_avalanche","accidental_avalanche"],"avalanche_slopes":["slope_lt_30","slope_30_35","slope_35_40","slope_40_45","slope_gt_45"],"book_types":["topo","environment","historical","biography","photos-art","novel","technics","tourism","magazine"],"children_proof_types":["very_safe","safe","dangerous","very_dangerous"],"climbing_indoor_types":["pitch","bloc"],"climbing_outdoor_types":["single","multi","bloc","psicobloc"],"climbing_ratings":["2","3a","3b","3c","4a","4b","4c","5a","5a+","5b","5b+","5c","5c+","6a","6a+","6b","6b+","6c","6c+","7a","7a+","7b","7b+","7c","7c+","8a","8a+","8b","8b+","8c","8c+","9a","9a+","9b","9b+","9c","9c+"],"climbing_styles":["slab","vertical","overhang","roof","small_pillar","crack_dihedral"],"condition_ratings":["excellent","good","average","poor","awful"],"custodianship_types":["accessible_when_wardened","always_accessible","key_needed","no_warden"],"engagement_ratings":["I","II","III","IV","V","VI"],"equipment_ratings":["P1","P1+","P2","P2+","P3","P3+","P4","P4+"],"event_activities":["sport_climbing","multipitch_climbing","alpine_climbing","snow_ice_mixed","ice_climbing","skitouring","other"],"event_types":["avalanche","stone_ice_fall","ice_cornice_collapse","person_fall","crevasse_fall","physical_failure","injury_without_fall","blocked_person","weather_event","safety_operation","critical_situation","other"],"exposition_ratings":["E1","E2","E3","E4"],"exposition_rock_ratings":["E1","E2","E3","E4","E5","E6"],"frequentation_types":["quiet","some","crowded","overcrowded"],"genders":["male","female"],"glacier_gear_types":["no","glacier_safety_gear","crampons_spring","crampons_req","glacier_crampons"],"glacier_ratings":["easy","possible","difficult","impossible"],"global_ratings":["F","F+","PD-","PD","PD+","AD-","AD","AD+","D-","D","D+","TD-","TD","TD+","ED-","ED","ED+","ED4","ED5","ED6","ED7"],"ground_types":["prairie","scree","snow"],"hiking_ratings":["T1","T2","T3","T4","T5"],"hut_status":["open_guarded","open_non_guarded","closed_hut"],"ice_ratings":["1","2","3","3+","4","4+","5","5+","6","6+","7","7+"],"image_categories":["landscapes","detail","action","track","rise","descent","topo","people","fauna","flora","nivology","geology","hut","equipment","book","help","misc"],"image_types":["collaborative","personal","copyright"],"labande_ski_ratings":["S1","S2","S3","S4","S5","S6","S7"],"langs":["fr","en","it","de","es","ca","eu"],"lift_status":["open","closed"],"mixed_ratings":["M1","M2","M3","M3+","M4","M4+","M5","M5+","M6","M6+","M7","M7+","M8","M8+","M9","M9+","M10","M10+","M11","M11+","M12","M12+"],"months":["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],"mtb_down_ratings":["V1","V2","V3","V4","V5"],"mtb_up_ratings":["M1","M2","M3","M4","M5"],"orientation_types":["N","NE","E","SE","S","SW","W","NW"],"paragliding_ratings":["1","2","3","4"],"parking_fee_types":["yes","seasonal","no"],"previous_injuries":["no","previous_injuries_2"],"product_types":["farm_sale","restaurant","grocery","bar","sport_shop"],"public_transportation_ratings":["good service","seasonal service","poor service","nearby service","no service"],"public_transportation_types":["train","bus","service_on_demand","boat"],"qualification":["federal_supervisor","federal_trainer","professional_diploma"],"quality_types":["empty","draft","medium","fine","great"],"rain_proof_types":["exposed","partly_protected","protected","inside"],"risk_ratings":["X1","X2","X3","X4","X5"],"rock_types":["basalte","calcaire","conglomerat","craie","gneiss","gres","granit","migmatite","mollasse_calcaire","pouding","quartzite","rhyolite","schiste","trachyte","artificial"],"route_configuration_types":["edge","pillar","face","corridor","goulotte","glacier"],"route_duration_types":["1","2","3","4","5","6","7","8","9","10","10+"],"route_types":["return_same_way","loop","loop_hut","traverse","raid","expedition"],"severities":["severity_no","1d_to_3d","4d_to_1m","1m_to_3m","more_than_3m"],"ski_ratings":["1.1","1.2","1.3","2.1","2.2","2.3","3.1","3.2","3.3","4.1","4.2","4.3","5.1","5.2","5.3","5.4","5.5","5.6"],"slackline_types":["slackline","highline","waterline"],"snow_clearance_ratings":["often","sometimes","progressive","naturally","closed_in_winter","non_applicable"],"snow_quality_ratings":["excellent","good","average","poor","awful"],"snow_quantity_ratings":["excellent","good","average","poor","awful"],"snowshoe_ratings":["R1","R2","R3","R4","R5"],"supervision":["no_supervision","federal_supervision","professional_supervision"],"user_categories":["amateur","mountain_guide","mountain_leader","ski_instructor","climbing_instructor","mountainbike_instructor","paragliding_instructor","hut_warden","ski_patroller","avalanche_forecaster","club","institution"],"via_ferrata_ratings":["K1","K2","K3","K4","K5","K6"],"waypoint_types":["summit","pass","lake","waterfall","locality","bisse","canyon","access","climbing_outdoor","climbing_indoor","hut","gite","shelter","bivouac","camp_site","base_camp","local_product","paragliding_takeoff","paragliding_landing","cave","waterpoint","weather_station","webcam","virtual","slackline_spot","misc"],"weather_station_types":["temperature","wind_speed","wind_direction","humidity","pressure","precipitation","precipitation_heater","snow_height","insolation"]},"letter_types":["a","c","i","m","o","r","u","w","b","x"]}')},"55c1":function(t,e,i){"use strict";i("3039")},5630:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fa-icon",{class:"icon-condition-"+t.condition,attrs:{icon:[null!==t.condition?"fas":"far","circle"]}})},n=[],a={props:{condition:{type:String,required:!1,default:null}}},r=a,o=(i("67b4"),i("2877")),l=Object(o["a"])(r,s,n,!1,null,"b9ea8ac4",null);e["default"]=l.exports},"56d7":function(t,e,i){"use strict";i.r(e);i("a79d");var s=i("4b44"),n=i("2b0e"),a=i("0284"),r=i.n(a),o=i("342d"),l=i.n(o),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("side-menu",{staticClass:"side-menu no-print",class:{"alternative-side-menu":t.alternativeSideMenu}}),t._v(" "),i("navigation",{staticClass:"navigation no-print",on:{"toggle-side-menu":function(e){t.alternativeSideMenu=!t.alternativeSideMenu}}}),t._v(" "),i("site-notice",{ref:"siteNotice no-print",staticClass:"no-print site-notice"}),t._v(" "),i("image-viewer",{ref:"imageViewer"}),t._v(" "),i("helper-window",{ref:"helper"}),t._v(" "),i("alert-window",{ref:"alertWindow"}),t._v(" "),t.alternativeSideMenu?i("div",{staticClass:"alternative-side-menu-shader",on:{click:function(e){t.alternativeSideMenu=!1}}}):t._e(),t._v(" "),i("div",{staticClass:"page-content is-block-print"},[i("router-view",{staticClass:"router-view"})],1)],1)},u=[],d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("modal-window",{ref:"modalWindow",attrs:{small:"","has-transparent-shader":"","is-danger":""}},[i("ul",t._l(t.messages,(function(e,s){return i("li",{key:s},[t._v("\n      "+t._s(e)+"\n    ")])})),0)])},m=[],p={data(){return{messages:null}},methods:{show(t){this.messages=t,this.$refs.modalWindow.show()}}},h=p,v=i("2877"),f=Object(v["a"])(h,d,m,!1,null,null,null),_=f.exports,g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("modal-card",{ref:"modalCard"},[i("div",{attrs:{slot:"title"},slot:"title"},[i("p",{class:{"has-text-danger":!t.headerFound}},[t._v("\n      "+t._s(t.title)+"\n    ")]),t._v(" "),i("p",{staticClass:"buttons"})]),t._v(" "),i("section",{staticClass:"content",domProps:{innerHTML:t._s(t.html)}}),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[t.helper?i("div",{staticClass:"buttons"},[i("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"button is-primary",on:{click:function(e){return t.$refs.modalCard.hide()}}},[t._v("Close")]),t._v(" "),t.$user.isLogged&&t.showModifyButton?i("router-link",{attrs:{to:{name:"article",params:{id:t.helper.documentId}},target:"_blank"}},[i("span",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"button is-info"},[t._v(" Edit ")])]):t._e()],1):t._e()])])},b=[],y=(i("ddb0"),i("188b")),w={data(){return{title:null,html:null,showModifyButton:!1,lang:null,helperId:"",headerFound:!1}},computed:{helper(){const t=this.helperId.match(/^(\d+)(#([a-z0-9-_]+))?$/);return t?{documentId:t[1],anchor:t[3]}:null}},methods:{show(t){this.lang=this.$language.current,this.helperId=t,this.load()},load(t){this.helper&&(this.showModifyButton=!1,this.lang=null!==t&&void 0!==t?t:this.lang,this.html=this.$gettext("loading"),y["a"].article.getCooked(this.helper.documentId,this.lang).then(this.computeHtml),this.$refs.modalCard.show())},computeHtml(t){this.showModifyButton=!t.data.protected;const e=t.data.cooked;if(this.title=e.title,this.helper.anchor){const t=document.createElement("div");t.innerHTML=e.description;const i=[];let s=!1,n=null;this.headerFound=!1;for(const e of t.children){const t=e.nodeName.match(/^[hH]\d$/);t&&!s&&e.id===this.helper.anchor?(s=!0,n=e.nodeName,this.title=e.innerHTML,this.headerFound=!0):t&&s&&e.nodeName<=n?s=!1:s&&i.push(e.outerHTML)}this.html=0!==i.length?i.join("\n"):t.innerHTML}else this.html=e.description}}},x=w,C=Object(v["a"])(x,g,b,!1,null,null,null),k=C.exports,$=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.visible?i("div",{staticClass:"image-viewer"},[i("div",{staticClass:"is-flex has-text-grey-lighter image-viewer-header"},[i("span",{staticClass:"is-size-4 is-ellipsed-tablet image-viewer-title"},[t._v("\n      "+t._s(t.activeDocument.locales[0].title||" ")+"\n    ")]),t._v(" "),i("span",{staticClass:"is-size-3 is-nowrap image-viewer-buttons"},[i("document-link",{staticClass:"has-text-grey-lighter",attrs:{document:t.activeDocument}},[i("fa-icon",{attrs:{icon:"eye"}})],1),t._v(" "),i("edit-link",{staticClass:"has-text-grey-lighter",attrs:{document:t.activeDocument,lang:t.activeDocument.available_langs[0]},on:{click:function(e){return t.close()}}},[i("fa-icon",{attrs:{icon:"edit"}})],1),t._v(" "),i("fa-icon",{staticClass:"has-cursor-pointer",attrs:{icon:"info-circle"},on:{click:function(e){return t.toggleImageInfo(t.activeDocument)}}}),t._v(" "),i("fa-icon",{staticClass:"has-cursor-pointer",attrs:{icon:t.isFullscreen?"compress":"expand"},on:{click:t.toggleFullscreen}}),t._v(" "),i("fa-icon",{staticClass:"has-cursor-pointer",attrs:{icon:"plus",transform:"rotate-45"},on:{click:function(e){return t.close()}}})],1)]),t._v(" "),i("div",{ref:"swiper",staticClass:"image-viewer-swiper"},[i("div",{staticClass:"swiper-wrapper"})]),t._v(" "),i("div",{staticClass:"swiper-button-prev"}),t._v(" "),i("div",{staticClass:"swiper-button-next"}),t._v(" "),i("div",{staticClass:"image-viewer-pagination is-hidden-mobile"},t._l(t.images,(function(e,s){return i("span",{key:e.document_id,staticClass:"image-viewer-bullet has-cursor-pointer",class:{"image-viewer-bullet-active":e===t.activeDocument},style:"width: calc((100vw - 1.5rem) / "+t.images.length+");",attrs:{title:e.locales[0].title},on:{click:function(e){return t.onPaginationClick(s)}}})})),0),t._v(" "),i("image-info",{ref:"imageInfo",staticClass:"image-viewer-info"})],1):t._e()},L=[],q=i("defa"),M=i("76d2"),S=i.n(M),E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.visible?i("div",{staticClass:"image-info has-text-light"},[i("h3",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"title is-3 has-text-light"},[t._v("Infos")]),t._v(" "),t.document?i("div",[i("p",[i("fa-icon",{attrs:{icon:"calendar"}}),t._v(" "),i("label",[t._v("\n        "+t._s(t.$dateUtils.toLocalizedString(t.document.date_time,"PPpp"))+"\n      ")])],1),t._v(" "),t.document.cooked.title?i("p",[i("fa-icon",{attrs:{icon:"tag"}}),t._v(" "),i("label",[t._v("\n        "+t._s(t.document.cooked.title)+"\n      ")])],1):t._e(),t._v(" "),t.document.cooked.summary?i("markdown",{staticClass:"is-italic",attrs:{content:t.document.cooked.summary}}):t._e(),t._v(" "),t.document.cooked.description?i("markdown",{attrs:{content:t.document.cooked.description}}):t._e(),t._v(" "),t.document.image_type?i("p",[i("icon-creative-commons"),t._v(" "),i("label",[t._v("\n        "+t._s(t.$gettext(t.document.image_type))+"\n      ")])],1):t._e(),t._v(" "),i("h4",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"title is-4 has-text-light"},[t._v("Settings")]),t._v(" "),i("ul",[t.document.camera_name?i("li",[t._v(t._s(t.document.camera_name))]):t._e(),t._v(" "),t.document.exposure_time?i("li",{attrs:{title:t.$gettext("exposure_time")}},[t._v(t._s(t.document.exposure_time)+"s")]):t._e(),t._v(" "),t.document.fnumber?i("li",{attrs:{title:t.$gettext("fnumber")}},[t._v("f/"+t._s(t.document.fnumber))]):t._e(),t._v(" "),t.document.focal_length?i("li",{attrs:{title:t.$gettext("focal_length")}},[t._v(t._s(t.document.focal_length)+" mm")]):t._e(),t._v(" "),t.document.iso_speed?i("li",{attrs:{title:t.$gettext("iso_speed")}},[t._v(t._s(t.document.iso_speed)+" ISO")]):t._e(),t._v(" "),t.document.width&&t.document.height?i("li",{attrs:{title:t.$gettext("resolution")}},[t._v("\n        "+t._s(t.document.height)+" x "+t._s(t.document.width)+" "),i("span",{attrs:{translate:""}},[t._v("pixels")])]):t._e()])],1):t._e()]):t._e()},O=[],D={data(){return{promise:{},visible:!1}},computed:{document(){return this.promise.data?this.promise.data:null}},methods:{show(t){this.visible=!0,this.promise=y["a"].image.getCooked(t,this.$language.current)},hide(){this.visible=!1},toggle(t){this.visible?this.hide():this.show(t)}}},T=D,A=(i("94c4"),Object(v["a"])(T,E,O,!1,null,"71b9aabc",null)),P=A.exports,j=i("e952");const N=function(t){t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()},z=function(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()};var I={swiper:null,zt:null,components:{ImageInfo:P},data(){return{visible:!1,images:[],activeDocument:null,isFullscreen:!1}},created(){window.addEventListener("keydown",this.onKeydown)},methods:{push(t){-1===this.images.findIndex(e=>e.document_id===t.document_id)&&this.images.push(t)},show(t){let e=this.images.findIndex(e=>e.document_id===t.document_id);-1===e&&(e=this.images.length,this.push(t)),this.activeDocument=this.images[e],this.visible=!0,this.$nextTick((function(){const t=this.images,i={init:!1,initialSlide:e,slidesPerView:1,preloadImages:!1,lazy:{loadPrevNext:!0},virtual:{slides:t,renderSlide(t){return`<div class="swiper-slide image-viewer-slide" style="{left:${this.offset}px}">\n                  <div class="swiper-zoom-container">\n                    <img data-src="${j["a"].getBig(t)}" class="swiper-lazy" title="${t.locales[0].title}">\n                  </div>\n                  <div class="swiper-lazy-preloader swiper-lazy-preloader-white"/>\n                </div>`}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},keyboard:{enabled:!0},zoom:!0};this.$options.swiper&&this.$options.swiper.destroy(),this.$options.swiper=new q["a"](this.$refs.swiper,i),this.$options.swiper.on("slideChange",this.onSlideChange),this.$options.swiper.on("init",()=>{window.history.pushState(null,null,"#swipe-gallery"),window.addEventListener("popstate",this.close),window.addEventListener("wheel",this.close),this.zt=new S.a.Region(this.$refs.swiper),this.zt.bind(this.$refs.swiper,"swipe",t=>{const{detail:{data:[{currentDirection:e}]}}=t,i=e>60&&e<120,s=e>240&&e<300;(i||s)&&this.close()})}),this.$options.swiper.init()}))},onPaginationClick(t){this.$options.swiper.slideTo(t,0,!1)},clear(){this.images=[],this.close()},close(){this.visible=!1,window.removeEventListener("popstate",this.close),window.removeEventListener("wheel",this.close),this.zt&&(this.zt.unbind(this.$refs.container),this.zt=null),"#swipe-gallery"===window.location.hash&&window.history.back()},onKeydown(t){"Escape"===t.key&&this.close()},toggleImageInfo(t){this.$refs.imageInfo.toggle(t.document_id)},onSlideChange(){this.$refs.imageInfo.hide(),this.activeDocument=this.images[this.$refs.swiper.swiper.activeIndex]},toggleFullscreen(){this.isFullscreen?z():N(this.$el),this.isFullscreen=!this.isFullscreen}}},F=I,V=(i("55c1"),i("72ec"),Object(v["a"])(F,$,L,!1,null,"5920293e",null)),U=V.exports,B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"is-size-5",class:{"has-background-warning":"prod"!=t.siteConfiguration.urls.name}},[s("span",{staticClass:"navigation-item is-hidden-desktop",class:{"is-hidden-mobile":!t.hideSearchInput},on:{click:function(e){return t.$emit("toggle-side-menu")}}},[s("span",{staticClass:"button"},[s("fa-icon",{attrs:{icon:"bars"}})],1)]),t._v(" "),s("router-link",{staticClass:"navigation-item navigation-brand has-text-centered",class:{"is-hidden-mobile":!t.hideSearchInput},attrs:{to:{name:"home"}}},[s("img",{attrs:{src:i("1ae4"),url:"@/assets/img/logo.svg",alt:"Camptocamp.org"}})]),t._v(" "),s("div",{staticClass:"navigation-end"},[s("div",{ref:"searchInputContainer"},[s("input-document",{ref:"searchInput",staticClass:"navigation-item search-input",class:{"is-hidden-mobile":t.hideSearchInput},attrs:{"document-type":["waypoint","route","article","book"],"propose-creation":"","show-more-results-link":""},on:{input:t.go}}),t._v(" "),s("div",{staticClass:"navigation-item is-hidden-tablet",class:{"is-hidden-mobile":!t.hideSearchInput}},[s("span",{staticClass:"button",on:{click:t.showSearchInput}},[s("fa-icon",{attrs:{icon:"search"}})],1)])],1),t._v(" "),t.siteConfiguration.isProduction?t._e():s("div",{staticClass:"navigation-item is-hidden-mobile",attrs:{title:"This page may contains bugs or incomplete features"}},[s("fa-icon",{staticClass:"has-text-danger",attrs:{icon:"bug",size:"lg"}})],1),t._v(" "),t.siteConfiguration.isProduction?t._e():s("div",{staticClass:"navigation-item dropdown is-hoverable is-hidden-mobile"},[s("div",{staticClass:"dropdown-trigger"},[s("fa-icon",{attrs:{icon:"database"}})],1),t._v(" "),s("div",{staticClass:"dropdown-menu"},[s("div",{staticClass:"dropdown-content"},t._l(Object.values(t.siteConfiguration.urlsConfigurations),(function(e,i){return s("a",{key:i,staticClass:"dropdown-item is-size-5",class:{"is-active":e.name===t.siteConfiguration.urls.name},on:{click:function(i){return t.setUrlsConfiguration(e.name)}}},[s("span",[t._v(t._s(e.name))])])})),0)])]),t._v(" "),s("div",{staticClass:"navigation-item"},[s("dropdown-button",{ref:"addDocumentMenu",staticClass:"is-right add-button"},[s("span",{staticClass:"button is-success",attrs:{slot:"button"},slot:"button"},[s("fa-icon",{attrs:{icon:"plus"}})],1),t._v(" "),t._l(["outing","route","waypoint","article","book","xreport"],(function(e){return s("add-link",{key:e,staticClass:"dropdown-item is-size-5 is-ellipsed",attrs:{"document-type":e},nativeOn:{click:function(e){t.$refs.addDocumentMenu.isActive=!1}}},[s("icon-document",{attrs:{"document-type":e}}),t._v(" "),s("span",[t._v("\n            "+t._s(t._f("uppercaseFirstLetter")(t.$documentUtils.getCreationTitle(e)))+"\n          ")])],1)}))],2)],1),t._v(" "),t.$user.isLogged?s("div",{staticClass:"navigation-item"},[s("dropdown-button",{ref:"userMenu",staticClass:"is-right"},[s("span",{staticClass:"button",attrs:{slot:"button"},slot:"button"},[s("img",{attrs:{width:"24",height:"24",src:t.$options.forumUrl+"/user_avatar/forum.camptocamp.org/"+t.$user.forumUsername+"/24/1_1.png"}}),t._v(" "),s("span",{staticClass:"has-text-weight-bold is-hidden-mobile"},[t._v("  "+t._s(t.$user.name)+" ")])]),t._v(" "),t._l(t.userMenuLinks,(function(e){return s("router-link",{key:e.text,staticClass:"dropdown-item is-size-5",attrs:{to:e.to},nativeOn:{click:function(e){t.$refs.userMenu.isActive=!1}}},[s(e.iconComponent||"fa-icon",{tag:"component",attrs:{icon:e.icon}}),t._v(" "),s("span",[t._v("\n            "+t._s(e.text)+"\n          ")])],1)})),t._v(" "),s("hr",{staticClass:"dropdown-divider"}),t._v(" "),s("a",{staticClass:"dropdown-item is-size-5",on:{click:function(e){return t.$user.signout()}}},[s("fa-icon",{attrs:{icon:"sign-out-alt"}}),t._v(" "),s("span",[t._v(" ")]),t._v(" "),s("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Logout")])],1)],2)],1):s("div",{staticClass:"navigation-item"},[s("login-button",{staticClass:"is-link"},[s("span",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"is-hidden-touch"},[t._v("Login")]),t._v("\n         \n        "),s("fa-icon",{attrs:{icon:"sign-in-alt"}})],1)],1),t._v(" "),t.$user.isLogged?t._e():s("div",{staticClass:"navigation-item"},[s("dropdown-button",{staticClass:"is-right"},[s("button",{staticClass:"button",attrs:{slot:"button"},slot:"button"},[t._v("\n          "+t._s(t.$language.current)+"\n        ")]),t._v(" "),t._l(t.$language.available,(function(e,i){return s("a",{key:i,staticClass:"dropdown-item is-size-5",class:{"is-active":i==t.$language.current},on:{click:function(e){return t.$language.setCurrent(i)}}},[t._v("\n          "+t._s(e)+"\n        ")])}))],2)],1)])],1)},R=[],H=i("14ac"),G={data(){return{searchText:"",hideSearchInput:!0}},computed:{siteConfiguration(){return H["a"]},userMenuLinks(){return[{to:{name:"profile",params:{id:this.$user.id}},text:this.$gettext("My profile"),icon:"user"},{to:{name:"account"},text:this.$gettext("My account"),icon:"check-circle"},{to:{name:"preferences"},text:this.$gettext("My preferences"),icon:"cogs"},{to:{name:"outings",query:{u:this.$user.id}},text:this.$gettext("My outings"),iconComponent:"icon-outing"},{to:{name:"whatsnew",query:{u:this.$user.id}},text:this.$gettext("My changes"),icon:"edit"},{to:{name:"following"},text:this.$gettext("My followed users"),icon:"heart"},{to:{name:"routes",query:{u:this.$user.id}},text:this.$gettext("My bookmarks"),icon:"star"}]}},forumUrl:H["a"].urls.forum,created(){window.addEventListener("click",this.onClick)},methods:{go(t){this.$router.push({name:this.$documentUtils.getDocumentType(t.type),params:{id:t.document_id}})},setUrlsConfiguration(t){H["a"].setUrlsName(t),this.$router.go()},onClick(t){this.$refs.searchInputContainer.contains(t.target)||(this.hideSearchInput=!0)},showSearchInput(){this.hideSearchInput=!1,this.$nextTick(()=>{this.$refs.searchInput.focus()})}}},Z=G,W=(i("ef05"),i("97ee"),Object(v["a"])(Z,B,R,!1,null,"d3746340",null)),Y=W.exports,J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("aside",[s("router-link",{staticClass:"menu-brand has-text-centered",attrs:{to:{name:"home"}}},[s("img",{attrs:{src:i("1ae4"),url:"@/assets/img/logo.svg",alt:"Camptocamp.org"}})]),t._v(" "),t._l(t.menuItems,(function(e){return s("router-link",{key:e.name,attrs:{to:{name:e.name,query:e.query,params:e.params}}},[!e.minScreenHeight||e.minScreenHeight<t.$screen.height?s("span",{staticClass:"menu-item is-ellipsed",class:{"router-link-active":e.activeFor.includes(t.$route.name)}},[s(e.icon,{tag:"component"}),t._v(" "),s("span",{staticClass:"menu-item-text"},[t._v(" "+t._s(t._f("uppercaseFirstLetter")(e.text))+" ")])],1):t._e()])})),t._v(" "),s("div",{staticClass:"menu-footer is-size-7"},[t.$screen.height>=630?s("advertisement",{staticClass:"menu-add"}):t._e(),t._v(" "),s("div",{staticClass:"has-text-centered menu-links"},[s("router-link",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{to:{name:"article",params:{id:106727}}}},[t._v("contact")]),t._v(" "),s("span",[t._v(" • ")]),t._v(" "),s("router-link",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{to:{name:"article",params:{id:106731}}}},[t._v("EULA")]),t._v(" "),s("span",[t._v(" • ")]),t._v(" "),s("router-link",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{to:{name:"article",params:{id:106728}}}},[t._v("Licenses")]),t._v(" "),s("br"),t._v(" "),s("router-link",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{to:{name:"article",params:{id:106726}}}},[t._v("Association")])],1),t._v(" "),s("div",{staticClass:"columns is-gapless has-text-centered is-mobile menu-socials"},[s("div",{staticClass:"column"},[s("a",{attrs:{href:"https://twitter.com/camptocamporg",title:"twitter"}},[s("fa-icon",{staticClass:"twitter-icon",attrs:{icon:["fab","twitter"]}})],1)]),t._v(" "),s("div",{staticClass:"column"},[s("a",{attrs:{href:"https://www.facebook.com/camptocamp.org/",title:"facebook"}},[s("fa-icon",{staticClass:"facebook-icon",attrs:{icon:["fab","facebook"]}})],1)]),t._v(" "),s("div",{staticClass:"column"},[s("a",{attrs:{href:"https://www.helloasso.com/associations/camptocamp-assocation/adhesions/adhesion-camptocamp-association",title:"Donate"}},[s("fa-icon",{staticClass:"donate-icon",attrs:{icon:"heart"}})],1)])])],1)],2)},Q=[],K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"advertisement"},[s("iframe",{attrs:{title:t.$gettext("advertisement"),src:t.$options.publicPath+"affiz.html",frameborder:"0",scrolling:"no"}}),t._v(" "),t.enableFallback?s("router-link",{staticClass:"advertisement-fallback",attrs:{to:{name:"serac"}}},[s("picture",[s("source",{attrs:{srcset:i("1388"),type:"image/webp"}}),t._v(" "),s("source",{attrs:{srcset:i("5ba1"),type:"image/avif"}}),t._v(" "),s("img",{attrs:{src:i("7931")}})])]):t._e()],1)},X=[],tt={data(){return{enableFallback:!1}},publicPath:H["a"].publicPath},et=tt,it=(i("6d3c"),Object(v["a"])(et,K,X,!1,null,"050ee8fa",null)),st=it.exports,nt={components:{Advertisement:st},computed:{menuItems(){return[{name:"topoguide",icon:"icon-topoguide",text:this.$gettext("Topoguide"),activeFor:["routes","waypoints","route","waypoint","area","areas"]},{name:"outings",icon:"icon-outing",text:this.$gettext("outings"),activeFor:["outing"],query:{qa:"draft,great",bbox:"-431698,3115462,1931123,8442818"}},{name:"forum",icon:"icon-forum",text:this.$gettext("Forum"),activeFor:[]},{name:"serac",icon:"icon-xreport",text:this.$gettext("Accident database"),activeFor:["xreports","xreport","xreport-add"]},{name:"articles",icon:"icon-article",text:this.$gettext("articles"),activeFor:["article"]},{name:"article",icon:"icon-help",text:this.$gettext("Help"),activeFor:[],minScreenHeight:715,params:{id:106732}}]}}},at=nt,rt=(i("ef39"),Object(v["a"])(at,J,Q,!1,null,"518c45d5",null)),ot=rt.exports,lt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.hasAnnouncement&&!t.hidden,expression:"hasAnnouncement && !hidden"}],staticClass:"site-notice has-background-info has-text-white no-print",on:{click:function(e){t.showContent=!t.showContent}}},[i("div",{staticClass:"section is-info"},[i("button",{staticClass:"delete",on:{click:t.hide}}),t._v(" "),i("div",{ref:"header"}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showContent,expression:"showContent"}],ref:"content"})])])},ct=[],ut=i("bc36"),dt={name:"SiteNotice",data(){return{hasAnnouncement:!1,hidden:!1,showContent:!1,updatedAt:null,lang:this.$user.lang}},computed:{readdenPostKey:{get(){return this.$localStorage.get("readdenPostKey."+this.lang)},set(t){this.$localStorage.set("readdenPostKey."+this.lang,t)}}},created(){this.loadAnnouncement()},methods:{loadAnnouncement(){ut["a"].readAnnouncement(this.lang).then(t=>{const e=t["data"];if(e["tags"].indexOf("visible")>-1){const t=e.post_stream.posts[0];if(this.updatedAt=t.updated_at,this.readdenPostKey===t.updated_at)return;this.hasAnnouncement=!0;const i=document.createElement("div");i.innerHTML=t.cooked;const s=i.getElementsByTagName("p");this.$refs.header.appendChild(s[0]);for(const e of Array.from(s).slice(1))this.$refs.content.appendChild(e)}})},hide(){this.hidden=!0,this.readdenPostKey=this.updatedAt}}},mt=dt,pt=(i("ea37"),i("1410"),Object(v["a"])(mt,lt,ct,!1,null,"c1130f94",null)),ht=pt.exports,vt={name:"App",components:{SideMenu:ot,Navigation:Y,SiteNotice:ht,HelperWindow:k,ImageViewer:U,AlertWindow:_},data(){return{alternativeSideMenu:!1}},watch:{$route:"hideSideMenuOnMobile"},mounted(){document.getElementById("splashscreen").style.display="none"},methods:{hideSideMenuOnMobile(){this.alternativeSideMenu=!1}}},ft=vt,_t=(i("5c0b"),Object(v["a"])(ft,c,u,!1,null,null,null)),gt=_t.exports;function bt(t){Object.defineProperty(t.prototype,"$alert",{get(){return this.$root.$children[0].$refs.alertWindow}})}var yt=i("2cf3"),wt=i("e3ee"),xt=i("1ccd"),Ct=i("b166"),kt=i("79a8"),$t=i("d546"),Lt=i("e2b0"),qt=i("3f5e"),Mt=i("d481"),St=i("601b"),Et=i("a3b1"),Ot=i("7828");const Dt={ca:kt["a"],es:$t["a"],eu:Lt["a"],de:qt["a"],fr:Mt["a"],it:St["a"],zh_CN:Et["a"],en:Ot["a"]};function Tt(t){const e=new t({methods:{parseDate(t,e){return e?Object(yt["a"])(t,e,new Date):Object(wt["a"])(t)},timeAgo(t){return Object(xt["a"])(t instanceof Date?t:Object(wt["a"])(t),{addSuffix:!0,locale:Dt[this.$language.current]})},toLocalizedString(t,e){return Object(Ct["a"])(t instanceof Date?t:Object(wt["a"])(t),e,{locale:Dt[this.$language.current]})},toTechnicalString(t){return Object(Ct["a"])(t instanceof Date?t:Object(wt["a"])(t),"yyyy-MM-dd HH:mm:ss")},month(t){return Dt[this.$language.current].localize.month(t,"wide")}}});t.prototype.$dateUtils=e}var At=i("909c"),Pt=i("5888"),jt=i("1ba4"),Nt=i("25c4");const zt={ca:kt["a"],es:$t["a"],eu:Lt["a"],de:qt["a"],fr:Mt["a"],it:St["a"],zh_CN:Et["a"],en:Ot["a"]};function It(t){t.prototype.$documentUtils=new t({methods:{getCreationTitle(t){if("outing"===t)return this.$gettext("add an outing");if("route"===t)return this.$gettext("add a route");if("image"===t)return this.$gettext("add an image");if("waypoint"===t)return this.$gettext("add a waypoint");if("map"===t)return this.$gettext("add a map");if("xreport"===t)return this.$gettext("add an incident/accident report");if("area"===t)return this.$gettext("add an area");if("book"===t)return this.$gettext("add a book");if("article"===t)return this.$gettext("add an article");throw new Error("Unexpected type : "+this.documentType)},getDocumentType(t){return Nt["a"].letterToDocumentType[t]},getDocumentTitle(t,e){var i,s,n;if("u"===t.type||!t.type)return null!==(s=t.name)&&void 0!==s?s:"";if(!t.locales)return null!==(n=t.title)&&void 0!==n?n:"";const a=this.$documentUtils.getLocaleSmart(t,e);return a.title_prefix?a.title_prefix+" : "+a.title:null!==(i=a.title)&&void 0!==i?i:""},getLocaleStupid(t,e){if(!t.locales)return null;for(const i of t.locales)if(i.lang===e)return i;return null},getLocaleSmart(t,e){let i=e?this.$documentUtils.getLocaleStupid(t,e):null;if(i)return i;if(i=this.$documentUtils.getLocaleStupid(t,this.$user.lang),i)return i;for(const s of Nt["a"].langs)if(i=this.$documentUtils.getLocaleStupid(t,s),i)return i;return null},hasRating(t){return t.global_rating||t.rock_free_rating||t.rock_required_rating||t.aid_rating||t.engagement_rating||t.risk_rating||t.equipment_rating||t.exposition_rock_rating||t.ice_rating||t.mixed_rating||t.ski_rating||t.hiking_rating||t.mtb_up_rating||t.mtb_down_rating||t.hiking_mtb_exposition||t.labande_global_rating||t.labande_ski_rating},getAssociationArrayName(t){const e=this.getDocumentType(t.type);return"profile"===e?"users":e+"s"},isInArray(t,e){return 0!==t.filter(t=>t.document_id===e.document_id).length},addAssociation(t,e){const i=t.associations[this.getAssociationArrayName(e)];this.isInArray(i,e)||(i.push(e),this.propagateAssociationProperties(t,e))},removeAssociation(t,e){const i=this.getAssociationArrayName(e),s=t.associations[i];t.associations[i]=s.filter(t=>t.document_id!==e.document_id)},propagateAssociationProperties(t,e){if("o"!==t.type||"r"!==e.type)return;const i=e,s=t;s.geometry.geom=null===s.geometry.geom?i.geometry.geom:s.geometry.geom;const n=["elevation_min","elevation_max","height_diff_down","height_diff_up","height_diff_difficulties","global_rating","engagement_rating","equipment_rating","rock_free_rating","ice_rating","labande_global_rating","ski_rating","snowshoe_rating","hiking_rating","via_ferrata_rating","mtb_down_rating","mtb_up_rating"];n.forEach(t=>{s[t]=null===s[t]?i[t]:s[t]}),s.locales[0].title||(s.locales[0].title=this.getDocumentTitle(i,s.locales[0].lang))},buildLocale(t,e){const i=Nt["a"].objectDefinitions[t],s={};for(const n of Object.values(i.fields))"locales"===n.parent&&(s[n.name]=n.multiple?[]:null);return s.lang="zh_CN"===e?"en":e,s},buildDocument(t,e){const i=Nt["a"].objectDefinitions[t],s={type:i.letter,locales:[this.buildLocale(t,e)],associations:{}};for(const n of Object.values(i.fields))"document"===n.parent?(s[n.name]=n.multiple?[]:null,void 0!==n.default&&(s[n.name]=n.default)):"associations"===n.parent&&(s.associations[("profile"===n.documentType?"user":n.documentType)+"s"]=[]);return i.geoLocalized&&(s.geometry={geom:null,geom_detail:null}),s},getSortedAreaList(t){const e=t.areas;let i=[];if(e){const t={range:[],admin_limits:[],country:[]};for(const i of e)t[i.area_type].push(this.getLocaleSmart(i).title);t["range"].length&&(i=i.concat(t["range"])),t["admin_limits"].length&&(i=i.concat(t["admin_limits"])),t["country"].length&&(i=i.concat(t["country"]))}return i.join(" - ")},getOutingDatesLocalized(t){const e=t.date_start,i=t.date_end||e;if(!e)return this.$gettext("Invalid date");const s=this.$dateUtils.parseDate(e),n=this.$dateUtils.parseDate(i);return Object(At["a"])(s,n)?Object(Pt["a"])(s,n)?Object(jt["a"])(s,n)?this.formatDate(n,"PPPP"):this.formatDate(s,"d")+" - "+this.formatDate(n,"PP"):this.formatDate(s,"d MMMM")+" - "+this.formatDate(n,"PP"):this.formatDate(s,"PP")+" - "+this.formatDate(n,"PP")},formatDate(t,e){return Object(Ct["a"])(t,e,{locale:zt[this.$language.current]})},hasSameGeolocation(t,e){var i,s;const n=function(t){return"Point"===t.type&&Array.isArray(t.coordinates)&&2===t.coordinates.length},a=(null!==(i=t.geometry)&&void 0!==i?i:{}).geom,r=(null!==(s=e.geometry)&&void 0!==s?s:{}).geom;if(a===r)return!0;if(a&&r){const t=JSON.parse(a),e=JSON.parse(r);return n(t)&&n(e)?t.coordinates[0]===e.coordinates[0]&&t.coordinates[1]===e.coordinates[1]:!n(t)&&!n(e)}return!1}}})}var Ft=i("ecee"),Vt=i("3003"),Ut=i("8c5c"),Bt=i("583d"),Rt=i("6bfa"),Ht=i("efe4"),Gt=i("077c"),Zt=i("88f3"),Wt=i("7c0b"),Yt=i("5d61"),Jt=i("e20b"),Qt=i("d493"),Kt=i("8db3"),Xt=i("bdef"),te=i("2d00"),ee=i("552c"),ie=i("7244"),se=i("fc0c"),ne=i("e340"),ae=i("1971"),re=i("36e6"),oe=i("6347"),le=i("3960"),ce=i("441b"),ue=i("211a"),de=i("9ae8"),me=i("4c54"),pe=i("3b44"),he=i("ef0c"),ve=i("3a14"),fe=i("8928"),_e=i("83c1"),ge=i("230f"),be=i("d042"),ye=i("e39a"),we=i("d8d6"),xe=i("c49b"),Ce=i("2868"),ke=i("adbc"),$e=i("3ffc"),Le=i("834f"),qe=i("da53"),Me=i("75f0"),Se=i("16a6"),Ee=i("8af9"),Oe=i("e108"),De=i("0882"),Te=i("cc98"),Ae=i("74f2"),Pe=i("1daf"),je=i("2bb7"),Ne=i("91fb"),ze=i("993e"),Ie=i("a17a"),Fe=i("1660"),Ve=i("0162"),Ue=i("cca2"),Be=i("fb8d"),Re=i("e0cc"),He=i("d5f5"),Ge=i("082a"),Ze=i("c5fe"),We=i("b096"),Ye=i("56b5"),Je=i("8d63"),Qe=i("b06c"),Ke=i("1b20"),Xe=i("485c"),ti=i("21f3"),ei=i("eff2"),ii=i("7025"),si=i("2231"),ni=i("edef"),ai=i("0ee4"),ri=i("8054"),oi=i("dfe7"),li=i("aca7"),ci=i("af15"),ui=i("1adf"),di=i("c474"),mi=i("1ef2"),pi=i("5621"),hi=i("68dd"),vi=i("6c88"),fi=i("6c06"),_i=i("af2b"),gi=i("dbcd"),bi=i("0702"),yi=i("1af0"),wi=i("2bdf"),xi=i("a4fd"),Ci=i("2015"),ki=i("1ae7"),$i=i("2007"),Li=i("7f18"),qi=i("d941"),Mi=i("7e61"),Si=i("b7e5"),Ei=i("28d3"),Oi=i("ad3d"),Di={prefix:"activity",iconName:"hiking",icon:[64,64,[],"","M32 4a28 28 0 1 0 0 56 28 28 0 0 0 0-56zm1.6 7.8c.8 0 2 .3 2.6 1.8 0 0 1 .7.8 1.1-.2.4-.3.4-.6.5 0 0-.3.4-.3.8s0 1.1-.6.8c0 0-.3.5-.4.4 0 0-.1.4-.3.4 0 0 0 .6-.9.6-.8-.1-1 0-.7.6.3.6.7 2.2.7 2.7v2.7s-.1 2.6-.8 3.2l2.6 2s1.8-.3 2.2 0c0 0 .7-.5 1.1-.2 0 0 .7 1 .7 1.8 0 .3 0 .5-.3.6l-.3.1h-.2l2.2 14.4.3 2.3s0-.1.1 0l.2 1.9-.1.2.2.4s.7 0 .6.3c0 .2-.7.3-.7.3s.2 1 0 1.2h-.1s-.2-.3-.3-1.1c0 0-.8.1-.8-.1 0-.3.5-.5.5-.5l.2-.4-.2-.1-.3-2-.3-2.3-2.1-14.4c-.8 0-1.6-.2-1.7-.5 0 0-.2-.2-1-.4l-2-.5s2.1 7 2.3 8.3v.3l.4 1.8s-.9 6.8-.3 7.8c0 0 .3.5.3.8 0 .3.9.3 1.2.5.3.2 1-.3 1.2.2.2.5 0 1-.8 1l-2.7.1h-1.6c-.5.2-1.5.2-1.4-.7.2-.9 0-.8 0-1.3.1-.4.6-.1.7-1 .1-1 .6.2 0-2.2 0 0-.8-1.3 0-3.8l-.3-.7s0 1.5-.7 2l-2.6 1.3a8 8 0 0 0-1.7 1.3c-.4.4-2 .9-2.5 1.4-.5.6-1 .6-1.5 1.2-.5.7 0 2 0 2.3 0 .3.5.1.9.2.3.2.6.9-.2 1-.8 0-2.2 0-2.5-.2-.4-.4-2.4-2.6-2.8-2.7 0 0-1-1 0-1.6 1.2-.5 2.3-.7 2.6-.8a7 7 0 0 0 1.9-1.3s1-1.8 2.4-2.5l2.4-1.3c.5-.3.7-1 .5-1.4h-.4s-.4 0-.3-.5c0-.4-.3-2.3-.8-3.5-.5-1.2-1-1.5-1-1.6 0 0-.2-.5-.1-1 0 0 0-.5-.3-.3s-.9.8-2 .6a7 7 0 0 1-3.6-2.3c-.6-.8-.3-.8-.3-2s0-6.6-.4-9.5l-.4-.4-.4-.5c0-.2-.3-2 0-2.6.4-.7 1.4-1.8 2.3-2.4.9-.5 1.2-.5 2-.3.7.2 1.2.5 1.8.4.5 0 1.5.5 2 .7.3.3 1 .7 1 1 0 .2.6.3 1.3 0 .7-.3 2-1.3 2-1.3s-.3-2.5 1.7-3h.7z"]},Ti={prefix:"activity",iconName:"ice_climbing",icon:[64,65,[],"","M32 5a28 28 0 1 0 0 56 28 28 0 0 0 0-56zm-4.8 1.4c.9 1 .7 3.5-.9 8l-.8 1.6-.2.3-.2.3 1 .8c1.5 1.3 1.3 3.4 1.3 3.4l-.2 1.1c.3.4.4 1 .5 1.3l1 .9c.6.6 1 1.5 1.6 2.2l1.1 1.5v-.1a6 6 0 0 1-.3-2v-.2c-.3-.6-.3-1-.3-2v-.8l-.3-.3c-.7-.3-.8-.9-1-1-.2-.2.1-.3 0-.4-.1-.2.1-.3 0-.4V20c.1-.3.1-.4.4-.4 1-.1 1.4.3 1.4.3l.4-.5c1-1.4.4-3.3.4-3.3l-1-2.5c-.6-.6-1 0-1.2.1l-2.3 1v-.2c1.3-.6 3-2.2 3-2.2l2.6-.2-.1.2-1.4.5.1.6 1.1 2.9c.7 1.9-.6 3.6-.6 3.6l-.6.8.1.3c.4.5 1.2 1.3 1.4 1.8.2.5.2 1.8.5 2.2l.4 1.3c.1.4.4.9.7 1.2l.5.2h.4c.2 0 .5-.4.5-.4.2-.8 1.4-1.1 1.4-1.1 1.8-1 3.2 1.4 3.2 1.4 1 1.7-1.1 3.4-1.7 3.9-.2 0-.2.2-.3.3 0 .3.1.8.7 1.5 1 1.2 0 2.6-.5 2.8-.6.2-.3 0-.5.8-.3.9-1 2-2.1 2.7-1.2.6-.7 4.7-.4 5.6.2.5-.5 2.5-.8 3.3-.2.7-.2 2.3-.2 2.9l.1.4c.6.5.8 1.8 1 2.6l1.1 3.8c.1.6-.3 1.1-.8 1.4l-1.6.2c-.3 0-.4-.3-.3-.5l-.2-1.4c0-.3-.7-1.8-1-2.4l-.6-1.4c0-.2-.2-.3-.3-.4-.3 0-.4-.3-.6-.5l-.2-.4c.3-3.8-.6-5.6-.6-5.6l-.1-.4c-.8 1-2.2 1.5-2.2 1.5s-.1-.3 0 .1l1.2 3.9.4 2.5c.1.7.2.7.6 1.2.3.6-.1.8-.6 1.6-.5.7-1 .3-1.6.3H26 26l.6 1.5a27 27 0 0 1-14.5-8.2L9 47A26.9 26.9 0 0 1 5 29.7l.5-2.7c.6-2.3 1.4-4.6 2.5-6.6v-.1l.2-.3C12 13 19 7.8 27.2 6.4zm-2.4 10.9l-3 5.3c-1.5 2.9-2.7 6-3.6 7.4l-1 1.6v.7h.2c.5.4.3 1 .2 1.8l1.2 6.3c1.4 4.6 3.7 11.7 4.8 13.6l1.7 2.6c.3-.5 1-.9 1.2-1.1.4-.4.6-.5 1-1.2.4-.8-.8-3.2-1.1-3.8-.3-.6-.1-.8-.6-1.2-.5-.4-.6-1-.7-1.6 0-.6.3-1.1 1-2 .5-.6 2-1.8 2.6-2.3l.2-.6c-.2-.6.4-.5.4-1.9v-.1c.2-1.6 1.2-2.7 1.3-3.4l.6-2.2c.3-1.1.8-1.3 1-2.2.3-.9-.6-1-1-1.4L29 29.3c-.6-.6-.7-1-.8-1.3v-.3c-.3-.3-.4-.7-.8-1.5-.4-1-.7-1-.7-1-1-.3-1-1.3-1.2-1.7a3 3 0 0 1 0-1.3c.1-.4.3-.6.6-.6h.3l.1-.9c.3-1.7-1.3-3-1.3-3z"]},Ai={prefix:"activity",iconName:"mountain_biking",icon:[64,64,[],"","M32 4a28 28 0 1 0 0 56 28 28 0 0 0 0-56zm-.1 8c2 .3 2.6 2 3 4-.4.3-1-.3-1.2 0 0 0-.1 1-.6 1.5-.3.6-.4 1.4-.9 1.4l.4.7c.4 1.3 1 1.6 1.6 2.1.2.4.6.4 1 .5 1 .4 2 1.3 3.2 1.6.2 0 .6.4 1 .2.2 0 .3.2.5 0 .1.1.1.3.3.3.3-.2 1 0 1.2-.2.4.2.6.4.6.8.1.6-.4 1 0 1.3.4-.1.7 0 .9.3-.4-.2-.9-.1-1 0-.2 0-.2-.2-.4-.1v.5c.7.2 1.2 1.4.7 2.2l1.3 4c2.9-1.8 7-.8 8.9 1.2 1.2 1.3 2 3 2 5a8 8 0 0 1-.5 3.5c-.8 1.5-2 2.7-3.2 3.4-.9.4-1.8.8-3.1.8-2-.1-3.6-.6-4.7-1.6a9.2 9.2 0 0 1-2.3-3.4l-.5-2.4c0-2.5.9-4.5 2.2-5.6l-2.1-3-5.5 11.5c.8.5 1 1.1.5 2 .9.9 1.8.6 3.4.3l.3.6c0 .4-.9.5-1 1h-.3l-.2.7c-.4.1-.9 0-1.2.3-.1-.1-.5 0-.8 0V47l-.4.2v.4c-1 .2-1.4.8-2.5.6.2-.1-.2-.3-.3-1.7-.4 0-.6.3-1 .5-1 3-3 5.5-6.7 5.7-2.6.1-4.8-.8-6.2-2a7 7 0 0 1-2.2-5.6c0-2 1-3.9 2.2-5.2a7.4 7.4 0 0 1 6-2.3c1 0 1.7.2 2.6.5-.1-.2.7-1 1-2-.2-.9-.7-1.2-1.3-1.5l-.7-.8c-1.5-1.4-4.2-1.8-5.4-3.6-.4-1.3-.3-1.8-.4-3.1 0-1.8.6-2.8 1.3-3.9-1.1 0-1.3-1.2-1.4-2 0 0 1.8-7.4 6.8-5.3 1.7.6 1.8.6 2.4-1.4 0-.2-.4-.7-.3-1 .4-.8.6-1 1.4-1.5.5-.3 1.1 0 1.6 0zm.1 11H32c0 .5.2.6.6.8 1 .6 2.1 1.2 3.2 1.6.5-.3.7.2.7.2l1.9.2.2.4c0 .1-.2 0-.2.2.3 0 .4.2.5.4.3-.2.8-.3 1-.6.1 0 .2 0 .2-.2-.2-.1-.3-.4-.4-.6-.2-.1-.1 0-.2.1-.2-.2-.5-.2-.7-.3.2 0 .1-.2 0-.3l-1.7-.2c-2-.1-2.9-.4-4-1.2-.3-.3-.2-.7-1-.6zm-1.8 1.7c0 .2-.5.6-.6.9-.7.9-2.2 1-2.5 2 1.2 0 2.4.3 3.5.7 2 .5 2.5.9 2.8 2.3 0 1-.5 2.2-.6 3.1l6.7-4.3-.7-1.2h-.5c.7-.3-.3-1.1-.4-.4l-.9-.4c0-.2-.3-.5-.5-.7l-.5-.2c-.3 0-.6 0-.7-.3-2-.2-3.8-.5-5-1.5zM41 26.8h-.2l.3.1c.1.1.3.5.5.4 0-.1-.2-.1-.2-.3l-.4-.2zm-.1.2l-1.5 1 1.2 1.5c.4-.3 1-.6 1.1-1.3 0-.6-.3-.9-.7-1.2h-.1zm.7 0L42 29c.3-.8 0-1.7-.6-1.9zm.2 1.2c0 .8-.4 1.2-.8 1.6.4 0 1.1-.4 1.2-.7 0-.3-.3-.6-.4-.9zm-.3.7l-.8.7v.2c.4-.3.8-.5.8-.9zm.7.4c-.3.4-.8.7-1.4.6.3.5.7.8.8 1.4.4-.3.5-.4 1-.2.2.2.2.7.4.9l-.8-2.7zM32.6 35c1 1.8 0 5.2.8 7l5-10.5zm9.3-3c0 .3.1.3.3.5.2.3.4 1 .7 1 0-.6-.4-.9-.7-1.3L42 32zm5.4 1.4l.3 4 .6-1.1v-.8c0-.7 0-1.2.2-1.9v2.2l1-2-2-.4zm-.1 0l-1 .1.7 4 .6.1zm-1.2.1l-.8.3.8 3 .7.8-.7-4zm-1 .4l-.5.2 1.2 2.2zm4.4 0l-1 2.5-.1 1 2.1-3-1-.5zm1 .6L48.9 37l-.5.9.3.4 2.3-2.7.3-.4c0-.2-.7-.5-.7-.7zm-7.3.8l-.5.7 1.2 1 .4.2c-.2-.6-.7-1.3-1-1.8H43zm8.2 0l-2.5 3 .8-.3 2.3-1.9zm-6.8.8l1.1 1.7-1-1.8zm-2 0l-.5 1 2.1 1.1v-.8l-1.6-1.3zm9.5.2L50 37.9l2.4-.8zm-3.9.4l-.4 1 .4.1v-1zm-6.1.5l-.3 1 2.3.2-2-1.2zm10.5 0L49 38.8l3.9-.5zm-8.1.1v.2-.2zm0 .3l-.1.7.8.2-.8-1zm-2.7.7l-.1 1.1 2.6-.2v-.6l-2.5-.3zm7.6 0l-.6.3v.1l.6-.4zm3.5 0l-4 .7.2.7 4-.3-.2-1zm-8.5.3v.6h.6l-.6-.6zm-20 .3h-1.2l.7 3 .6-3zm.1 0l-.4 3 .6-.5.9-2.3zM23 39l-.8.3 1.2 3.1.3-.4-.1-.7zm2.7.2l-.8 2.1 1-.7.1-1.3-.3-.1zm19.1.1h-.3l.2.3.1-.3zm-22.8 0l-1 .5 1.6 3.5.7-.7zm22.3 0l-2.6.3v1l3.2-.4-.6-.8zm8.8.2l-3.8.4 3.8.6v-1zm-32.2.4a9 9 0 0 0-.8.5l2.5 3.2c-.5-1.3-1-2.5-1.7-3.7zm28 .2l-.4.9a72 72 0 0 1 3.2 2.7h-.1l-3.2-2.6 2.5 3.4c.5-.4 1-1 1.4-1.6L48.9 40zm.6.1l2.9 2.5.3-.8zm.2 0l3 1.5.3-1zm-4.8.2h-.6l-2.5.3.3 1 3.1-1.3zm-25 .1l-.7.8 2.4 1.6zm25.3.2l-2.5 2.2.8.8 1.6-2.3.5-.7zm-3 1.2l.4.8 2.5-2zm-13.7-1l-1.4.4-.7 1.3 2.2-1.6-.1-.1zm17.2 0l-2 2.9c0 .2.4.4.6.6l2.2-3zm-17 .2L26.1 43l-.5.7 3.5-1.8-.5-.8zm-3.3.1l-.6.4-.5 1.3c.5-.5.8-1 1.1-1.7zm22.8 0l-1 .3.4 4h1l-.4-4.3zm-22 .1l-1 2.1.9-.6.8-1.5zm-7.1 0l-.4.7 3.5 1.6-3-2.2H19zm27.6.1l-2.2 3.1.8.5 1.6-3.5zm.3.2l-.5 3.8 1 .1zm1.4 0l.3 3.8 1-.2zm-23.8 0l-.6.4v.3l.1.7.5-1.3zm24 .1l1.3 3.4.9-.5-2.2-2.9zm-17.7.1l.4 1 .2-.2zm-1.6.3l-3 1.5c1.1-.3 2.4-.3 3.4-.7l-.1-.3v-.1l-.3-.4zm-10.7 0l-.5 1.3 2.9 1.2 1.2.4.2-1zm28.2-.2L45.4 45l.8.3zm-21.2.3l-.8 1.1.3.2zm-1.8.2h-.2l.2.2v-.2zm7.8.4l-.3.1.2.2v-.3zm-1.9.3l-1.2.6 1.4-.1c0-.2 0-.4-.2-.5zm-3.9 0l-.6.5.1.1h.2l.3-.6zm3.2.1l-3.1.6 2.3-.1zm2.4.3l.1.3.3-.2zm-9.2 0l.4.4v-.2l-.4-.2zm-4.2 0l-.2 1 3.8.5zm11.2.2l-2 .6 2.5-.4.3-.1H29zm-1.5.2l-2.2.1.2.5zm4 .5l-.3 2.3c.3-.3.7-.3.9-.7v-.3c.4-.3 0-.3 0-.4-.3-.3-.3-.7-.6-1zm-13.9.3v1l3.5-.6zm12.2 0l-2.1.3 2.2.4v-.7zm-2.8.4l-1 .2 3.8 1.2v-1c-.9 0-1.8-.4-2.8-.4zm-5.1 0l-4.3.8.3 1zm.2.1L18 47.1l.4 1 3.6-1.6zm3.7.1h-.3l-.3.8c-.5 1.3 2.6 1 4 1.6.3-.2.4-.6.5-1l-4-1.4zm-3.7.5v.6l.3-.2zm3.1.7l.5.4-.5-.4zm2.7 1.8l1-.6c-3.2-1.5-4.5-1.5-1 .6zm-5.2-2l-.5.4.5-.3-.3.6h1v-.2l-.7-.5zm-.5.2v.1zm-.2.1l-3.6 1.6.6.9 2.4-1.8zm2 .3h-.3v.7zm-1.9 0L20.1 50c.3.2.5.4.9.5l1.4-3.4zm2 0c-.4 1.6.3 2.9.4 4.3.4 0 .7-.2 1-.3zm0 0l.7 1.8.2-1.6-.2.2zm1.3.1c.2.7.6 1.4.9 2l.7-.3zm-3 .2L21 50.6l1 .4 1.4-3.7zm1.1 0L22.3 51l1 .3.5-3.3-.2-.7zm-2 .2l-2.4 1.8.8.7 1.7-2.5zm4.8.1l.9 1.1.5-.2zm-.9.2v.8l.4.4-.1.3h.4l-.7-1.5zm3.7.2l-1 .5.5.3.5-.8zm-5.3.5l-.5 2.9h1.1l-.6-3zm4 0l-.6.4.6.7c.3-.1.5-.4.7-.7l-.6-.3zm-.7.4l-.8.4.5 1 .9-.6zm-1 .5l-1 .3.6 1.3 1-.5-.5-1.1z"]},Pi={prefix:"activity",iconName:"mountain_climbing",icon:[64,64,[],"","M31.9 4A28.5 28.5 0 0 1 60 32c0 15-13 28-28.1 28C16.7 60 4 47 4 32 4 16.7 16.7 4 31.9 4zm2.8 11.3c-1 0-1.5.4-1.5.4l-.9.8c-.2.2-.3.3-.2.7 0 .3 0 0 0 0-2.1-.8-5.4.1-5.4.1-4.7 1.3-6.2 6.5-6.2 6.5l-.2.7s-.9 3.5 1.4 3c.1 0 .2 0 0 .3-1.6 1.9-.7 5.6-.7 5.6.2.5.3.2.3.6V39c0 .4 0 .1-.5.8-.6.6-2 2.4-2.1 3.4l-.8 2.7s-.7 1.8-1.6 2.3c-.3.2-.5.2-.6.5-.2.3-.3.8-.2 1l.5.6 1.2 1.4c.2.3 1.2 1 2 1.2.6.2 1.7.5 1.3-.6-.4-1-.5-1-.7-1.3-.3-.5-.4-.5-.3-1 0-.4 0-.8-.3-1-.3-.4-.3-.2 0-.5.2-.4.4-.4.3-.8l-.3-.4c0-.1-.2-.3 0-.5l2.8-3.8 1.4-1.4c.2 0 1-.6 1.2-1 .3-.3.5-.6.6-1.2l1.2-5.9h1.1l.5-.1 1.1-.2c1.2-.3 1.5-.6 1.8-.5l.4.1c.7 3.1.4 8.8.4 8.8s.4 1.9.6 2.2c0 0 .2.4.4.4l2-1.2c.9-.6 1.3-1 1.6-.7l.1.1-.1.3c-.3.4-.5.3-.4.6 0 .3.2.2 0 .7l-.2.9L32 53c-.3.7-.8.7-.8 1.6 0 1-.2 1.2-.3 1.7l-.7 2.4H32a27 27 0 0 0 23.3-40.2c-1.6.6-4.6 1.8-5.2 1.8-.8 0-1 .6-1.8.1 0 0-.2-.5-.6-.3 0 0-.2-.4-.5-.2 0 0-.2-.5-.8 0 0 0-.3.2-.4 0-.2 0-.3-.3-.7 0-.4.2-.9.7-1 1.1 0 0-.4.5-.6.5l-.6.3-1 .9c-.3.2-.1.2-1.4.6-1.3.3-1 .4-1.4.2 0 0-1.2-1-2-2.3 0 0-.1-.4.1-.4.3 0 .5-.2.4-.6v-.7-.5c.2-.2.2-.4.2-.5 0 0 .6-1.6-.3-2.3a4.9 4.9 0 0 0-3-1zm.2 8.7l.3.2c.2 0 1.5 1 1.7 1.1l1.3 1c.2.2.4.2.7.2l1.3.1c-.6 1.3-3.4 4.9-3.4 4.9l-.7.7c-.3.3-.3 1-.3 1s-.6-1.2-.7-3.1c0-.4-.1-.4-.3-.5 0 0-1.7-1.1-2.5-1.9 0 0 1-2 2.4-3.6l.2-.1z"]},ji={prefix:"activity",iconName:"other",icon:[64,64,[],"","M 32,4 C 47.46,4 60,16.54 60,32 C 60,47.46 47.46,60 32,60 C 16.54,60 4,47.46 4,32 C 4,16.54 16.54,4 32,4 Z M 21,32 C 18.24,32 16,34.24 16,37 C 16,39.76 18.24,42 21,42 C 23.76,42 26,39.76 26,37 C 26,34.24 23.76,32 21,32 Z M 35,32 C 32.24,32 30,34.24 30,37 C 30,39.76 32.24,42 35,42 C 37.76,42 40,39.76 40,37 C 40,34.24 37.76,32 35,32 Z M 49,32 C 46.24,32 44,34.24 44,37 C 44,39.76 46.24,42 49,42 C 51.76,42 54,39.76 54,37 C 54,34.24 51.76,32 49,32 Z"]},Ni={prefix:"activity",iconName:"paragliding",icon:[64,64,[],"","M32 4a28 28 0 1 1 0 56 28 28 0 0 1 0-56zm-4.6 10.7c-.4 0-.9 0-1.4.4l-.2-.1c-.9-.3-1.7 0-2.4.5l-1-.4c-.4 0-1 0-1.5.3-.9-.2-1.6.1-2.2 1-.7-.2-1.5-.4-2.4.7-1.2-.3-1.8.5-2.2 1.6-1-.1-1.9.2-2.2 1.4-1 .5-1.8 1.4-1.6 4 0 1.3.4 2.6 1 3.5l.5 1c-.2 1 0 1.3.6 1.4 0 .9.6.8 1.3.5l.6-.2a279.3 279.3 0 0 0 11.5 6.6l1.7 1v1.9l.3 1c0 .3.2.5.5.6a7.4 7.4 0 0 0 1 .5c.2 0 .3.1.4.3.2 0 .3.5.3.7l-.4.5-.2.7.2.8.2.8c.1.3.4.6.7.6.3 0 .3.6.4.8l.2 1c0 .3-.2.3-.4.5s-.3.5-.3.8c0 .3.2.5.6.6.4.1.6 0 .7-.3.1-.2.4-.3.5-.2.2 0 .2.4.2.5l-.2.7-.4.8-.2 1.3c0 .3.2.6.4.7.2.1.7-.2.8-.4l.5-.3h.3l.6-.6-.2-.7v-1.2-.9c0-.3 0-.8.2-1v-.7c-.2 0-.3-.2-.3-.4l.1-.7-.1-1c0-.2-.3-1-.2-1.2l.4-1c0-.4.5-.2.7-.2l.5-.3v-.2c.2-.1.2-.5.3-.6a10.4 10.4 0 0 1 1-.5c.2-.1.4-.3.5-.6.1-.2 0-.8-.1-1l-.5-1-.4-1v-.1-.2l2.2-3.7 2.7-4.4c.6.2 1.3.2 2.2.1l2 .2a210.5 210.5 0 0 1 2.6.5c.4 0 .8.2 1.1.3.9-.6 1.5-1.4 1.9-2.5l.8-2.7c.2-1.5.3-3-.3-4.4a4.5 4.5 0 0 0-3.6-2.4c-.8-1.3-2.4-2.7-4.1-2.2-.7-.7-1.3-1.2-2.6-.8-.6-.4-1.3-.7-2.5 0l-.2-.2c-.5-.6-1.3-.8-2.3-.4l-.7-.2c-.7 0-1.3.1-1.8.8l-.2-.3c-.5-.7-1.3-.8-2.4-.3-.6-.3-1.3-.4-1.9-.2l-.6.3c-.3-.3-.6-.5-1-.5zM26 27.8a49.3 49.3 0 0 0 3 .1 45.7 45.7 0 0 0 1.8.2l2.5 8.1 1.4 4.7a1 1 0 0 1-.4 0H34l-.6-.1c0-.2 0-.4.3-.5.8-.4.5-1.9-.4-2.2h-.2c-1.1 0-1.5 1.5-1 2l.2.4c0 .3-.3.2-.4.2-.2 0-.2-.2-.3-.3 0-.2 0-.3-.6-.2-.5 0-.7-.2-1.1-.4a3 3 0 0 1-1-1l-.4-1-.3-.5v-.1l-2.4-7.8-.5-1.4.5-.1h.2zm-1 .2l.8 2.4 1.9 6h-.2v.5l-1.7-3.7-2.3-4.8L25 28zm6.1 0a86.8 86.8 0 0 1 3.7.3l.5 6.7.2 2.8-.2.4.1.2-.1.7-.4 1.5-1.6-5.4-2.2-7.1zm4 .3h.2a44.8 44.8 0 0 1 1.7.2l-1 6.1-.3 2.3-.4-5.8-.2-2.8zm-11.9.1l2.6 5.5 1.4 3-1.4-1.6-3.4-3.8-2-2.2a15.2 15.2 0 0 0 2.8-.9zm14.7.2l.4.1h.5l1.9.8-2.4 3.9-2.3 3.8V36.6l1.9-8zm-17.8.7l2.3 2.6 3.4 3.9.4.5-.4-.4-3.4-3-3.8-3.3 1.5-.3zm-1.9.3l4.2 3.7 3.4 3 .9.8-1-.5a2287.7 2287.7 0 0 1-11.1-6.4l3.6-.6zm10.2 9s.3.3.3.5a5.2 5.2 0 0 0 .5.9c.2.3.3.2.5.4.3.2.1.3-.1.3l-.6-.2a1 1 0 0 1-.6-.6l-.2-1c0-.3.2-.3.2-.3zm7.2.2l.4 1.3.1.3c.1.2 0 .3 0 .4h-.2c-.2.2-.4.1-.6.1H35l.2-.5z"]},zi={prefix:"activity",iconName:"rock_climbing",icon:[64,64,[],"","M32.1 4A28.6 28.6 0 0 0 4 31.7C4 46.7 17.2 60 32.1 60A29 29 0 0 0 60 31.7C60 16.8 47 4 32.1 4zm-.7 1C56.2 4.5 72 37.7 44.2 56.3c-.7-.5-1.4-2.2-2-3.6v-1.4c-.1-.9-1-2.4-1.7-3.8-.8 0-2.3.2-2.8.5-.6.4-2.1.6-2.3-.3-.1-.8 0-1.7-.2-2.5-.3-.8-2-3-2-4.5 0 0-.3-.7-1.3-.5h-.4l-.2.1c-2 .3-8.8 1-10.4 0L19.6 39s-.5-.6-1-1.6l-.7-1.7a7 7 0 0 1-.2-2.8s-.1-2.3-.5-4c-.4-1.6-.3-5.4.5-6l1.4-1.3s.9-.5.7-1v-1s-.3 1-1 1.6c-.3.3-.4.2-.4.2s-1.1-.2-.6-1.8c.6-1.6.9-.4 1.3-1.5.4-1 .7-1.5 1.2-1.7.5-.1.8 0 .8 0s1.5-5.8 3.2-8.6V6.1c2.5-.7 4.4-1 7-1zm-5.8 3.2l-.6.3s-1 6.7-1.7 8.3c0 0 2.8 1.2.7 4.9 0 0 .1.8.5 0 0 0 2.5-5.1 4.5-7.5-.5-.5-1-.5-1.9-1.5-.7-.9-1.2-2.8-1.5-4.5zm3.4 8.5c-.4.6-1 1.5-1.1 2.3-.2 1.4-1.8 4.9-2.4 5.4 0 0-2.4.6-2.8.4 0 0 1 1 1 2.7 0 0 2.9-4.9 4.9-3.4l.2.3c.3.6 1.2 2.3 1.7 4.7 0 0 1.4 3.8 2.7 5 .6.6 1.4.8 2.2.7-.8-1-1.5-2.9-2-4.5-.7-2-1.4-3.4-1.8-5.5-.4-2-1-3.3-1.7-5-.4-.7-.6-1.6-.8-2.3l-.1-.7zm-1.7 12.9s-2 5.7-3.4 6.9c0 0 3.8-.3 6.6-.3h1.2l-.6-1a81 81 0 0 1-.8-1.2l-.3-.4a25 25 0 0 1-2.7-4zm9.5 6.3L35.3 37c.5.3 1 .8 1 1.7 0 0 .6 5.3 1.2 6 0 0 1.2.4 2.2.4-.3-1.2-1-2.9-1.8-4.2-1-1.4-.8-1.8-.8-2.7 0-.7 0-1.6-.3-2.3z"]},Ii={prefix:"activity",iconName:"skitouring",icon:[64,64,[],"","M32 4a28 28 0 1 1 0 56 28 28 0 0 1 0-56zm-1.3 6.3s-.6.4-.6.8 1 .8 1 .8l1.4 2c-.6 0-.8 1.2-1 1.7-.2.4-.8.5-1.8 1-.9.6-1 2.4-1 2.4s-1.8.2-2 1.2c-.3.9-3.3 3.5-3.3 3.5s-.9 1.8-1 2.5c0 .7-1.4 2.4-1.4 2.4l-.6.1L9 22.3s0-.2-.3-.4-1.2 0-1 .6c.1.6 1 .4 1 .4l11.6 6.8s-.6.5 1 1.5c3 2 2.1-1.9 2.2-2.2 0-.4 1-1.2 1.4-1.6.4-.4.2-1.4.2-1.4.8-.2 1.6-1.9 2-1.6.5.3 0 1 0 1l.6.5s-.3.7-.5 2.2c-.3 4.1 5.6 5.5 5.6 5.5v2.7h-1l-1-.5h-2.1l18 14.8h2.8l1.3-2.4-9.2-5.7c0-1-1.4-2.4-1.4-2.4s-1-1-1-1.5c0-2.7-3.1-8.4-3.6-9.2-.4-.8-.3-3.9-.6-4-.4-.2-.4-1.1-.4-1.1s.7.1.6-.4c-.2-.6.1-1.5.1-1.5 1.5-1 5.7 1.6 5.7 1.6s3.4 0-.6-2.6-3.4-4-3.4-4 .2-1.8-.8-2.8c-1-1-2.7-.9-2.7-.9l-2-2.2c.6-1-.8-1.2-.8-1.2z"]},Fi={prefix:"activity",iconName:"slacklining",icon:[64,64,[],"","M32 4a28 28 0 1 0 0 56 28 28 0 0 0 0-56zm-5.8 3.6s.1 0 0 .2V8l-.1.2.1-.1.2-.4.2-.2c.2.1.2.2 0 .8-.3.6-.2.8 0 .3l.6-.7v.7L27 9v1.3l-.4.4-.4.4v.2l-.1.2v.1c.2.3.3.6.3 1l.3 1.2.2.9v.7l.1.2c0 .2.2.3.2.3s.2 0 .3.2l.4.3.5.5.3.3h.3l.4.2h.6c.5.1.8.2 1 .4l.2.1h.2l.1-.3.6-.6.5-.5-.2-.5-.1-.4v-.8L32 14l.1-.7.1-.3h-.1l.1-.2.2-.2h.1c.2.1.3 0 .1 0h-.1v-.2H33l.2.2H33.4v-.2l.3-.1s.1-.1.2 0H35.2l.2.1.2.2 1 1.2c0 .2.2.3.2.3v.7c-.4.4-.5.7-.6 1.5l-.1.5-.2.6-.1.4.2.1.2.4.1.2v.2l-.1.3v.1l.3.1.5.3.4.2 1 .5.7.4.5.2h1.2v.1l.2.2h4l2.2.1.8.1v.1l.1.2 1.6.8.3.1.2.3.9.9.4.5s-.3 0-1-.4l-.6-.4H49.3l-.5-.2h-.3l-.2-.1-.2-.2v.1l-.1.2-.2.1-.3.1h-2.2c-1.4.2-2.7.3-5.3.2h-1.8l-.3-.2-.5-.1-.4-.1c-.4-.2-.5-.2-.6 0-.2.3-.5 1.3-.5 1.6 0 .4-.2.9-.4 1.3-.2.3-.2.6 0 .8v.2l-.1.1v.4l.3 1c.2.8.1 1.2-.2 1.6h-.1l.2.3.2.4v.1l.1.2.3.4.3.3v.5H36c-.4-.1-.4-.1-.2.3l.2.4v.5h-.2l-.3.2v.1l-.3.3V36a19.1 19.1 0 0 1-.8 5.2v2.4l-.2.3v.4l.1 1.3c.2.5.3 1.6.3 2.1v.5c.2.2.2.3 0 .8l-.1.5v.3l.2.3.3.4.4.4.4.4.3.2h.4l.1.2 1.1-.2a1512.4 1512.4 0 0 1 8.8-1.8l8.1-1.7a6 6 0 0 1-.4.6l-4.9 1a822.3 822.3 0 0 1-13.9 2.7h-.3v.2h-.2l-.1.1c-.1.2-.3.1-.4 0l-.4-.2-.2-.1H33l-.6-.1v.1h-.2l-.2-.1H32l-.2.1v-.1l-.2-.2h-.4a2 2 0 0 0-1 .4l-.3.2h-.2a7 7 0 0 1-1.3-.2l-.4-.1h-.2l-.3.1H27l-.4-.2-.1-.1c-.3-.4-.3-.8-.1-1.2v-.2h-.3a435 435 0 0 1-14.9-4L9.4 46 8 45.7l-.2-.4 13.2 3.5 5.3 1.5.6.2h1l.2.2.2.4.2.3v.5l1 .2h.7l.3-.2-2-.6v-.2l-.1-.2h.1V50l.3-.6.1-.3.2-.6.3-1.2.2-.3v-.6l-.3-.3.2-.4.3-.5.4-.9.3-.5.1-.7.3-1.6.2-1h-.2v-1l-.4-.6a12.1 12.1 0 0 1-1.2-2.3l-.2-.3-.2-.2c-.3 0-.3-.1-.4-.7 0-.5-.1-.8-.3-1a3 3 0 0 1-.5-1.4v-.6l.1-.3.2-.4v-.5l.1-.1.1-.2H28l-.2-.1c-.2 0 0-.5.2-.8l.2-.7c0-.4.2-.8.3-1l.2-.3v-.7a145.3 145.3 0 0 1-.2-5.6V21l-.1-.2-.4-.5-1.1-1.3-.5-.5-1.8-2.2-.2-.3v-4.2l.1-.2.3-.2.1-.8A13 13 0 0 1 25 9l.1-.7.1-.2h.2v.3c0 .6.1.9.2.4 0-.3.3-1 .5-1v-.1zm9.6 23.8l-.2.1-.3.2h.2l.3.3h.5s0-.2-.2-.3zm-4.7 10.5v.4l-.1.1.1-.3V42zm-.1.7l-.1.2v-.2zm.2 5.3v.1l.1.7.2.6V51h.1l.6.7.5.1h.2v-.5c0-1.1-.1-1.9-.4-2h-.1l-.2-.3v-.5V47.9h-.6zm-.3.6c-.2 0-.5.6-.5 1v.2l.2.2.5.5V50c0-.4 0-1.4-.2-1.5zm-3.4 2h-.2l.2.1.2.1-.2-.1zm-.7.3l-.2.6c0 .5.3.8.7.8h.2v-.5h.6v-.5H28l-1.2-.4z"]},Vi={prefix:"activity",iconName:"snow_ice_mixed",icon:[64,64,[],"","M32 4a28 28 0 1 0 0 56 28 28 0 0 0 0-56zm15.8 6.3a27 27 0 0 1 3.4 40.3 27.8 27.8 0 0 1-25.4 7.5l2.1-4.8h-2.8c-1.3-.1-2.2-.5-2.2-.5V52l.3-2 .6-1.7c.3-.8.4-2 .4-2 0-1.4 1.3-4.2 1.5-5 .3-.8.3-1 .2-1.5l-1-4.4c-.9-2-.4-3.8-.4-3.8 0-.5.4-1.5.4-1.5-.1 0-1.3.2-1.7.1-.5-.1-1-.6-1-.6l-.6-.3-.3-.3s-1-.5-.9-.8c0 0-1-3.2.6-5.5.2-.3.3-.7.8-1.3.4-.7.8-.6 1.6-1.5l1-1.7c.4-.7.8-1 .8-1l.7-.4.7-.2.6.1c.3.1 1.3.7 1.2 0-.1-.5 0-1.5.3-1.8.3-.3 1.4-.6 1.9-.7.4 0 .9 0 1.6.5.8.3.5 1.8 1 1.8s.4.6.4.6c.1.4-.2.6-.2.6v.7 1.1c0 .4-.5.4-.5.4s-.6.1.5 1l.5.1c.3.1.4 0 .8-.1.5-.1 1.2 0 1.8-.2l2-.7 1-.6c.2 0 .3 0 .4-.3 0-.2.2-.3.5-.4.2-1.3.9-5.2 1.1-5.7 0 0 0-.5-.3-.5l-1 .2s-1-.1-.4-.3l1.4-.2h.3s1.6 0 1.6.3l1.4 2.2a85 85 0 0 1-2-1c-.3.5-1.1 3-1.2 5.3l.3.3c.5.1-.4.4 0 .7.4.3-.1.8-.1.8-.2.5-.7.6-.7.5h-1c-.3-.1-1 .2-1.3.4l-2 1.3c-.5.4-2 .7-2 .7.2.2.3 1.3.4 1.5l.2.8.5.7.4 1 .5 1.4.5.8.8 1 .3-.4.4-.3zM32.7 27.2l-.2.1-.4 1.2-.3.4c-.5.4-.6 1.4-.6 1.6-.2 1.6.3 2.4.3 2.4l.4 1.2 1 2.7c.2.8.2 1.5.2 1.9 0 .4-.6 1.6-1.1 2.4l-.8 1.5c-.4 1 0 1.1.1 1.2.2 0 .3.2.3.4s-.3.3-.5.5c0 .3 0 .8.3 1l6.1-13.3c-.2 0-.3 0-.4-.2-.2 0-.4-.2-.6-.4-.3-.2-.4-.6-1-.9-.5-.3-2-2.4-2.3-2.7-.3-.3-.4-.4-.4-.8v-.2h-.1zM28 48c-.4 0-.8 0-1 .2l-.4.6c0 .2 0 0 .3.3.1.2 0 .3 0 .4-.2.1-.2.1-.1.2l.3.3c0 .2.3.5.6.6l1 .3h.2l1.2-2.5h-.4a6 6 0 0 0-1.7-.4z"]},Ui={prefix:"activity",iconName:"snowshoeing",icon:[64,64,[],"","M32 4a28 28 0 1 0 0 56 28 28 0 0 0 0-56zm4.2 6.7c1.2 0 2 1 2 1 .1.5.3 1 .6 1.4.5.7.3 1.4 0 2l-.3.7c0 .5-.1.9-.5 1-.5.2-.2 1.1-1 1V19c.6 2.5.3 5 .3 5v.5l.2.1c.4 0 .8.1 1.1-.3.6-.6 1.3-.2 2-.3.1 0 .3 1 .2 1.3-.3.4-.6 1-1 1.1-.5.2-.7.7-1.1 1-.3.2-.3.4 0 .7.3.3.5.4.8 0 .2-.4.6-.4 1-.4s.5.1.5.4c0 .2 0 .4.2.6.2.4.1.7-.3 1l-.5.5c-.6.2-.9.6-1.1 1.2-.5 1-.8 2.2-1.4 3.3-.2.3 0 .9.1 1.4.5 1.3.8 2.7 1.1 4 .2.8.1 1.4 0 2.4-.7 7.6 1 7.1 1 7.1.6-.4.8-.2 1 .2.4.3 1.2 0 1.2.8h.8l2-.9c.4-.1.5.2.7.4.3.2.3.5.1.7a6.2 6.2 0 0 1-4.1 1.8H31c-.7 0-1.3-.3-2-.3-.3 0-.2-.3-.2-.5s.2-.5.3-.5h.3l5-.4h.2c.4 0 .9-.1 1.2-.4 0 0 .3 0-.5-2.6-.3-.7-.3-1.5-.3-2.3v-2.3l-.2-.4-.3.3a32 32 0 0 1-1.4 3.4c0 .2 0 .7.2 1 .3.5 0 .6-.4.5-.6 0-.3.6-.6.7l-.3.2-.1-.3c.4-.4.3-.7 0-1.1-.1-.2-.2-1 .5-.4 0 0 .3-.2.3-.4.2-1 .7-1.7 1-2.6v-.3h-.3s-5.1 3-5.5 3.4l.4.2c.4 0 .7-.3 1-.4l1.1-.5h.5l-.2.6-1.8 1.2c-.4.3-1 .4-.8 1 .1.4-.4.6-.7.5-1-.4-1.3-.3-2.6-.2l-8 .8-.7.2c-.4.3-.7-.2-.8-.4-.2-.4.2-.5.4-.6l9.7-1.5c.6-.1.7-.1.4-.8-.2-.6-.3-1.3-.9-1.8-.2-.1-.2-.6-.1-1l.5-.4s4.9-2.4 6-4.5l1.3-2.6c.2-.4.2-.6 0-1-.4-1.5-1.1-2.8-1.8-4-.3-.6-.5-1.3-.5-2-.2 0-1.4.2-1.8 0-.4 0-1-.4-1-.4l-.6-.4-.3-.2s-1-.6-.9-.9c0 0-1-3 .3-5.5l.8-1.3c.5-.6.8-.6 1.5-1.5l1-1.7c.4-.8.8-1 .8-1l.7-.5.7-.3.6.2c.2 0 .6.3 1 .3.6-.7.8-1.5.6-2.5 0-.6.2-1.2-.2-1.8-.1-.1 0-.6.2-.8.9-1 1.7-1.2 2.4-1.1zM37.8 27l-.2.1v.2l.3-.2h-.1zm0 2.5h-.2c-.5.4-.8 1-.6 1.7l.2.5c-.7.5.2 1 0 1.6 0 .2.4.5.6.8v-.8l.5-.7.9-2.2-.3-.6c0 .2 0 .4-.2.5h-.4v-.2c0-.4-.2-.6-.4-.6zm-4.7 7.8H33c-.3 1.1-1 1.8-1.5 2.8v.4l.3-.1c.3-.1.6-.2.6-.7 0-.4.4-.8.6-1.2l.3-.9v-.3z"]},Bi={prefix:"activity",iconName:"via_ferrata",icon:[64,64,[],"","M32 4a28 28 0 1 0 0 56 28 28 0 0 0 0-56zm11.4 3.3C67 21.4 62 51.8 36.4 59c.7-1.4 1.6-3.1 2.5-4.4l.6-.7h-7.8c-.6 0-1-.5-1-1.1 0-.4.1-.7.4-1h-.9c-.3 0-.5 0-.5-.4 0-.7-.3-1.4 0-2.2.2-.8-.2-1.6-.6-2.4a8.3 8.3 0 0 1-1.1-3.7 1 1 0 0 0-.3-.6L26.4 41l-3.6-3c-.7-.6-1.4-1.1-1.9-1.9-1.1-2 .2-4.1.2-4.1.4-.8.3-1.6 0-2.4-1.5-4-.2-6.4-.2-6.4.2-.4.5-.8 0-1.4l-.8-1.7c-.4-.8-.5-1.8-.3-2.6.4-1.3 3-2.1 4.1-1.4.3.2.4.5.6.8l.4.6c.5.4.7 1 .6 1.6 0 .5.2.6.6.4a11 11 0 0 0 3.6-3.5l.6-.6c1.6-1.7 3.5-3 5.3-4.3.5-.3 1.2-1.4 1.8-1.3H42.8l.6-2.6zm-7.1 5.2l-.3.3c-.3.3-.7 0-1.1.3-.9.8-1.3 1.7-2 2.6l-.6.7c-.6.6-1.2 1-1.7 1.7L28 21c-1.1 1-1 2.4-1.5 3.4l.1.4 1.8.9c.8-.4 1.6 0 2.4-.2l3.9-.9 1.8-.2.7.4.1.3h5.8l-.1-.5c-.4-1.6-.5-4.4-.9-6.4s0-4.4 0-4.6l.1-.6h-5c-.3 0-.7-.3-.9-.6zm0 13.4c-.2.4-1 .2-1.3.2-.8-.1-1.5.2-2.3.4-1 .3-1.8.9-3 1h-1c-.7-.2-1.3 0-2-.1v1.7c.2 0 .5-.1.7-.3a4 4 0 0 1 2.8-.7c1 0 1.6.6 1.7 1.5.1 1.3.4 2.5.4 3.8 0 1.3 0 2.7.5 4 .1.2.3.6.5.6.4 0 .6.4.9.6.2.3.4.3.7.3a2 2 0 0 1 1.6.9l.1.3H39l-.1-1.8c0-1.4.7-3.1 3-6a7 7 0 0 0 1.6-4.9h-6.2c-.6 0-1.1-.5-1.1-1v-.5zm-7.1 5.9l-.4.3v.2c-.1.8-.1.8-1 1-.5 0-1.1.3-1.7.4.3 1.2 2 3.8 2.4 4.8.5 1 1 2.2 1.9 3v.4c0 1 .1 1.8.4 2.7.3 1 .3 2 .4 3 0 .5.3 1 .4 1.4 0 .7.5 1 1 1.2l1 .5c.3.2.8.7.8 1H41c.3-.7.5-1.6.5-2.6 0-3.4-.4-2-1.4-3.4-.4-.6-.7-2-1-3.3h-5.5c-.6 0-1-.5-1-1.1 0-.4.1-.8.5-1h-1.7c-.6-1.2 0-2.5-.6-3.7l-.5-1.4c-.5-1-1-2-.9-3.1l-.2-.3z"]},Ri={prefix:"document-type",iconName:"outing",icon:[64,64,[],"","M 21.654297 4 L 20.226562 9.5957031 C 17.763546 10.08053 15.497747 11.350995 13.685547 13.261719 L 8.609375 11.101562 L 11.394531 16.458984 C 10.287742 18.578547 9.6666696 20.996393 9.5839844 23.5 L 4 26.162109 L 10.007812 27.978516 C 10.519189 30.216937 11.462167 32.314918 12.763672 34.119141 L 10.521484 40.363281 L 15.685547 37.181641 C 16.224197 37.598161 16.786995 37.97163 17.369141 38.298828 C 17.41544 33.633463 20.48998 30.918482 25.494141 32.421875 C 26.752154 32.79982 28.470438 32.881775 29.552734 33.523438 C 30.503278 29.864387 32.878523 25.882812 36.423828 25.882812 L 42.007812 23.222656 L 35.998047 21.404297 C 35.48667 19.165875 34.545646 17.067895 33.244141 15.263672 L 35.486328 9.0195312 L 30.322266 12.201172 C 28.385093 10.678712 26.155852 9.7353058 23.849609 9.4648438 L 21.654297 4 z M 36.980469 27.007812 C 33.435165 27.007812 31.061871 30.989386 30.111328 34.648438 C 29.029032 34.006776 27.310747 33.922866 26.052734 33.544922 C 20.069154 31.747282 16.827164 35.972436 18.246094 42.363281 C 18.466603 43.356495 18.500261 44.318144 18.783203 45.230469 C 16.638892 46.589774 12.634766 49.268696 12.634766 52.242188 C 12.634766 56.623055 18.270327 60.000011 22.148438 60 L 51.8125 60 C 55.690596 60 60 56.623056 60 52.242188 C 60 49.268695 57.323994 46.589774 55.179688 45.230469 C 55.462643 44.318163 55.523187 43.368075 55.714844 42.363281 C 56.81099 36.616546 53.716511 32.434064 47.910156 33.544922 C 46.630035 33.789828 45.429958 34.006776 44.347656 34.648438 C 43.397113 30.989386 40.525774 27.007813 36.980469 27.007812 z"]},Hi={prefix:"miscs",iconName:"paragliding",icon:[14,14,[],"","M7.1 0C5 0 2.1.5.8 1c-1.3.4-.7.6-.4 1.3.3.7 1 1.2 1.3 1.8l.8.3 2 2.4.2 1.7c.3.5.7.5 1.2.7V11l-.5.8v1.7c0 .3.3.5.5.5.3 0 .6-.2.6-.5V12l.6-.4.5.4v1.5c0 .3.3.5.6.5.2 0 .5-.2.5-.5v-1.7c.1-.4-.3-.5-.4-.7V9.2c.5 0 1-.4 1.2-.7l.2-1.7 1.9-2.4c.4 0 .5 0 .8-.3l1.3-1.8c.1-.3.8-.9-.4-1.4-1.2-.4-4-.9-6.2-.9zm0 3.7c.5 0 2 0 3 .3l-.7 2.5-1 1.7-.8.2H6.3l-.6-.2a4 3.5 0 00-.8-1.7L4 4zm-3.3.4l.7 2.3-1.7-2zm6.6 0l1 .2-1.7 2.1zM7.1 6.5c-.5 0-1 .3-1 .8s.4.9 1 .9c.7 0 1-.3 1-.8 0-.6-.5-.9-1-.9z"]},Gi={prefix:"quality",iconName:"draft",icon:[16,16,[],"","M 8,1 C 4.1399295,1 0.99999994,4.1399297 1,8 1,11.86007 4.1399295,15 8,15 11.860071,15 15,11.86007 15,8 15,4.1399295 11.860071,0.9999997 8,1 Z M 8,2 V 8 H 14 C 14,11.319574 11.319575,14 8,14 4.6804256,14 2,11.319574 2,8 1.9999999,4.6804259 4.6804256,2 8,2 Z"]},Zi={prefix:"quality",iconName:"empty",icon:[16,16,[],"","M 8,1 C 4.1399295,1 0.99999994,4.1399297 1,8 1,11.86007 4.1399295,15 8,15 11.860071,15 15,11.86007 15,8 15,4.1399295 11.860071,0.9999997 8,1 Z M 8,2 C 11.319575,1.9999997 14,4.6804257 14,8 14,11.319574 11.319575,14 8,14 4.6804256,14 2,11.319574 2,8 1.9999999,4.6804259 4.6804256,2 8,2 Z"]},Wi={prefix:"quality",iconName:"fine",icon:[16,16,[],"","M 8,1 C 4.1399295,1 0.99999994,4.1399297 1,8 1,11.86007 4.1399295,15 8,15 11.860071,15 15,11.86007 15,8 15,4.1399295 11.860071,0.9999997 8,1 Z M 8,2 V 8 H 2 C 1.9999999,4.6804259 4.6804256,2 8,2 Z"]},Yi={prefix:"quality",iconName:"great",icon:[16,16,[],"","M 8,1 C 4.1399295,1 0.99999994,4.1399297 1,8 1,11.86007 4.1399295,15 8,15 11.860071,15 15,11.86007 15,8 15,4.1399295 11.860071,0.9999997 8,1 Z"]},Ji={prefix:"quality",iconName:"medium",icon:[16,16,[],"","M 8,1 C 4.1399295,1 0.99999994,4.1399297 1,8 1,11.86007 4.1399295,15 8,15 11.860071,15 15,11.86007 15,8 15,4.1399295 11.860071,0.9999997 8,1 Z M 8,2 V 14 C 4.6804256,14 2,11.319574 2,8 1.9999999,4.6804259 4.6804256,2 8,2 Z"]},Qi={prefix:"waypoint",iconName:"access",icon:[14,14,[],"","M 12,1.387565 C 12,1.387565 11.837305,1 11.452159,1 11.173945,1 11.022741,1.196444 11,1.310149 9.7584375,1.132091 9.4146607,1.77513 8.3540583,1.77513 7.1937825,1.77513 6.4186525,1.381759 6.4186525,1.381759 V 4.4097012 C 6.4186525,4.4097012 7.1937825,4.8708117 8.3540583,4.8708117 9.4107899,4.8708117 9.7656951,4.2321277 11,4.4077658 V 7.6074755 C 10.332769,7.6945688 9.9018991,7.9931051 9.9018991,8.3540583 9.9018991,8.4184105 9.9227047,8.4769566 9.951252,8.537438 L 5.5283658,10.306399 C 5.0483851,10.057215 4.4116366,10 3.710536,10 2.2135,10 1,10.595742 1,11.452159 1,12.306157 2.2135,13 3.710536,13 5.2070884,13 6.4186525,12.306157 6.4186525,11.452159 6.4186525,11.244103 6.3470425,11.045724 6.2164026,10.866215 L 10.766058,9.0459659 C 10.97363,9.0967703 11.204427,9 11.452159,9 12.306157,9 13,8.7812991 13,8.3540583 13,7.9931051 12.667231,7.6945688 12,7.6074755"]},Ki={prefix:"waypoint",iconName:"base_camp",icon:[14,14,[],"","M 4.2626124,4 4.14478,4.22071 1.672226,9.58947 H 1.1329 C 1.0594663,9.58947 1,9.68146 1,9.79478 1,9.90837 1.0594663,10 1.1329,10 H 6.6076751 7.3927117 12.867487 C 12.940666,10 13,9.90837 13,9.79478 13,9.68146 12.940534,9.58947 12.867101,9.58947 H 12.327775 L 9.8552209,4.22071 9.7373882,4 9.6191693,4.22071 7.1470017,9.58947 H 6.852999 L 4.3808313,4.22071 Z M 4.2626124,6.90374 4.9514507,9.58947 H 3.5741605 Z M 9.7373882,6.90374 10.425839,9.58947 H 9.0489363 Z"]},Xi={prefix:"waypoint",iconName:"bergschrund",icon:[14,14,[],"","m 29.218319,12.874222 -27.7015693,36.418873 29.7974453,0 32.310067,0 L 47.352903,27.901408 44.00274,32.309625 29.218319,12.874222 Z m -0.532061,3.530215 15.405495,19.182522 3.461432,-4.477 12.854434,16.368464 -26.287459,0 -2.275928,-3.463454 -6.148036,1.438385 -3.137745,-1.56786 -3.40074,1.830856 -2.093852,-1.830856 0.131498,-3.663736 -7.9445017,2.097898 19.4354027,-25.915219 z m 0.540153,2.72909 -7.533823,9.90281 5.93764,-2.306273 1.596183,6.651775 1.592138,-6.651775 5.935617,2.306273 -7.527755,-9.90281 z m 0.04451,1.689243 4.867449,6.228958 -4.033954,-2.075645 -0.898232,4.752135 -0.835518,-4.687397 -3.451317,1.490985 4.351572,-5.709036 z m 18.618093,13.192282 -4.309089,5.662506 3.396694,-1.319025 0.912395,3.807372 0.912393,-3.807372 3.394672,1.319025 -4.307065,-5.662506 z m -0.004,1.01557 c 0,0.0694 2.77562,3.556515 2.77562,3.556515 l -2.275927,-0.912395 -0.509807,2.079692 -0.327735,-2.073622 -1.982584,0.653444 c 0,0 2.320433,-3.373758 2.320433,-3.303634 z m -31.915573,6.667959 -0.277157,2.913186 3.236873,2.265812 3.700152,-1.988654 3.143813,1.804557 5.132467,-1.294749 0.370218,2.172751 -25.8949888,0 3.5605611,-4.161406 7.0280617,-1.711497 z"]},ts={prefix:"waypoint",iconName:"bisse",icon:[14,14,[],"","M6 3L1 4.8V11h1V5l3.81-1.53v.9a.73.73 0 0 1-.1-.1.24.24 0 0 0-.38 0 .72.72 0 0 1-.55.25.24.24 0 0 0 0 .49c.27 0 .53-.1.74-.25a1.2 1.2 0 0 0 1.48 0 1.2 1.2 0 0 0 1.48 0c.21.16.47.25.74.25a.24.24 0 0 0 0-.49.72.72 0 0 1-.55-.26.24.24 0 0 0-.38 0 .73.73 0 0 1-.1.1v-.89L12 5v6h1V4.8L8 3v1.47a.7.7 0 0 1-.81-.2.24.24 0 0 0-.37 0 .72.72 0 0 1-.82.2zM4.75 6.5a.24.24 0 0 0-.19.08.72.72 0 0 1-.55.26.24.24 0 0 0 0 .49c.27 0 .53-.09.74-.25.21.16.47.25.74.25h.06c.26 0 .5-.09.7-.24.21.15.46.24.72.24h.06c.26 0 .5-.09.71-.24.2.15.45.24.71.24h.06c.27 0 .53-.09.74-.25.21.16.47.25.74.25a.24.24 0 0 0 0-.49.72.72 0 0 1-.55-.26.24.24 0 0 0-.38 0 .72.72 0 0 1-1.1 0 .24.24 0 0 0-.2-.08h-.02-.03a.24.24 0 0 0-.18.08.72.72 0 0 1-.53.26c-.2 0-.4-.1-.53-.26a.24.24 0 0 0-.18-.08h-.06a.24.24 0 0 0-.18.08.72.72 0 0 1-1.11 0 .24.24 0 0 0-.19-.08zm-.82 2.56a.24.24 0 0 0-.2.08.72.72 0 0 1-.55.26.24.24 0 0 0 0 .5c.28 0 .53-.1.75-.26a1.2 1.2 0 0 0 1.48 0c.2.16.47.25.74.25h.02c.27 0 .52-.09.73-.24.2.15.46.24.73.24h.02c.27 0 .53-.09.74-.25a1.2 1.2 0 0 0 1.49 0c.2.16.46.25.74.25a.24.24 0 0 0 0-.49.72.72 0 0 1-.56-.26.24.24 0 0 0-.37 0 .72.72 0 0 1-1.1 0 .24.24 0 0 0-.37 0 .72.72 0 0 1-1.12 0 .24.24 0 0 0-.19-.08H6.9h-.01a.24.24 0 0 0-.19.08.72.72 0 0 1-1.1 0 .24.24 0 0 0-.37 0 .72.72 0 0 1-1.12 0 .24.24 0 0 0-.18-.08z"]},es={prefix:"waypoint",iconName:"bivouac",icon:[14,14,[],"","M 6.9647068,1.0014181 C 6.8981748,0.99369906 6.8301883,1.0177211 6.7825413,1.0676731 6.0196706,1.8726811 5.0802127,3.1882651 5.3524084,4.5208544 5.3637715,4.5774933 5.334917,4.6347542 5.2817174,4.6557322 5.2295508,4.6777585 5.1697718,4.6573092 5.1387818,4.6080123 4.9450942,4.2902047 4.767506,3.8146841 4.8331016,3.1874601 4.8434315,3.0867681 4.7822187,2.9907101 4.6851167,2.9587201 4.589564,2.9288271 4.4844352,2.9709251 4.4353678,3.0616531 4.0851805,3.7035611 3.7696297,4.5095135 3.7696297,5.3313029 3.7685965,7.1421766 5.2147664,8.6117461 6.9992751,8.6117461 8.7848168,8.6117461 10.231251,7.1421766 10.231251,5.3313029 10.231251,4.8755691 10.027555,4.2750118 9.7228198,3.6315301 9.6835658,3.5481451 9.5898711,3.5014391 9.4994837,3.5218931 9.4096123,3.5418211 9.3439865,3.6225781 9.3429533,3.7159271 9.3300407,4.3976929 9.148799,4.8604638 8.9261868,5.1735514 8.9003625,5.2102618 8.8517646,5.2213462 8.8119941,5.2003694 8.7737731,5.1788676 8.7563644,5.130585 8.7723759,5.089154 8.9288755,4.6701311 8.8533606,4.0481491 8.0553675,3.1728671 7.3074751,2.3537001 7.1230136,1.7084631 7.1581357,1.2380451 7.1653667,1.1457441 7.114666,1.0577121 7.0299599,1.0199531 7.0089126,1.0101211 6.9868838,1.0039901 6.9647068,1.0014181 Z M 2.7636425,7.8774127 C 2.4659688,7.8792318 2.1841958,8.0584385 2.0629473,8.3553999 1.9012827,8.7508237 2.0857393,9.2048053 2.474664,9.3689536 L 5.0043913,10.436143 2.4719451,11.497022 C 2.0830203,11.660121 1.8966218,12.114493 2.0582863,12.509392 2.1796639,12.80832 2.4649772,12.99014 2.7640309,12.99014 2.8611331,12.99014 2.96056,12.971365 3.0545632,12.930983 L 6.9992751,11.277747 10.93855,12.940843 C 11.034103,12.981224 11.133149,12.999999 11.231802,12.999999 11.530854,12.999999 11.815651,12.819891 11.937545,12.522012 12.09921,12.127113 11.913588,11.673001 11.524664,11.508853 L 8.9961017,10.440875 11.527382,9.3799961 C 11.916307,9.2163724 12.10271,8.7631795 11.942594,8.3672314 11.780931,7.9718073 11.333688,7.7826754 10.944764,7.9468234 L 7.0016055,9.5996651 3.0615545,7.9369639 C 2.9641943,7.8959269 2.862867,7.8768063 2.7636425,7.8774127 Z"]},is={prefix:"waypoint",iconName:"camp_site",icon:[14,14,[],"","M 7,7 9,10 H 5 Z M 2,10 H 1.2443223 C 1.1095238,10 1,10.349025 1,10.5 1,10.651385 1.1095238,11 1.2443223,11 H 12.755678 C 12.890476,11 13,10.651385 13,10.5 13,10.349025 12.878308,9.944032 12.755678,10 H 12 L 7,3 Z"]},ss={prefix:"waypoint",iconName:"canyon",icon:[14,14,[],"","M 13,13 V 6.9999881 C 13,6.9784113 12.997277,6.9568345 12.991053,6.9360875 L 12.433221,5.155171 12.060555,2.1734219 C 12.048885,2.0738369 11.969139,1.9995629 11.874611,1.9995629 H 11.3125 C 11.246758,1.9995629 11.185296,2.0369069 11.151452,2.0974879 L 10.589341,3.0974899 C 10.573781,3.1236319 10.565612,3.1539219 10.562889,3.1850419 L 10.381613,5.898326 9.5082988,6.6431409 C 9.4631743,6.6817302 9.4375,6.7389917 9.4375,6.7995727 V 10.676759 L 8.0806535,11.400412 H 6.5534232 L 6.060166,10.346468 5.875389,7.1871254 C 5.871499,7.1269593 5.8423237,7.0721874 5.7964212,7.0369176 L 4.562111,6.0974966 V 4.4003976 C 4.562111,4.3207294 4.5193205,4.2497749 4.4516338,4.2174097 L 2.875,3.4705199 V 1.7991469 C 2.875,1.7290229 2.8403786,1.6647069 2.784362,1.6286069 L 1.846473,1.0277759 C 1.7834544,0.98877187 1.7068205,0.99084687 1.6461359,1.0339999 L 1.0828579,1.4331709 C 1.0311203,1.4705159 1,1.5327569 1,1.6003919 V 13 Z"]},ns={prefix:"waypoint",iconName:"cave",icon:[14,14,[],"","M 13,11 10,7 9,8 6,4 1,11 H 4 C 4.5788425,9.08642 5.5126506,8 6.5,8 7.4870505,8 8.4211575,9.086103 9,10.999684"]},as={prefix:"waypoint",iconName:"cliff",icon:[14,14,[],"","M 1.2216203,10.587294 H 1.2063531 C 1.092588,10.587294 1,10.679636 1,10.793647 1,10.907658 1.092588,11 1.2063531,11 H 12.793647 C 12.907658,11 13,10.907658 13,10.793647 13,10.679636 12.907658,10.587294 12.793647,10.587294 H 12.230731 L 11.004432,9.15932 10.13445,4.8103916 C 10.122137,4.7478456 10.081507,4.6946566 10.024624,4.6660916 L 8.7037675,4.0059096 C 8.6510712,3.9795616 8.58951,3.9770996 8.5348436,3.9987686 L 7.5350899,4.3989166 6.9650332,4.0187146 C 6.9123369,3.9835016 6.8458508,3.9746366 6.7855208,3.9945826 L 4.8044817,4.6550106 C 4.7360256,4.6779116 4.6845605,4.7347946 4.6685545,4.8049746 L 3.7311007,8.929574 3.5269638,9.625462 2.3624723,10.587294 H 1.6828367"]},rs={prefix:"waypoint",iconName:"climbing_indoor",icon:[14,14,[],"","M 5.1117972,1.0002003 C 5.442205,0.99095871 5.4995622,1.3039209 5.394641,1.6124742 5.3799268,1.6560472 5.3632926,1.6965552 5.3446205,1.73514 4.8815512,1.2320117 4.0270565,1.4180694 3.8296804,2.0736795 L 3.7750954,2.2538536 C 3.618808,2.1850649 3.5050449,2.0631722 3.4845582,1.8662925 3.4165158,1.2160187 4.0887138,1.4842108 4.4817474,1.2430764 4.7551774,1.0751941 4.9616119,1.0044008 5.1117972,1.0002003 Z M 6.8691342,1.7507509 C 7.3890613,1.7302199 7.8273488,2.126553 7.8483115,2.6357474 7.8693504,3.1467759 7.4627412,3.5746324 6.9450622,3.5950735 6.4251355,3.6156047 5.9860935,3.2196692 5.9651157,2.7101081 5.9441518,2.2009138 6.3492072,1.7712811 6.8691342,1.7507509 Z M 9.1427129,1.6922786 C 9.3195985,1.6980717 9.4847898,1.8053982 9.5526542,1.9774419 L 10.366181,4.0491064 C 10.477692,4.3335306 10.271066,4.6419834 9.9601583,4.6542601 L 8.2015347,4.723702 8.2965768,7.0323058 10.176744,7.4363012 C 10.486029,7.5030683 10.680876,7.8200129 10.577559,8.1265143 10.35944,8.7704232 10.422381,8.5845673 9.9165982,10.07876 9.8219467,10.358811 9.5137055,10.510933 9.2273528,10.417886 8.94139,10.32521 8.7856842,10.023316 8.8806944,9.7428834 9.0318845,9.2959778 9.176829,8.8687622 9.3510862,8.3533395 L 8.2200295,8.1102294 6.9835334,8.1590539 C 6.5790436,9.4798364 6.6495243,9.250045 6.4960595,9.7510526 6.6300145,10.261662 7.0309501,11.7868 7.1745959,12.332308 7.2493976,12.618182 7.073513,12.909698 6.7819991,12.982944 6.4905016,13.056577 6.1928554,12.885035 6.1176645,12.598829 5.9584309,11.993669 5.5600746,10.478256 5.4012319,9.8734866 5.376343,9.7792877 5.3783411,9.6799872 5.4071551,9.5869896 5.5916773,8.9836846 5.8298221,8.2057966 5.9220987,7.9045205 L 5.7953704,4.8262563 4.0621226,4.8946961 C 3.7515898,4.9069597 3.5199287,4.6161697 3.6080726,4.3238814 3.6700678,4.1163945 4.1855762,2.4034155 4.2482756,2.1948136 4.3152696,1.9720497 4.5445925,1.8397936 4.7707547,1.8833939 5.0362372,1.9342912 5.1957693,2.1967124 5.1204984,2.4462585 5.0129256,2.8043402 4.7687112,3.616192 4.6591039,3.9795218 L 9.2898876,3.7891245 8.7039509,2.2972164 C 8.6138237,2.0674292 8.7309881,1.8097762 8.9652308,1.7215391 9.0236072,1.699576 9.0837543,1.6903459 9.1427159,1.6922772 Z M 10.381211,5.2467435 C 10.717645,5.2165563 11.364287,5.4554407 11.133832,6.0822258 11.019473,6.3939307 10.798596,6.2441605 10.335757,6.2661111 9.3037576,6.3156803 9.3661732,5.8252785 9.7237445,5.5065421 9.9025381,5.3473575 10.088513,5.2729993 10.381211,5.2467435 Z M 3.8937641,9.495508 C 4.1341252,9.4738901 4.7481195,9.6585469 4.9811782,9.9881342 5.0497301,10.085741 5.0846653,10.196177 5.0675185,10.317378 5.0614047,10.360244 5.0493096,10.403774 5.0290662,10.449771 4.7633455,11.049287 4.3111646,10.493301 3.8483259,10.515251 2.8163113,10.564453 2.8787416,10.07442 3.2363134,9.7556827 3.4150915,9.5961315 3.6010665,9.5217626 3.8937641,9.4955076 Z M 8.7025672,10.589094 C 8.8097199,10.694731 8.9413236,10.775339 9.0900224,10.823851 9.4391189,10.937204 9.8193167,10.850498 10.084296,10.59752 10.638201,10.609452 10.607994,10.996105 10.362016,11.300514 10.212075,11.486118 10.041259,11.588995 9.7564734,11.661604 9.4297367,11.745057 8.3122957,11.547105 8.4778047,10.901204 8.5246441,10.717466 8.6035979,10.627542 8.7025672,10.589094 Z"]},os={prefix:"waypoint",iconName:"climbing_outdoor",icon:[14,14,[],"","M 11.677,1 C 11.855252,1 12,1.141484 12,1.31584 V 12.635072 C 12,12.809029 11.855252,13 11.677,13 H 3.9127163 C 3.7968721,13 3.6894839,12.889413 3.6319699,12.791089 3.574456,12.693164 3.5751637,12.572016 3.6343093,12.474489 L 4.7951172,10.557 C 4.820407,10.515203 4.8419331,10.470734 4.8590649,10.424957 L 5.3113782,9.2038371 C 5.1816663,9.1317861 5.0780026,9.015221 5.0294624,8.8655463 L 5.0165947,8.8255907 2.9854737,12.888124 C 2.9503942,12.958981 2.8776881,13 2.8018186,13 2.7720419,13 2.7414869,12.993765 2.7125255,12.979832 2.6113664,12.931665 2.569198,12.812581 2.6185535,12.713461 L 3.6389883,10.672681 C 3.6312382,10.673477 3.6233613,10.676487 3.6152032,10.676487 3.5687022,10.676487 3.5209586,10.671252 3.4740501,10.660504 3.1448746,10.584473 2.9410982,10.262928 3.0190072,9.9416838 L 3.3625314,8.5226891 2.2656712,7.8757889 C 2.0502998,7.748804 1.9149321,7.4400915 2.0609603,7.0599335 2.2999899,6.4361557 3.0190072,4.5651815 3.0190072,4.5651815 3.1768646,4.1547698 3.6453936,3.946121 4.0663466,4.1001744 L 4.7487161,4.3498017 5.8330986,4.5393056 6.9588132,3.484858 C 7.0485513,3.399671 7.1681672,3.369031 7.2840109,3.380973 L 8.4015373,1.145362 C 8.4500773,1.04664 8.572102,1.005868 8.6744848,1.054035 8.7756442,1.102202 8.817423,1.220906 8.7680669,1.320025 L 7.6170073,3.622229 C 7.6781922,3.768719 7.6482248,3.943221 7.5238151,4.0594576 L 7.2886899,4.279404 5.7964459,7.2646584 6.1579067,8.3853179 6.6714381,8.0424607 C 6.8509142,7.9226413 6.9731823,7.7369723 7.0098934,7.5279847 L 7.4056678,5.2851436 C 7.4203521,5.2007525 7.4494556,5.1194862 7.4910613,5.0446489 L 8.2611641,3.656096 8.9443133,1.231742 C 8.9830638,1.095204 9.110633,1 9.256254,1 Z M 4.5697404,2.191438 C 5.0755368,2.191438 5.4860648,2.592074 5.4860648,3.085682 5.4860648,3.579689 5.0755368,3.979546 4.5697404,3.979546 4.0639441,3.979546 3.6538057,3.579689 3.6538057,3.085682 3.6538057,2.592074 4.0639441,2.191438 4.5697404,2.191438 Z M 6.4351434,5.079277 6.2483692,5.2543205 C 6.1720918,5.3263716 6.0697056,5.3654352 5.9652832,5.3654352 5.9416253,5.3654352 5.9175853,5.3633451 5.8939271,5.3589663 L 4.5475144,5.1241795 4.033983,6.4621214 4.9042966,6.2870779 C 5.2122609,6.2249788 5.517378,6.40014 5.6120109,6.6927224 L 5.6182498,6.7128905 Z M 4.6102927,7.5664183 4.2355742,7.6417632 4.3771173,7.7250991 C 4.6051336,7.8592491 4.7178788,8.1211267 4.6566938,8.373902 L 4.5334773,8.8834312 4.8380092,8.2734422 Z"]},ls={prefix:"waypoint",iconName:"confluence",icon:[14,14,[],"","M 5.8426997,1.9999995 3.6494344,4.5670335 3.3986389,4.2845666 2.8844831,5.5481049 2.1075216,5.68471 1.9588494,6.7526437 1.5388078,6.611238 1.2326153,7.8827881 C 1.2326153,7.8827881 -0.42172916,10.238535 5.0932617,10.854963 10.608282,11.471148 5.4913585,9.9245807 5.4913585,9.9245807 5.4913585,9.9245807 1.1297396,8.7315194 6.1659527,7.9646598 11.201942,7.1977672 8.270486,7.0705945 8.270486,7.0705945 L 8.080845,6.6738655 C 8.5132722,6.7146079 11.588023,7.1497721 10.28583,7.5408213 8.9836357,7.9318705 8.3724792,8.1127394 8.3724792,8.1127394 8.3724792,8.1127394 10.449265,8.8609124 11.333718,8.3078854 11.333718,8.3078854 12.274548,7.7323274 12.704524,7.8215557 L 13,6.7947016 12.138437,7.0016536 12.134225,5.6241399 11.628542,6.1897056 10.776832,3.6438422 10.037245,5.5122411 9.6560013,4.2662989 8.6207765,5.4350262 8.2292727,4.742458 7.8145302,5.341571 7.1474519,3.3150225 6.770293,3.9194559 5.842701,1.9999995 Z M 5.7366985,2.7969356 6.4341469,4.4165502 7.019172,4.1396291 7.5292319,6.6781028 6.5054354,6.1839679 6.1760103,4.5852499 5.7140457,5.4960645 5.4794777,4.7640645 4.9523473,6.0565898 5.1672722,4.3605106 3.9918035,5.8995687 3.7029984,5.5402997 2.9976653,6.4166648 3.4613393,5.0230617 3.6038417,5.2589996 5.7366996,2.7969358 Z M 12.567015,8.4505154 C 12.377023,8.4203604 11.917919,8.4174714 11.287415,8.8775844 10.747609,9.2712447 8.7566583,8.7727924 7.7187905,8.3284424 7.7187905,8.3284424 3.5810054,8.5856434 5.7736099,9.1631197 7.96599,9.7405627 13.951435,11.183824 12.663764,8.4736094 12.663764,8.4736094 12.630346,8.4605664 12.567015,8.4505134 Z"]},cs={prefix:"waypoint",iconName:"gite",icon:[14,14,[],"","M 6.9993807,1 C 6.8651975,1 6.7310721,1.048954 6.6339098,1.146754 L 1.1502852,6.664787 C 0.94990495,6.8681445 0.94990495,7.1975608 1.1502852,7.4009182 1.3523169,7.6037215 1.6795858,7.6119116 1.8816175,7.4080001 L 2.2875004,7 H 11.723985 L 12.117535,7.4080001 C 12.218275,7.5099558 12.350336,7.5575084 12.483005,7.5575084 12.614574,7.5575084 12.747185,7.5048412 12.848476,7.4028855 13.050508,7.2000821 13.050508,6.8681445 12.848476,6.664787 L 7.3648516,1.146754 C 7.2676892,1.048954 7.1335639,1 6.9993807,1 Z M 6.9993807,2.250361 8.2544891,3.513705 6.9993807,4.7758689 5.7442721,3.513705 Z M 5.0133305,4.5 6.4716954,6 H 3.5549653 Z M 8.9858218,4.5 10.443014,6 H 7.5274563 Z M 3,8 V 12.431869 C 3,12.747156 3.1878693,13 3.5,13 H 10.5 C 10.812131,13 10.981207,12.746595 11,12.431869 V 8 Z M 5.4300062,9.2032133 H 6.2402959 C 6.4423276,9.2032133 6.6057668,9.3693708 6.6057668,9.5738362 V 11.427738 C 6.6057668,11.631096 6.4423276,11.796787 6.2402959,11.796787 H 5.4300062 C 5.2279746,11.796787 5.0645354,11.632204 5.0645354,11.427738 V 9.5738362 C 5.0645354,9.3693708 5.2279746,9.2032133 5.4300062,9.2032133 Z M 7.7526022,9.2032133 H 8.5765728 C 8.7786045,9.2032133 8.9436071,9.3692987 8.9436071,9.572656 V 11.427738 C 8.9436071,11.631096 8.7786045,11.796787 8.5765728,11.796787 H 7.7526022 C 7.5505705,11.796787 7.3859587,11.632204 7.3859587,11.427738 V 9.572656 C 7.3859587,9.3692987 7.5505705,9.2032133 7.7526022,9.2032133 Z"]},us={prefix:"waypoint",iconName:"glacier",icon:[14,14,[],"","M 6.5514006,3.999698 1,11 H 13 L 10,6.888497 8.9914007,8 Z M 6.5,4.678302 9.0085993,8.5 10,7.5050641 12.378501,10.651203 1.7465798,10.651519 Z M 6.4535864,5.203382 4.9979512,7.1065746 6.1451824,6.66314 6.4535864,7.9418521 6.7612085,6.66314 7.7502124,7.2012764 Z M 9.959739,8.063393 9.1271658,9.152198 9.783452,8.898671 9.959739,9.630132 10.136026,8.898671 10.791922,9.152198 Z"]},ds={prefix:"waypoint",iconName:"hut",icon:[14,14,[],"","M 6.9998179,1 C 6.9321862,1 6.8646998,1.0179711 6.8047936,1.0538135 L 1.180539,4 C 1.0363304,4.0860219 0.96849492,4.3412315 1.0140345,4.5 1.059574,4.6587686 1.206959,5 1.3755638,5 H 12.624492 C 12.792554,5 12.940481,4.6587686 12.986021,4.5 13.031561,4.3412315 12.963183,4.0860219 12.819516,4 L 7.1948427,1.0538135 C 7.1349364,1.0179711 7.0674495,1 6.9998179,1 Z M 2,6 C 1.5950232,6 1.5626192,6.1033441 1.5626192,6.5 1.5626192,6.8966561 1.5950232,7.0123236 2,7.0123236 H 12 C 12.404976,7.0123236 12.437436,6.8966561 12.437436,6.5 12.437436,6.1033441 12.404976,6 12,6 Z M 2,8 C 1.5950232,8 1.5626192,8.1033441 1.5626192,8.5 1.5626192,8.8966558 1.5950232,9.0079418 2,9.0079418 H 12 C 12.404976,9.0079418 12.437436,8.8966558 12.437436,8.5 12.437436,8.1033441 12.404976,8 12,8 Z M 2,10 C 1.5950232,10 1.5622002,10.103344 1.5622002,10.5 1.5622002,10.896656 1.5950232,11.003971 2,11.003971 H 6 V 10 Z M 8,10 V 11.003971 H 12 C 12.404976,11.003971 12.437436,10.896656 12.437436,10.5 12.437436,10.103344 12.404976,10 12,10 Z M 2,12 C 1.5950232,12 1.5622002,12.103344 1.5622002,12.5 1.5622002,12.896656 1.5950232,13 2,13 H 6 V 12 Z M 8,12 V 13 H 12 C 12.404976,13 12.437436,12.896656 12.437436,12.5 12.437436,12.103344 12.404976,12 12,12 Z"]},ms={prefix:"waypoint",iconName:"lake",icon:[14,14,[],"","M3.29 7.26c.21 0 .42.1.58.28a.8.8 0 0 1 .59-.26c.21 0 .42.1.58.27a.8.8 0 0 1 .59-.26c.2 0 .41.1.58.27a.8.8 0 0 1 .58-.26c.11 0 .2.12.2.26s-.1.26-.2.26c-.17 0-.33.1-.44.27-.03.06-.09.09-.15.09-.05 0-.1-.04-.14-.1-.11-.17-.27-.27-.44-.27-.17 0-.33.1-.44.27-.03.05-.09.09-.14.09-.06 0-.11-.04-.15-.1-.1-.17-.27-.27-.43-.28-.17 0-.33.1-.44.27-.04.06-.1.1-.15.1-.06 0-.11-.04-.15-.1-.1-.18-.26-.28-.43-.28-.1 0-.2-.12-.2-.26s.1-.26.2-.26m2.2-2.77c.22 0 .42.1.59.28a.8.8 0 0 1 .58-.27c.21 0 .42.1.58.28a.8.8 0 0 1 .59-.27c.21 0 .42.1.58.28A.8.8 0 0 1 9 4.53c.1 0 .19.11.19.26 0 .14-.09.26-.2.25-.17 0-.32.1-.43.27-.04.06-.1.1-.15.1-.06 0-.11-.04-.15-.1-.1-.17-.27-.28-.43-.28-.17 0-.33.1-.44.27-.04.06-.1.1-.15.1-.06 0-.11-.04-.15-.1-.1-.18-.26-.28-.43-.28-.17 0-.33.1-.44.27-.04.06-.1.1-.15.1-.06 0-.1-.04-.15-.1C5.82 5.1 5.66 5 5.5 5c-.1 0-.2-.12-.2-.26.01-.15.1-.26.2-.26M9.82 9.2a.8.8 0 0 1 .59-.26c.1 0 .19.12.19.26s-.09.26-.2.26c-.16 0-.32.1-.43.27-.04.05-.1.09-.15.09-.06 0-.11-.04-.15-.1-.1-.17-.27-.27-.43-.28-.17 0-.33.1-.44.27-.04.06-.1.1-.15.1-.06 0-.11-.04-.15-.1-.1-.17-.26-.28-.43-.28-.17 0-.33.1-.44.27-.04.06-.1.1-.15.1-.05 0-.1-.04-.14-.1-.11-.18-.27-.28-.44-.28-.1 0-.2-.12-.19-.26 0-.14.09-.26.2-.26.2 0 .41.1.58.28a.8.8 0 0 1 .58-.27c.21 0 .42.1.58.28a.8.8 0 0 1 .59-.26c.21 0 .42.1.58.27M1 8.18c0 .27.19.53.53.77 0 0 6.13 4.6 11.06.02.26-.2.4-.43.41-.67 0-.61-.95-1.16-2.42-1.52-.43-.3-1.5-.4-.92-.95.26-.25.45-.44.58-.59a.9.9 0 0 0 .32-.4c.04-.07.04-.1.04-.1v-.08c.02-.79-1.6-1.53-3.63-1.64-2.02-.12-3.67.42-3.69 1.21 0 .34.28.66.76.93l.21.11c.19.12.43.32.4.6-.03.57-.64.73-.8.76H3.8C2.13 6.96 1 7.53 1 8.19"]},ps={prefix:"waypoint",iconName:"local_product",icon:[14,14,[],"","M 6.9998599,3 C 10.128809,3 12.665077,3.8648349 12.665077,4.9314796 12.665077,5.594833 11.683065,6.1801769 10.187233,6.5276474 L 8.4881399,5.6770803 C 8.4881399,5.6775129 8.488533,5.6778968 8.488533,5.6783294 8.488533,5.925843 8.299044,6.1265228 8.065333,6.1265228 7.831622,6.1265228 7.642133,5.925843 7.642133,5.6783294 7.642133,5.5381296 7.7026829,5.4127376 7.7978834,5.3305215 L 6.9998599,4.9314796 7.650786,6.8163073 V 6.8492136 C 7.4370953,6.8578679 7.2200876,6.8621263 6.9998599,6.8621263 3.871319,6.8621263 1.3346435,5.9976916 1.3346435,4.9314796 1.3346435,3.8648349 3.871319,3 6.9998599,3 Z M 12.93292,5.9207538 C 13.127815,6.9700898 12.85466,7.9655115 12.665077,9.068936 12.553941,9.71325 11.708179,10.302573 10.245442,10.651775 10.235636,10.653939 10.225704,10.652803 10.217124,10.64761 L 7.650786,9.208061 V 10.945434 C 7.650786,10.9688 7.6335188,10.988321 7.6114547,10.988754 7.410431,10.99611 7.2066047,11 6.9998599,11 3.871319,11 1.5152384,10.11784 1.3346435,9.068936 1.1446511,7.9655115 0.87229813,6.9700898 1.0671935,5.9207538 1.3740414,6.2846679 1.9047048,6.6495974 2.7946049,6.9529313 3.9276127,7.3389139 5.4206765,7.5514942 6.9998599,7.5514942 7.2188619,7.5514942 7.4358695,7.5472199 7.650786,7.5389983 V 7.6235553 C 7.8832713,7.6477873 8.065333,7.8552815 8.065333,8.107988 8.065333,8.288862 7.9721542,8.445991 7.8344608,8.529938 L 8.8240252,9.085598 C 8.8240252,9.079973 8.8232387,9.074562 8.8232387,9.068936 8.8232387,8.806278 9.0243703,8.593252 9.2727904,8.593252 9.5212105,8.593252 9.7219487,8.806278 9.7219487,9.068936 9.7219487,9.238561 9.6377666,9.387348 9.5119218,9.471728 L 10.212404,9.864938 V 7.2270123 C 10.565831,7.1486907 10.899085,7.0572159 11.205115,6.9529313 12.095015,6.6495974 12.626072,6.2846679 12.93292,5.9207538 Z M 9.2574513,6.5172341 C 9.5929002,6.5172341 9.8651131,6.8055072 9.8651131,7.1611997 9.8651131,7.5164594 9.5929002,7.8047485 9.2574513,7.8047485 8.9215938,7.8047485 8.6493961,7.5164594 8.6493961,7.1611997 8.6493961,6.8055072 8.9215938,6.5172341 9.2574513,6.5172341 Z"]},hs={prefix:"waypoint",iconName:"locality",icon:[14,14,[],"","M 10,6 C 10.152538,6 10.3854,5.6357408 10.3854,5.5 10.3854,5.3642591 10.152538,5 10,5 H 3 C 2.8480378,5 2.6145998,5.3642591 2.6145998,5.5 2.6145998,5.6357408 2.8480378,6 3,6 Z M 3,3 C 2.8480473,2.9983019 2.6145998,3.3647714 2.6145998,3.5 2.6145998,3.6357408 2.8480378,4 3,4 H 10 C 10.152538,4 10.3854,3.6357408 10.3854,3.5 10.3854,3.3647714 10.152538,3 10,3 M 1,7 V 2 H 6 V 1 H 7 V 2 H 12 V 7 H 7 V 12 H 9.5 V 13 H 3.5 V 12 H 6 V 7 Z"]},vs={prefix:"waypoint",iconName:"misc",icon:[14,14,[],"","M 6.9997876,1 C 5.5562089,1 4.2630751,1.7572508 3.5415103,3.0263104 2.8194966,4.2953696 2.8194966,5.8098708 3.5415103,7.0789304 L 6.8650607,12.921501 C 6.8928993,12.970258 6.9440859,13 7.0002125,13 7.0554412,13 7.1071007,12.970258 7.1349396,12.921501 L 10.45849,7.0789304 C 11.180503,5.8098708 11.180503,4.2953696 10.45849,3.0263104 9.7364764,1.7572508 8.4438153,1 6.9997876,1 Z M 6.9997876,1.9342247 C 8.6728118,1.9342247 10.034334,3.3159508 10.034334,5.0138022 10.034334,6.7116536 8.6728118,8.0929481 6.9997876,8.0929481 5.326763,8.0929481 3.9656669,6.7116536 3.9656669,5.0138022 3.9656669,3.3154952 5.326763,1.9342247 6.9997876,1.9342247 Z M 6.9997876,2.2508089 C 5.4987352,2.2508089 4.2776213,3.490475 4.2776213,5.0138022 4.2776213,5.2393622 4.3046829,5.458493 4.3549724,5.6681048 L 5.8756456,3.4886783 C 5.9043825,3.446756 6.0027225,3.3139964 6.0027225,3.3139964 6.0027225,3.3139964 6.1006136,3.446756 6.1297994,3.4886783 L 6.9997876,4.7360363 7.8702005,3.4886783 C 7.8993864,3.446756 7.9972777,3.4213931 7.9972777,3.4213931 7.9972777,3.4213931 8.0955937,3.446756 8.1247796,3.4886783 L 9.6450275,5.6681048 C 9.6953171,5.4580374 9.7223787,5.2389065 9.7223787,5.0138022 9.7223787,3.490475 8.5008401,2.2508089 6.9997876,2.2508089 Z M 6.6937829,4.8447275 6.4804297,5.1022213 C 6.451693,5.1363971 6.4105313,5.1569007 6.366528,5.1587234 H 6.3610031 C 6.3187958,5.1587234 6.2788614,5.1413771 6.2492264,5.1108477 L 5.9997477,4.8499031 5.7668438,5.0797929 C 5.7071255,5.1385752 5.6124079,5.1393649 5.5517911,5.0819574 L 5.3074123,4.8503419 4.4743997,6.0442172 C 4.8776139,7.0585535 5.8574974,7.7763715 6.9997877,7.7763715 8.1420783,7.7763715 9.122387,7.0585535 9.5256012,6.0442172 L 8.6887635,4.8447348 8.474985,5.102229 C 8.4466972,5.1364048 8.4055118,5.1569084 8.3615085,5.1587311 H 8.3559834 C 8.3137766,5.1587311 8.2738418,5.1413844 8.2442068,5.110855 L 7.9947282,4.8499104 7.7618244,5.0798006 C 7.7021056,5.1385829 7.607388,5.1393722 7.5467712,5.0819647 L 7.3023925,4.8503492 7.1906159,5.0095043 7.8077253,5.8936967 C 7.8575657,5.9652379 7.8403708,6.0635173 7.7703247,6.1140975 7.7429349,6.133692 7.7116301,6.1434266 7.6806481,6.1434266 7.6317057,6.1434266 7.5836792,6.1198868 7.5531463,6.0761419 L 6.6937834,4.8447425 Z"]},fs={prefix:"waypoint",iconName:"paragliding_landing",icon:[14,14,[],"","M 6.2428193,1.0000001 C 4.585556,1.0000001 2.9726778,1.2627049 1.4501345,1.7808314 1.2485685,1.8494224 1.0900621,2.0375493 1.027844,2.281839 0.96562591,2.5256012 1.0091899,2.790941 1.1433958,2.987217 L 1.3967704,3.3580145 C 1.6579835,3.7405416 1.9196316,4.1216073 2.1808447,4.5036068 2.3232774,4.7114905 2.5445104,4.8083026 2.7594456,4.7618717 L 4.2053192,6.7641792 C 4.1708679,6.831715 4.1586552,6.9112981 4.1771663,6.9909693 L 4.4872664,8.3400691 C 4.5109195,8.4403176 4.5776255,8.5312071 4.6763518,8.5776385 L 4.6998825,8.5888484 5.3591602,8.8988526 V 10.425159 L 5.0507411,10.800268 5.0267902,10.830018 C 4.9656005,10.904941 4.9302349,11.003023 4.934348,11.108548 L 4.9986373,12.624507 C 5.0078929,12.826059 5.1663742,12.991702 5.3658834,12.999616 5.5772192,13.008058 5.7547355,12.839108 5.7629626,12.622782 L 5.8129649,11.302139 6.210885,10.891674 6.6083845,11.302139 6.6579666,12.622782 C 6.6661943,12.824334 6.823929,12.990646 7.0239524,12.999616 7.2347735,13.009113 7.4135507,12.84136 7.4222921,12.624507 L 7.4865814,11.108548 C 7.4906944,11.01041 7.4604714,10.91041 7.3941392,10.829156 L 7.3701888,10.800268 7.1260584,10.502768 V 8.8988526 L 7.7853361,8.5888484 7.8105473,8.5763448 C 7.9020747,8.5330797 7.9732707,8.448232 7.9979523,8.3400691 L 8.3080523,6.9909693 C 8.3260493,6.9118257 8.3144449,6.8322427 8.2794793,6.7641792 L 9.7253524,4.7618717 C 9.7603179,4.7697861 9.7962749,4.7739443 9.8312404,4.7739443 10.01121,4.7739443 10.185174,4.677195 10.303954,4.5036068 L 11.341822,2.987217 C 11.476028,2.790941 11.519499,2.5256012 11.457795,2.281839 11.395577,2.0375493 11.236136,1.8494224 11.035084,1.7808314 9.5125409,1.2627049 7.9005969,1.0000001 6.2428193,1.0000001 Z M 6.2428193,4.1910156 C 7.0213166,4.1910156 7.7874531,4.2728337 8.5320132,4.4337589 L 7.9584541,6.5917149 C 7.8391599,6.607016 7.7327197,6.6915407 7.6941548,6.8176433 L 7.344557,7.9507314 6.7773009,8.1736413 H 5.7079176 L 5.1402415,7.9507314 4.7910639,6.8176433 C 4.7524985,6.6936517 4.6471807,6.6075436 4.526344,6.5917149 L 3.9536255,4.4337589 C 4.6976715,4.2728337 5.4638079,4.1910156 6.2428193,4.1910156 Z M 3.7456315,4.4811865 4.2826337,6.5046206 2.9758437,4.6946108 C 3.2293438,4.6138843 3.485961,4.5429184 3.7456315,4.4811865 Z M 8.7395872,4.4811865 C 8.9992577,4.5429184 9.2559689,4.6138843 9.5089548,4.6946108 L 8.2021644,6.5046206 Z M 10.96021,6.6820078 C 10.789496,6.6820078 10.64969,6.8211527 10.64969,6.9963238 V 11.76711 L 9.3445805,10.422322 C 9.2222007,10.296747 9.0303823,10.296747 8.908003,10.422322 8.7856236,10.547368 8.7856236,10.746402 8.908003,10.869866 L 10.73709,12.747999 C 10.795194,12.806038 10.872796,12.841992 10.96021,12.841992 11.04711,12.841992 11.126863,12.806038 11.182911,12.747999 L 13.011997,10.869866 C 13.129234,10.746402 13.129234,10.547368 13.011997,10.422322 12.890132,10.296747 12.697705,10.296747 12.57584,10.422322 L 11.265268,11.765385 V 6.9963238 C 11.265268,6.8211527 11.13041,6.6820078 10.96021,6.6820078 Z M 6.1877743,6.5675703 C 5.9112638,6.5895817 5.661287,6.7773714 5.5675743,7.0642667 5.4431382,7.4467933 5.6439626,7.8600298 6.0167569,7.9882423 6.3895517,8.1164549 6.792694,7.9094285 6.9176443,7.5269014 7.0420805,7.1443742 6.8412554,6.7310413 6.4684612,6.6033564 6.3752626,6.5713032 6.2799445,6.5602332 6.1877743,6.5675703 Z"]},_s={prefix:"waypoint",iconName:"paragliding_takeoff",icon:[14,14,[],"","M 6.2425561,0.99999989 C 4.5853605,0.99999989 2.973302,1.2627915 1.4508213,1.780912 1.2492636,1.8495029 1.090014,2.038085 1.0277985,2.282372 0.96558293,2.5261313 1.0093503,2.7914245 1.1435507,2.9876982 L 1.3969438,3.3582859 C 1.6581461,3.7408088 1.9199123,4.1221759 2.1811147,4.5041711 2.323542,4.7120524 2.5449511,4.8084579 2.7598773,4.7620275 L 4.205732,6.7644111 C 4.171282,6.831946 4.1585991,6.911499 4.1771095,6.9911692 L 4.4873265,8.3404889 C 4.5109785,8.4407363 4.5780175,8.531183 4.6767397,8.5776133 L 4.7003111,8.5888432 5.3594691,8.898962 V 10.425369 L 5.0509361,10.800708 5.0265228,10.830079 C 4.9653356,10.905 4.9306491,11.003144 4.9347625,11.108667 L 4.9991632,12.624708 C 5.0084183,12.826258 5.166703,12.991701 5.3662038,12.999615 5.5775309,13.008057 5.7549031,12.839304 5.76313,12.622981 L 5.812798,11.3026 6.2109871,10.891843 6.608334,11.3026 6.6584232,12.622981 C 6.66665,12.824531 6.8237653,12.990646 7.0237805,12.999615 7.2345934,13.009112 7.4136492,12.841559 7.4223902,12.624708 L 7.4863699,11.108667 C 7.4904833,11.01053 7.4605175,10.910468 7.3941886,10.829215 L 7.3701965,10.800708 7.1260633,10.503115 V 8.898962 L 7.7852219,8.5888432 7.8104767,8.5767494 C 7.9020004,8.5334847 7.9735261,8.4486505 7.9982062,8.3404889 L 8.3084231,6.9911692 C 8.3264193,6.9120266 8.3143438,6.8324736 8.2793797,6.7644111 L 9.7252345,4.7620275 C 9.7601986,4.7699418 9.7963417,4.7741214 9.8313058,4.7741214 10.011268,4.7741214 10.184801,4.6777573 10.303576,4.5041711 L 11.341982,2.9876982 C 11.476182,2.7914245 11.519436,2.5261313 11.457735,2.282372 11.395519,2.038085 11.235755,1.8495029 11.034711,1.780912 9.5122307,1.2627915 7.9002656,0.99999989 6.2425561,0.99999989 Z M 6.2425561,4.1910286 C 7.0210214,4.1910286 7.7874015,4.2728446 8.531931,4.4337679 L 7.9586402,6.5916429 C 7.8393509,6.6069437 7.7328667,6.6914366 7.6943034,6.8175372 L 7.34452,7.9508966 6.7775433,8.1737677 H 5.7079895 L 5.1401707,7.9508966 4.7912295,6.8175372 C 4.7526661,6.693547 4.6473036,6.6074714 4.5264717,6.5916429 L 3.9536019,4.4337679 C 4.6976172,4.2728446 5.4635765,4.1910286 6.2425561,4.1910286 Z M 3.7460891,4.4812792 4.2827601,6.5048269 2.9762295,4.6950799 C 3.2297191,4.6143544 3.4864292,4.5430105 3.7460891,4.4812792 Z M 8.7394435,4.4812792 C 8.9991033,4.5430105 9.2559069,4.6143544 9.5088824,4.6950799 L 8.2023518,6.5048269 Z M 11.05579,6.681975 C 10.968894,6.681975 10.88917,6.7180959 10.833125,6.7761338 L 9.0042334,8.6545559 C 8.8870009,8.7780185 8.8870009,8.9769802 9.0042334,9.1020257 9.1260936,9.2275986 9.3180239,9.2275986 9.439884,9.1020257 L 10.750624,7.758321 V 12.527587 C 10.750624,12.702756 10.885597,12.842025 11.05579,12.842025 11.226497,12.842025 11.366007,12.702756 11.366007,12.527587 V 7.7570251 L 12.671275,9.1020257 C 12.793649,9.2275986 12.985393,9.2275986 13.107767,9.1020257 13.230142,8.9769802 13.230142,8.7780185 13.107767,8.6545559 L 11.278877,6.7761338 C 11.220775,6.7180959 11.143201,6.681975 11.05579,6.681975 Z M 6.1878363,6.5674553 C 5.9113376,6.5894668 5.6611119,6.7777035 5.5674029,7.0645958 5.4429718,7.4471187 5.6441646,7.8602626 6.0169436,7.9884737 6.3897225,8.1166848 6.7927634,7.9097053 6.9177087,7.5271827 7.0421402,7.1446598 6.8413682,6.7309881 6.4685892,6.6033046 6.3753945,6.5712519 6.2800026,6.560118 6.1878363,6.5674553 Z"]},gs={prefix:"waypoint",iconName:"pass",icon:[14,14,[],"","M 8.8483618,4.0000106 C 9.1443176,4.0000544 9.440217,4.1685512 9.6455512,4.5047659 L 13,9.9999549 9.3032869,10 1,9.999724 4.3546247,4.5045761 C 4.7652937,3.8318349 5.5385252,3.8323816 5.9491942,4.504811 L 6.8802754,6.0301414 C 6.9421091,6.1310678 7.0580559,6.1311858 7.1196562,6.0302489 L 8.050982,4.5045191 C 8.2561998,4.1681491 8.552406,3.9999615 8.8483618,4 Z M 9.009533,6.5353743 C 8.6787812,6.5353783 8.3480168,6.7233579 8.1185321,7.0992004 L 7.6765716,7.8229853 C 7.4112701,8.2576505 6.9114324,8.2573307 6.6461311,7.8223537 L 6.2041949,7.0990757 C 5.7452256,6.3473907 4.8811445,6.3471505 4.4221756,7.0988368 L 2.8860047,9.6158039 4.7018096,7.3362812 C 5.0371115,6.9149279 5.5681281,6.9428665 5.8772968,7.3979646 L 6.6690411,8.5618347 C 6.9324759,8.949442 7.3905188,8.9495641 7.6539538,8.5619488 L 8.4453971,7.3978903 C 8.7547988,6.9427922 9.2858584,6.9147116 9.6213938,7.336065 L 11.436854,9.6158066 9.9005521,7.0990332 C 9.6710675,6.7231894 9.3402849,6.5353743 9.009533,6.5353743 Z"]},bs={prefix:"waypoint",iconName:"pit",icon:[14,14,[],"","M 13,13 H 1 V 1 H 4.3224859 L 5.6558192,2.3898867 5.3715254,4.4346505 6.5846328,5.0359215 6.3116384,6.8264714 6.759548,7.4675325 6.3988701,11.222713 7.4370621,8.6706272 7.2187571,7 8.6614689,4.4346505 8.2022599,2.8043658 8.9127684,1 H 13 Z"]},ys={prefix:"waypoint",iconName:"shelter",icon:[14,14,[],"","M 7.1996379,1.085732 C 9.1024937,2.9485818 11.005307,4.8114754 12.908122,6.6743665 13.015784,6.9052982 13.023675,6.9921082 12.710194,7 H 11 V 12.69154 C 11,12.861193 10.933751,13 10.773,13 H 9.8653774 C 9.704103,13 9.5768639,12.861193 9.5768639,12.69154 V 8 H 4.426033 V 12.69154 C 4.426033,12.861193 4.2946048,13 4.1328069,13 H 3.225 C 3.0642493,13 3.007867,12.861011 3,12.69154 V 7 H 1.2895608 C 0.81529906,6.9865051 1.0671659,6.8019811 1.1078653,6.6611468 3.0078746,4.802421 4.9057645,2.9415328 6.8037826,1.0807746 6.914266,0.97226275 7.0881072,0.97226275 7.1996379,1.085732"]},ws={prefix:"waypoint",iconName:"slackline_spot",icon:[14,14,[],"","M 7.0002006,1 C 4.34243,0.95077166 1.8177317,2.9085906 1.1874637,5.4891092 0.56760011,7.8130738 1.4954506,10.458735 3.4636652,11.853417 5.4188699,13.29802 8.2620792,13.392508 10.283786,12.026631 12.204897,10.782621 13.304812,8.3913335 12.941126,6.1236003 12.609783,3.788116 10.792568,1.7397834 8.4910261,1.1868411 8.0045195,1.0625115 7.5023699,0.99923206 7.0002006,1 Z M 5.7483543,1.7686705 C 5.6653719,2.0423234 6.006734,1.6220872 5.8122829,2.0234877 6.2132771,1.6457866 5.7517136,2.5268479 5.7678818,2.6971108 5.8386611,3.2345122 5.9661258,3.8281107 6.6054933,3.9160843 7.4040367,4.1138529 6.8107183,3.1037929 7.1796267,2.8312573 7.7318405,2.5635683 8.3016279,3.1865583 7.8556491,3.6716681 7.6895438,4.4202966 8.6530804,4.6503131 9.2012673,4.6495416 9.8236387,4.6882796 10.490274,4.5894982 10.966915,5.0729159 11.416664,5.5887811 10.49833,4.8716992 10.222392,5.1503935 9.5292682,5.1712282 8.8205424,5.2787684 8.1354734,5.1352344 7.6585757,5.1248942 7.7508147,6.0739104 7.7653554,6.4275148 7.7967652,6.8049557 8.0919638,7.1953258 7.6726367,7.4998162 7.7392172,8.3022472 7.4216853,9.0744388 7.4842914,9.882026 7.5860697,10.383259 7.4098671,11.314209 8.2251852,11.184419 9.4283538,10.909797 10.645313,10.684065 11.852808,10.421726 11.297647,10.800416 10.576971,10.698689 9.9592671,10.912367 9.1930893,11.067165 8.4279076,11.228286 7.6565977,11.355999 7.2173764,11.339915 6.909952,11.225281 6.4235313,11.265368 L 1.9269346,9.997646 1.8808618,9.888015 6.4123276,11.177258 C 5.9392945,10.972998 6.6028503,10.299491 6.4818765,9.9051317 6.6902762,9.5034604 6.8636642,8.9846293 6.6847969,8.5470898 6.4623437,8.0754606 6.0929162,7.6472997 6.049487,7.107261 6.083296,6.6476155 6.3059348,6.2042838 6.2557384,5.6736073 6.1782421,5.2122872 6.3999609,4.6340587 5.9617986,4.3040966 5.6047836,3.9457979 5.1982804,3.5712008 5.3378522,3.0068716 5.3847496,2.6180313 5.4698042,2.2261824 5.5855581,1.8568851 5.5616498,2.1871983 5.6357198,1.9687361 5.7017454,1.8219098 Z M 6.8253751,10.414509 C 6.7912388,10.503365 6.5920649,10.548277 6.6319792,10.74258 6.6718935,10.936882 7.0212084,11.304014 7.2012373,11.13887 7.1894724,11.043174 7.1674257,10.841669 7.1123608,10.674296 7.057296,10.506922 6.9692128,10.37368 6.8253751,10.414509 Z"]},xs={prefix:"waypoint",iconName:"summit",icon:[14,14,[],"","M 6.3527886,8.4370129 6.0049604,6.3755713 4.6510066,7.1227441 6.3527886,3.9448812 8.0533993,7.1227441 6.6994456,6.3755713 Z M 10.855851,9.134724 10.059821,8.6966476 9.8567266,9.906727 9.6524676,8.6966476 8.8564341,9.134724 9.8567266,7.2675995 Z M 13,12 9.8567266,6.1264671 9.2077615,7.3365468 6.3527886,2 1,12 Z M 13,12"]},Cs={prefix:"waypoint",iconName:"virtual",icon:[14,14,[],"","M 6.9823721,1.6456825 C 3.879414,1.6456825 1.3617968,4.0794238 1.3617968,7.0790048 1.3617968,10.078586 3.879414,12.512327 6.9823721,12.512327 10.08533,12.512327 12.602948,10.078586 12.602948,7.0790048 12.602948,4.0794238 10.08533,1.6456825 6.9823721,1.6456825 Z M 6.9823721,1.8467857 C 9.9729004,1.8467857 12.394913,4.188108 12.394913,7.0790048 12.394913,9.969902 9.9729004,12.311224 6.9823721,12.311224 3.991844,12.311224 1.5698308,9.969902 1.5698308,7.0790048 1.5698308,4.188108 3.991844,1.8467857 6.9823721,1.8467857 Z M 6.9573475,0.5 6.285552,5.693961 4.6958072,4.5014906 6.0440598,6.2897454 C 0.5,6.9896315 6.0440598,6.2897454 0.5,6.9896315 5.803967,7.7710923 0.5,6.9896315 5.803967,7.7710923 L 4.5792571,9.2871429 6.2613098,8.0487045 6.9787933,13.5 7.7312359,7.9414481 9.5144544,9.2614579 8.3456886,7.7548711 13.5,7.072104 8.1237729,6.3514863 9.6314665,4.4293828 7.7410219,5.8381743 Z"]},ks={prefix:"waypoint",iconName:"waterfall",icon:[14,14,[],"","M4.86 10.98a2 2 0 0 0 1 .25 2 2 0 0 0 1.02-.22c.3-.14.63-.3 1.26-.28.64 0 .97.17 1.26.31a2 2 0 0 0 1 .26c.2 0 .36-.01.49-.04v-.01c.15-.42.04-.72-.07-.9a.87.87 0 0 0-.69-.43.85.85 0 0 0-.6.23.3.3 0 0 1-.23.08.31.31 0 0 1-.21-.12c-.2-.27-.49-.42-.8-.42a.97.97 0 0 0-.5.13.3.3 0 0 1-.37-.05c-.26-.26-.6-.41-.96-.42-.35 0-.7.13-.96.38a.3.3 0 0 1-.36.03c-.16-.1-.34-.15-.53-.15-.56-.01-1.03.45-1.1 1.05h.09c.63.01.96.17 1.26.32m3.03-7.24L8.08 9a1.53 1.53 0 0 1 .82.12L8.5 3.75l-.6-.01zm-.64-.01h-.5l-.27 4.92c.34 0 .67.1.96.28l-.19-5.2zM5 8.96c.1.02.18.05.26.1.18-.14.38-.25.58-.31l.28-5.04h-.6L5 8.95zm8 2.19c0 .2-.15.35-.32.34-.5 0-.74.1-1.01.23-.3.14-.64.29-1.27.28-.63 0-.96-.17-1.26-.32-.27-.13-.5-.24-1-.25-.5 0-.74.1-1.02.22-.3.14-.63.3-1.26.28-.64 0-.97-.17-1.26-.31-.27-.13-.5-.25-1-.26-.51 0-.75.1-1.02.23-.3.14-.63.29-1.27.28-.17 0-.31-.16-.31-.36l.1-7.5c0-.2.15-.35.32-.35l3.46.05.04-.4c.02-.18.16-.31.32-.31l3.54.05c.17 0 .3.14.32.32l.03.4 3.42.05c.17 0 .31.16.31.36l.14 6.97"]},$s={prefix:"waypoint",iconName:"waterpoint",icon:[14,14,[],"","M 6.829529,1 C 6.5998654,1 6.4863224,1.1338462 6.4863224,1.2984057 H 4.9423459 C 4.6595553,1.2984057 4.4279891,1.4979066 4.4279891,1.7452264 4.4279891,1.9925461 4.6595553,2.1916539 4.9423459,2.1916539 H 6.4863224 V 2.7888589 H 6.3129082 C 6.0301175,2.7888589 5.7994567,2.9882729 5.7994567,3.2360737 5.7994567,3.4193981 5.9268353,3.5745453 6.1077992,3.6443147 5.6822297,3.7679745 5.3090518,3.9895625 5.0229407,4.2797059 H 2.3705617 V 3.3840955 C 2.3705617,3.0549774 2.0643891,2.7888589 1.6864125,2.7888589 1.3062224,2.7888589 1,3.0549774 1,3.3840955 V 7.8558494 C 1,8.186411 1.3062224,8.4526606 1.6864125,8.4526606 2.0643891,8.4526606 2.3705617,8.186411 2.3705617,7.8558494 V 6.6638015 H 4.7114289 C 5.1231632,7.3432092 5.9415626,7.8062464 6.8856732,7.8062464 8.086012,7.8062464 9.0839115,7.0584128 9.2980798,6.0681714 H 10.257971 C 10.445576,6.0681714 10.599367,6.202368 10.599367,6.3650022 V 6.9622072 C 10.411761,6.9622072 10.257971,7.0960538 10.257971,7.2606129 V 7.8558494 C 10.257971,8.0204086 10.411761,8.1538612 10.599367,8.1538612 H 12.656794 C 12.846059,8.1538612 13,8.0204086 13,7.8558494 V 7.2606129 C 13,7.0960538 12.846059,6.9622072 12.656794,6.9622072 V 4.8749425 C 12.656794,4.711827 12.502852,4.5773243 12.313587,4.5773243 H 8.993812 C 8.6827982,4.123584 8.1851592,3.7786918 7.592461,3.6242371 7.749629,3.5486941 7.8568841,3.4030386 7.8568847,3.2360737 7.8568847,2.9882729 7.6263245,2.7888589 7.3429805,2.7888589 H 7.1704716 V 2.1916539 H 8.7144475 C 8.9988984,2.1916539 9.227899,1.9925461 9.227899,1.7452264 9.227899,1.4979066 8.9988984,1.2984057 8.7144475,1.2984057 H 7.1704716 C 7.1704716,1.1338462 7.056979,1 6.829529,1 Z M 11.563333,9.2718984 C 11.563333,9.2718984 10.128929,11.062801 10.128929,11.75087 10.128929,12.440862 10.772113,13 11.565144,13 12.357068,13 13,12.440862 13,11.75087 13,11.062801 11.563333,9.2718982 11.563333,9.2718984 Z"]},Ls={prefix:"waypoint",iconName:"waypoints",icon:[14,14,[],"","M 6.9997876,1 C 5.5562089,1 4.263075,1.7572508 3.5415103,3.0263104 2.8194966,4.2953696 2.8194966,5.8098708 3.5415103,7.0789304 L 6.8650607,12.921501 C 6.8928993,12.970258 6.9440859,13 7.0002125,13 7.0554412,13 7.1071007,12.970258 7.1349396,12.921501 L 10.45849,7.0789304 C 11.180503,5.8098708 11.180503,4.2953696 10.45849,3.0263104 9.7364763,1.7572508 8.4438153,1 6.9997876,1 Z M 6.9997876,1.9342247 C 8.6728118,1.9342247 10.034334,3.3159508 10.034334,5.0138022 10.034334,6.7116536 8.6728118,8.0929481 6.9997876,8.0929481 5.326763,8.0929481 3.9656669,6.7116536 3.9656669,5.0138022 3.9656669,3.3154952 5.326763,1.9342247 6.9997876,1.9342247 Z M 6.9997876,2.2508089 C 5.4987352,2.2508089 4.2776213,3.490475 4.2776213,5.0138022 4.2776213,5.2393622 4.304683,5.458493 4.3549724,5.6681048 L 5.8756456,3.4886783 C 5.9043825,3.446756 6.0027225,3.3139964 6.0027225,3.3139964 6.0027225,3.3139964 6.1006136,3.446756 6.1297993,3.4886783 L 6.9997876,4.7360363 7.8702005,3.4886783 C 7.8993865,3.446756 7.9972776,3.4213931 7.9972776,3.4213931 7.9972776,3.4213931 8.0955937,3.446756 8.1247796,3.4886783 L 9.6450275,5.6681048 C 9.695317,5.4580374 9.7223787,5.2389065 9.7223787,5.0138022 9.7223787,3.490475 8.5008401,2.2508089 6.9997876,2.2508089 Z M 6.6937829,4.8447275 6.4804297,5.1022213 C 6.451693,5.1363971 6.4105313,5.1569007 6.366528,5.1587234 H 6.3610031 C 6.3187958,5.1587234 6.2788613,5.1413771 6.2492264,5.1108477 L 5.9997477,4.8499031 5.7668438,5.0797929 C 5.7071255,5.1385752 5.6124079,5.1393649 5.5517911,5.0819574 L 5.3074123,4.8503419 4.4743998,6.0442172 C 4.8776139,7.0585535 5.8574974,7.7763715 6.9997877,7.7763715 8.1420783,7.7763715 9.122387,7.0585535 9.5256012,6.0442172 L 8.6887634,4.8447348 8.474985,5.102229 C 8.4466972,5.1364048 8.4055118,5.1569084 8.3615085,5.1587311 H 8.3559834 C 8.3137766,5.1587311 8.2738418,5.1413844 8.2442068,5.110855 L 7.9947282,4.8499104 7.7618244,5.0798006 C 7.7021055,5.1385829 7.6073879,5.1393722 7.5467712,5.0819647 L 7.3023925,4.8503492 7.1906159,5.0095043 7.8077252,5.8936967 C 7.8575657,5.9652379 7.8403708,6.0635173 7.7703247,6.1140975 7.7429349,6.133692 7.71163,6.1434266 7.6806481,6.1434266 7.6317057,6.1434266 7.5836792,6.1198868 7.5531463,6.0761419 L 6.6937834,4.8447425 Z"]},qs={prefix:"waypoint",iconName:"weather_station",icon:[14,14,[],"","M 6.0086569,1 C 4.8995856,1 4,1.6705117 4,2.5015169 V 9.0725633 C 3.3828062,9.4845508 3,10.082994 3,10.749486 3,11.990604 4.3463046,13 6.0086569,13 7.6678761,13 9.016791,11.990604 9.016791,10.749486 9.016791,10.082994 8.6165677,9.4845508 8,9.0725633 V 2.5015169 C 8,1.6723861 7.112088,1 6.0086569,1 Z M 6.0086569,1.7509539 C 6.5644449,1.7509539 7,2.0857797 7,2.5015169 V 9.4496069 C 7.5996497,9.7097355 8.012858,10.19267 8.012858,10.749486 8.012858,11.576742 7.1145949,12.249045 6.0086569,12.249045 4.8995856,12.249045 4.0039319,11.576742 4.0039319,10.749486 4.0039319,10.194545 4.4003484,9.7097355 5,9.4496069 V 2.5015169 C 5,2.0857797 5.4553737,1.7509539 6.0086569,1.7509539 Z M 9.494158,2.6882767 C 9.342519,2.6882767 9.219355,2.7804044 9.219355,2.89383 9.219355,3.0067866 9.342519,3.0986 9.494158,3.0986 H 11.060244 C 11.211887,3.0986 11.334,3.0067866 11.334,2.89383 11.334,2.7804044 11.211887,2.6882767 11.060244,2.6882767 Z M 9.494158,3.6259908 C 9.342519,3.6259908 9.219355,3.717727 9.219355,3.8311525 9.219355,3.9441092 9.342519,4.0359226 9.494158,4.0359226 H 11.060244 C 11.211887,4.0359226 11.334,3.9441092 11.334,3.8311525 11.334,3.717727 11.211887,3.6259908 11.060244,3.6259908 Z M 9.494158,4.5633135 C 9.342519,4.5633135 9.219355,4.6550497 9.219355,4.7684751 9.219355,4.8814319 9.342519,4.9732454 9.494158,4.9732454 H 11.060244 C 11.211887,4.9732451 11.334,4.8814319 11.334,4.7684751 11.334,4.6550497 11.211887,4.5633135 11.060244,4.5633135 Z M 6.0086569,5.500636 C 5.7317023,5.500636 5.5,5.6708998 5.5,5.8757217 V 9.6856991 C 4.9122546,9.8394328 4.502759,10.256882 4.502759,10.749486 4.502759,11.370045 5.1765405,11.873568 6.0086569,11.873568 6.8382665,11.873568 7.5108921,11.370045 7.5108921,10.749486 7.5108921,10.256882 7.0896243,9.8394328 6.5,9.6856991 V 5.8757217 C 6.5,5.6690248 6.2874903,5.500636 6.0086569,5.500636 Z M 9.494158,5.500636 C 9.342519,5.500636 9.219355,5.5923723 9.219355,5.7057976 9.219355,5.8187545 9.342519,5.9105679 9.494158,5.9105679 H 11.060244 C 11.211887,5.9105679 11.334,5.8187545 11.334,5.7057976 11.334,5.5923723 11.211887,5.500636 11.060244,5.500636 Z M 9.494158,6.4379586 C 9.342519,6.4379586 9.219355,6.5300865 9.219355,6.6435119 9.219355,6.7564687 9.342519,6.8482819 9.494158,6.8482819 H 11.060244 C 11.211887,6.8482819 11.334,6.7564687 11.334,6.6435119 11.334,6.5300865 11.211887,6.4379586 11.060244,6.4379586 Z"]},Ms={prefix:"waypoint",iconName:"webcam",icon:[14,14,[],"","M 6.9997967,1 C 4.2383555,1 2,3.3003015 2,6.1371362 2,8.1476256 3.1253232,9.8886014 4.7636333,10.731984 4.3054662,11.20692 3.9885378,11.827048 3.8869533,12.520284 3.8693315,12.640615 3.9035279,12.762606 3.9807528,12.855251 4.0579778,12.94683 4.1706691,13 4.2893571,13 H 9.7110488 C 9.8292186,13 9.9417281,12.946945 10.018435,12.854833 10.09566,12.762721 10.130262,12.640615 10.112641,12.520284 10.011056,11.827048 9.6950518,11.20692 9.2363664,10.731984 10.875195,9.8886014 12,8.1476256 12,6.1371362 12,3.3003015 9.7612383,1 6.9997967,1 Z M 6.9997967,2.6973614 C 8.8459411,2.6973614 10.348155,4.2405887 10.348155,6.1371362 10.348155,8.0331512 8.8459411,9.5760767 6.9997967,9.5760767 5.153653,9.5760767 3.6522516,8.0331512 3.6522516,6.1371362 3.6522516,4.2405887 5.153653,2.6973614 6.9997967,2.6973614 Z M 6.9997967,4.3129628 C 6.0207498,4.3129628 5.2241036,5.1313591 5.2241036,6.1371362 5.2241036,7.142381 6.0207498,7.9604753 6.9997967,7.9604753 7.9788439,7.9604753 8.7754902,7.142381 8.7754902,6.1371362 8.7754902,5.1313591 7.9788439,4.3129628 6.9997967,4.3129628 Z"]};function Ss(t){Ft["c"].add(Hi,Ri,Qi,Ki,Xi,ts,es,is,ss,ns,as,rs,os,ls,cs,us,ds,ms,hs,ps,vs,fs,_s,gs,bs,ys,ws,xs,Cs,ks,$s,Ls,qs,Ms,Di,Ti,ji,Ai,Pi,Ni,zi,Ii,Fi,Ui,Vi,Bi,Zi,Gi,Ji,Wi,Yi,Yt["faAngleDown"],Qt["faArrowsAltV"],Jt["faArrowRight"],Kt["faAt"],Xt["faAtlas"],te["faBan"],ee["faBars"],ie["faBold"],se["faBomb"],ne["faBroom"],ae["faBug"],re["faBullseye"],oe["faCalendar"],le["faCamera"],ce["faCheckCircle"],ue["faChevronLeft"],de["faChevronRight"],me["faCircle"],pe["faCloud"],he["faCode"],ve["faCogs"],fe["faColumns"],_e["faComment"],ge["faComments"],be["faCompass"],ye["faCompress"],we["faDatabase"],xe["faEdit"],Ce["faExclamation"],ke["faExclamationCircle"],$e["faExpand"],Le["faExternalLinkAlt"],qe["faEye"],Me["faFileDownload"],Se["faFilter"],Ee["faFlag"],Oe["faFlagCheckered"],De["faGlobe"],Te["faGlobeAmericas"],Ae["faGrin"],Pe["faHashtag"],je["faHeading"],Ne["faHeart"],ze["faHistory"],Ie["faHome"],Fe["faImage"],Ve["faInfo"],Ue["faInfoCircle"],Be["faItalic"],Re["faKey"],He["faLayerGroup"],Ge["faLifeRing"],Ze["faLink"],We["faList"],Ye["faListOl"],Je["faListUl"],Qe["faLock"],Ke["faMap"],Xe["faMapMarkedAlt"],ti["faMapMarkerAlt"],ei["faMinus"],ii["faNewspaper"],si["faObjectGroup"],ni["faPen"],ai["faPlus"],ri["faPlusCircle"],oi["faQuestionCircle"],li["faRobot"],ci["faRoute"],ui["faSearch"],di["faShareAlt"],mi["faSignInAlt"],pi["faSignOutAlt"],hi["faSortAmountUp"],vi["faSquare"],fi["faStar"],_i["faSun"],gi["faTachometerAlt"],bi["faTag"],yi["faTh"],wi["faThLarge"],xi["faThList"],Ci["faTrash"],ki["faUnlock"],$i["faUpload"],Li["faUser"],qi["faUserCheck"],Mi["faUserLock"],Si["faUsers"],Ei["faWrench"],Ht["faCircle"],Gt["faClock"],Zt["faHourglass"],Wt["faTrashAlt"],Vt["faCreativeCommons"],Ut["faFacebook"],Bt["faGoogle"],Rt["faTwitter"]),t.component("FaIcon",Oi["a"]),t.component("FaLayers",Oi["b"])}i("5319");function Es(t){const e=function(e){e.keys().forEach(i=>{const s=e(i);let n=i.split("/").slice(-1)[0];n=n.replace(".vue","").replace(/([A-Z])/g,"-$1").toLowerCase().substring(1),t.component(n,s.default)})};e(i("7d56")),t.component("DocumentCard",i("28f6").default),t.component("MapView",i("7a69").default)}var Os=i("606f"),Ds=i.n(Os),Ts={fr:{"Activity feed":t=>"Fil d'activité "+t.TOTO,context:{"Last forum topics":()=>"Dernières discussions du forum"}}};const As=3;function Ps(t){return t?t.replace?(t=t.replace(/^[\r\n\s]*/,""),t=t.replace(/[\r\n\s]*$/,""),t=t.replace(/\n/g," "),t=t.replace(/\s+/g," "),t):String(t):t}function js(t,e,i,s){return void 0===t?e:i?t.get([i,e],s):t.get(e,s)}function Ns(t){if("fr"===t)return Ts;if("en"===t)return i.e("translations-en").then(i.bind(null,"e83d"));throw new Error("Unsuported language : "+t)}function zs(t){const e=new t({name:"Language",data:{current:null},created(){this.available={fr:"Français",it:"Italiano",de:"Deutsch",en:"English",es:"Español",ca:"Català",eu:"Euskara",zh_CN:"Chinese"},this.current=this.$localStorage.get("current","fr")},methods:{firstLoad(){const t=this.current;this._getMessages(this.current).then(()=>{this.current=null,this.current=t,document.documentElement.setAttribute("lang",this.getIANALanguageSubtag(t))})},setCurrent(t){this.$localStorage.set("current",t),this.$user.saveLangPreference(t),this._getMessages(t).then(()=>{this.current=t,document.documentElement.setAttribute("lang",this.getIANALanguageSubtag(t))})},_getMessages(t){if(this.translations&&this.translations.availableLocales.includes(t))return new Promise(t=>{t(this.translations)});const e=Ns(t);return new Promise(i=>{e instanceof Promise?e.then(({default:e})=>{this.translations?this.translations.addMessages(e[t],t):this.translations=new Ds.a(e,t),this.translations.locale=t,i()}):(this.translations?this.translations.addMessages(e[t],t):this.translations=new Ds.a(e,t),i())})},gettext(t,e,i){return js(this.translations,t,e,i)},getIANALanguageSubtag(t){switch(t){case"fr":case"en":case"ca":case"eu":case"it":case"de":case"es":return t;case"zh_CN":return"zh";default:return console.error("Unexpected language: "+t),t}},getIsoLanguageTerritory(t){switch(t){case"fr":return"fr_FR";case"en":return"en_UK";case"ca":return"ca_ES";case"eu":return"eu_ES";case"it":return"it_IT";case"de":return"de_DE";case"es":return"es_ES";case"zh_CN":return"zh_CN";default:return console.error("Unexpected language: "+t),t}},updateElement(t,e){var i,s,n;if(void 0===t.dataset.msgid){if(t.childNodes.length>1||t.firstChild.nodeType!==As)return void console.error("v-translate must contain only text",t.childNodes);t.dataset.msgid=Ps(t.innerText)}t.innerText=this.gettext(t.dataset.msgid,(null===(i=e.value)||void 0===i?void 0:i.ctxt)||(null===(s=e.value)||void 0===s?void 0:s.context),null===(n=e.value)||void 0===n?void 0:n.params)}}});t.directive("translate",{bind(t,i){e.updateElement(t,i)},inserted(t,i){e.updateElement(t,i)},update(t,i){e.updateElement(t,i)}}),t.prototype.$language=e,t.prototype.$gettext=e.gettext.bind(e)}function Is(t){Object.defineProperty(t.prototype,"$helper",{get(){return this.$root.$children[0].$refs.helper}})}function Fs(t){Object.defineProperty(t.prototype,"$imageViewer",{get(){return this.$root.$children[0].$refs.imageViewer}})}function Vs(t){var e;this.key=t,this.data_=JSON.parse(null!==(e=window.localStorage.getItem(t))&&void 0!==e?e:"{}")}function Us(){this.cache_={}}Vs.prototype.commit_=function(){window.localStorage.setItem(this.key,JSON.stringify(this.data_))},Vs.prototype.get=function(t,e){const i=this.data_[t];return void 0===i?e:i},Vs.prototype.set=function(t,e){e=JSON.parse(JSON.stringify(e)),this.data_[t]=e,this.commit_()},Vs.prototype.clear=function(){this.data_={},this.commit_()},Vs.prototype.initialize=function(t){this.data_=Object.assign({},t),this.commit_()},Vs.prototype.assign=function(t){for(const e of Object.keys(t))this.data_[e]=t[e];this.commit_()},Us.prototype.getItem=function(t){return this.cache_[t]||(this.cache_[t]=new Vs(t)),this.cache_[t]};const Bs=new Us;function Rs(t){Object.defineProperty(t.prototype,"$localStorage",{get(){if(!this.$options.name)throw new Error("Please set name property of your componenent");return Bs.getItem(this.$options.name+".preferences")}})}var Hs=i("8c4f"),Gs=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section documents-view"},[i("html-header",{attrs:{title:t.getDocumentTypeTitle(t.documentType)}}),t._v(" "),i("div",{staticClass:"search-infos"},[i("div",{staticClass:"header-section"},[i("span",[i("dropdown-button",{staticClass:"header-item"},[i("span",{attrs:{slot:"button"},slot:"button"},[i("span",{staticClass:"title is-3 is-ellipsed"},[t._v("\n              "+t._s(t._f("uppercaseFirstLetter")(t.getDocumentTypeTitle(t.documentType)))+"\n            ")]),t._v(" "),i("fa-icon",{attrs:{icon:"angle-down","aria-hidden":"true"}})],1),t._v(" "),t._l(t.documentTypes,(function(e){return i("router-link",{key:e,staticClass:"dropdown-item is-size-6",class:{"is-active":e===t.documentType},attrs:{to:{name:e+"s",query:t.queryWithoutOffset}}},[i("icon-document",{attrs:{"document-type":e}}),t._v(" "),i("span",[t._v(" "+t._s(t._f("uppercaseFirstLetter")(t.getDocumentTypeTitle(e))))])],1)}))],2),t._v("\n         \n        "),i("br",{staticClass:"is-hidden-tablet"}),t._v(" "),i("page-selector",{attrs:{documents:t.documents}})],1),t._v(" "),"profile"!=t.documentType?i("span",{staticClass:"is-pulled-right is-flex header-right"},[i("load-user-preferences-button",{staticClass:"is-hidden-mobile"}),t._v(" "),i("span",{staticClass:"header-item is-size-3 has-cursor-pointer is-hidden-mobile",on:{click:function(e){return t.toogleProperty("listMode")}}},[i("fa-icon",{directives:[{name:"show",rawName:"v-show",value:"map"!==t.displayMode,expression:"displayMode !== 'map'"}],class:t.listMode?"has-text-primary":"",attrs:{icon:"th-list",title:t.$gettext("List mode")}}),t._v(" "),i("fa-icon",{directives:[{name:"show",rawName:"v-show",value:"map"!==t.displayMode,expression:"displayMode !== 'map'"}],class:t.listMode?"":"has-text-primary",attrs:{icon:"th",title:t.$gettext("Cards mode")}})],1),t._v(" "),t.documentAreGeoLocalized?i("display-mode-switch",{staticClass:"header-item is-hidden-mobile",attrs:{"list-mode":"listMode",value:t.displayMode},on:{input:function(e){return t.setProperty("displayMode",arguments[0])}}}):t._e(),t._v(" "),i("span",{staticClass:"header-item is-size-3 is-hidden-tablet"},[i("fa-icon",{staticClass:"has-text-primary",attrs:{icon:"map"===t.displayMode?"th":"map-marked-alt"},on:{click:function(e){return t.setProperty("displayMode","map"===t.displayMode?"both":"map")}}})],1)],1):t._e()]),t._v(" "),i("query-items",{staticClass:"filter-section",attrs:{"list-mode":t.listMode},on:{"documents-load":t.onQueryDocumentsLoad}})],1),t._v(" "),i("div",{staticClass:"columns result-section",class:"mobile-mode-"+t.displayMode},[t.showResults?i("div",{staticClass:"column documents-container",class:{"is-12":!t.showMap,"is-8 is-7-fullhd":t.showMap&&t.listMode,"is-8 is-7-widescreen is-6-fullhd":t.showMap&&!t.listMode}},[i("loading-notification",{attrs:{promise:t.promise}}),t._v(" "),t.documents&&!t.listMode&&"image"===t.documentType?i("image-cards",{attrs:{documents:t.documents}}):t._e(),t._v(" "),t.documents&&!t.listMode&&"image"!==t.documentType?i("div",{staticClass:"columns is-multiline is-variable is-1 cards-list"},t._l(t.documents.documents,(function(e,s){return i("div",{key:s,staticClass:"column card-container",class:{"is-full-mobile is-half-tablet is-half-desktop is-half-widescreen is-half-fullhd":t.showMap,"is-full-mobile is-one-third-tablet is-one-third-desktop is-one-quarter-widescreen is-one-quarter-fullhd":!t.showMap},on:{mouseenter:function(i){t.highlightedDocument=e},mouseleave:function(e){t.highlightedDocument=null}}},[i("document-card",{attrs:{highlighted:t.highlightedDocument===e,document:e}})],1)})),0):t._e(),t._v(" "),t.listMode?i("documents-table",{staticClass:"documents-table",attrs:{documents:t.documents?t.documents:{},"document-type":t.documentType,"highlighted-document":t.highlightedDocument},on:{"highlight-document":function(e){t.highlightedDocument=arguments[0]}}}):t._e()],1):t._e(),t._v(" "),t.showMap?i("div",{staticClass:"column map-container"},[i("map-view",{ref:"map",attrs:{documents:t.documentsShownOnMap,"highlighted-document":t.highlightedDocument,"show-filter-control":"","show-center-on-geolocation":"","show-recenter-on":""},on:{"highlight-document":function(e){t.highlightedDocument=arguments[0]}}})],1):t._e()])],1)},Zs=[],Ws=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("dropdown-button",{ref:"displayModeSwitch",staticClass:"is-right"},[i("span",{staticClass:"button is-small",attrs:{slot:"button"},slot:"button"},[i("fa-icon",{staticClass:"is-size-4",attrs:{icon:["fas","eye"]}}),t._v(" "),i("span",[t._v(" ")]),t._v(" "),i("fa-icon",{attrs:{icon:"angle-down","aria-hidden":"true"}})],1),t._v(" "),i("a",{staticClass:"dropdown-item is-size-6",class:{"is-active":"result"===t.value},on:{click:function(e){t.$refs.displayModeSwitch.isActive=!1,t.$emit("input","result")}}},[i("span",{staticClass:"has-text-centered item-icons"},[i("fa-icon",{attrs:{icon:t.listMode?"th-list":"th"}})],1),t._v(" "),i("span",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"is-nowrap"},[t._v("Results only")])]),t._v(" "),i("a",{staticClass:"dropdown-item is-size-6",class:{"is-active":"both"===t.value},on:{click:function(e){t.$refs.displayModeSwitch.isActive=!1,t.$emit("input","both")}}},[i("span",{staticClass:"is-nowrap item-icons"},[i("fa-icon",{attrs:{icon:t.listMode?"th-list":"th"}}),t._v(" "),i("fa-icon",{attrs:{icon:"map-marked-alt"}})],1),t._v(" "),i("span",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"is-nowrap"},[t._v("Both results and map")])]),t._v(" "),i("a",{staticClass:"dropdown-item is-size-6",class:{"is-active":"map"===t.value},on:{click:function(e){t.$refs.displayModeSwitch.isActive=!1,t.$emit("input","map")}}},[i("span",{staticClass:"has-text-centered item-icons"},[i("fa-icon",{attrs:{icon:"map-marked-alt"}})],1),t._v(" "),i("span",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"is-nowrap"},[t._v("Map only")])])])},Ys=[],Js={props:{value:{type:String,required:!0},listMode:{type:String,required:!0}}},Qs=Js,Ks=(i("10e7"),Object(v["a"])(Qs,Ws,Ys,!1,null,"47928eef",null)),Xs=Ks.exports,tn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.documents?i("div",{staticClass:"cards-container is-flex"},t._l(t.documents.documents,(function(e){return i("document-link",{key:e.document_id,staticClass:"card-image",attrs:{document:e,title:t.$documentUtils.getDocumentTitle(e)}},[i("img",{attrs:{src:t.getMediumImageUrl(e),height:"250"}})])})),1):t._e()},en=[],sn={props:{documents:{type:Object,required:!0}},methods:{getMediumImageUrl:j["a"].getMedium}},nn=sn,an=(i("573e"),Object(v["a"])(nn,tn,en,!1,null,"ac85bbb4",null)),rn=an.exports,on=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.$user.isLogged?i("button",{staticClass:"button is-small is-primary header-item",class:{"is-loading":t.promise.loading},on:{click:t.loadPreferences}},[i("fa-icon",{attrs:{icon:"star"}}),t._v(" "),i("span",{staticClass:"is-hidden-mobile"},[t._v(" ")]),t._v(" "),i("span",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"is-hidden-mobile"},[t._v(" Load my preferences ")])],1):t._e()},ln=[],cn={data(){return{promise:{}}},computed:{documentType(){return this.$route.name.slice(0,-1)}},methods:{loadPreferences(){this.promise=y["a"].userProfile.preferences.get().then(t=>{const e=t.data,i=Object.assign({},this.$route.query);if(["outing","route","image","xreport","books","articles"].includes(this.documentType)){const t=e.activities.join(",");i.act=""===t?void 0:t}if(["outing","route","image","xreport","waypoint"].includes(this.documentType)){const t=e.areas.map(t=>t.document_id).join(",");i.a=""===t?void 0:t,i.bbox=void 0}this.$router.push({query:i})})}}},un=cn,dn=Object(v["a"])(un,on,ln,!1,null,null,null),mn=dn.exports,pn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"page-selector ml-1"},[i(t.firstDocumentPosition>0?"router-link":"span",{tag:"component",staticClass:"pagination-link button has-text-normal",attrs:{disabled:1===t.firstDocumentPosition,to:t.pageQuery(t.offset-t.queryLimit,t.queryLimit)}},[i("fa-icon",{attrs:{icon:"chevron-left"}})],1),t._v(" "),t._v("\n  "+t._s(t.firstDocumentPosition)+"-"+t._s(t.lastDocumentPosition)+" "),i("span",{directives:[{name:"translate",rawName:"v-translate",value:{ctxt:"1-30 of 200 results"},expression:"{ ctxt: '1-30 of 200 results' }"}]},[t._v("of")]),t._v("\n  "+t._s(t.total)+"\n  "),i(t.lastDocumentPosition<t.total?"router-link":"span",{tag:"component",staticClass:"pagination-link button has-text-normal",attrs:{disabled:t.lastDocumentPosition>=t.total,to:t.pageQuery(t.offset+t.queryLimit,t.queryLimit)}},[i("fa-icon",{attrs:{icon:"chevron-right"}})],1),t._v(" "),i("dropdown-button",{ref:"limitSelector",staticClass:"ml-1 mr-1"},[i("span",{staticClass:"button is-small",attrs:{slot:"button"},slot:"button"},[i("span",[t._v(t._s(t.queryLimit))]),t._v("\n       \n      "),i("fa-icon",{attrs:{icon:"angle-down","aria-hidden":"true"}})],1),t._v(" "),t._l([30,50,100],(function(e){return i("router-link",{key:e,tag:"component",staticClass:"dropdown-item is-small",class:{"is-active":t.queryLimit===e},attrs:{to:t.pageQuery(t.offset,e)},nativeOn:{click:function(e){return t.hideOnclick(e)}}},[i("span",[t._v(t._s(e))])])}))],2),t._v(" "),i("span",{directives:[{name:"translate",rawName:"v-translate",value:{ctxt:"30 per page"},expression:"{ ctxt: '30 per page' }"}]},[t._v("per page")])],1)},hn=[],vn={props:{documents:{type:Object,default:null}},data(){return{total:30}},computed:{offset(){var t;return parseInt(null!==(t=this.$route.query.offset)&&void 0!==t?t:0)},queryLimit(){var t;return parseInt(null!==(t=this.$route.query.limit)&&void 0!==t?t:30)},firstDocumentPosition(){return this.offset+1},lastDocumentPosition(){return Math.min(this.offset+this.queryLimit,this.total)}},watch:{documents:"saveTotal"},methods:{saveTotal(){this.documents&&(this.total=this.documents.total)},pageQuery(t,e){const i=Object.assign({},this.$route.query);return i.offset=Math.max(t,0),i.limit=Math.max(Math.min(e,100),30),{name:this.$route.name,params:this.$route.params,query:i}},hideOnclick(){this.$refs.limitSelector.isActive=!1}}},fn=vn,_n=(i("93ea"),Object(v["a"])(fn,pn,hn,!1,null,"93fb7a2c",null)),gn=_n.exports,bn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"query-items"},[t.fields.title?i("query-item",{staticClass:"title-input is-hidden-mobile",attrs:{field:t.fields.title,"hide-label":""}}):t._e(),t._v(" "),t._l(t.categorizedFields,(function(e){return i("dropdown-button",{key:e.name,staticClass:"category-button"},[i("span",{staticClass:"button is-small-mobile",attrs:{slot:"button",disabled:0===e.fields.length},slot:"button"},[i("fa-icon",{attrs:{icon:t.$options.categoryIcon[e.name]}}),t._v(" "),i("span",{staticClass:"is-hidden-mobile"},[t._v("\n         "+t._s(t.$gettext(e.name))+"\n      ")]),t._v(" "),0!=e.activeCount?i("span",[t._v("  ("+t._s(e.activeCount)+") ")]):t._e(),t._v(" "),i("span",[t._v(" ")]),t._v(" "),i("fa-icon",{attrs:{icon:"angle-down","aria-hidden":"true"}})],1),t._v(" "),i("div",{staticClass:"sub-query-items"},t._l(e.fields,(function(t){return i("query-item",{key:t.name,staticClass:"dropdown-item",class:"title"===t.name?"is-hidden-tablet":"",attrs:{field:t}})})),1)])})),t._v(" "),i("association-query-item",{staticClass:"association-query-item is-hidden-mobile",attrs:{"document-types":t.associations},on:{"documents-load":function(e){return t.$emit("documents-load",arguments[0])}}}),t._v(" "),i("load-user-preferences-button",{staticClass:"is-hidden-tablet category-button"}),t._v(" "),t.listMode?i("export-csv-button",{staticClass:"is-small-mobile"}):t._e()],2)},yn=[],wn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return 0!=t.documentTypes.length?i("span",[i("input-document",{staticClass:"input-document",attrs:{"document-type":t.documentTypes,placeholder:t.$gettext("Multi-criteria search")},on:{add:t.add}}),t._v(" "),t._l(t.documents,(function(e){return i("span",{key:e.document_id,staticClass:"tag is-primary is-medium"},[e.loading?i("span",[t._v("\n      "+t._s(e.document_id)+"\n    ")]):i("document-title",{attrs:{document:e}}),t._v(" "),i("button",{staticClass:"delete is-small",on:{click:function(i){return t.remove(e)}}})],1)}))],2):t._e()},xn=[],Cn={computed:{urlValue:{get(){return this.$route.query[this.field.url]},set(t){const e=Object.assign({},this.$route.query);e[this.field.url]=t===this.field.defaultUrlQuery?void 0:t,e[this.field.url]!==this.$route.query[this.field.url]&&(e.offset=void 0,this.$router.push({query:e}))}},value:{get(){return this.field.urlToValue(this.urlValue)},set(t){this.urlValue=this.field.valueToUrl(t)}}}};const kn={};var $n={mixins:[Cn],props:{documentTypes:{type:Array,required:!0}},data(){return{documents:null}},watch:{$route:{handler:"load",immediate:!0}},methods:{getUrlValue(t){const e=Nt["a"].objectDefinitions[t].letter;return this.$route.query[e]},setUrlValue(t,e){const i=Nt["a"].objectDefinitions[t].letter,s=Object.assign({},this.$route.query);s[i]=""===e?void 0:e,s[i]!==this.$route.query[i]&&this.$router.push({query:s})},getValue(t){const e=this.getUrlValue(t);return e?String(e).split(",").map(t=>parseInt(t,10)):[]},setValue(t,e){this.setUrlValue(t,e.join(","))},load(){this.documents=[];for(const t of this.documentTypes)for(const e of this.getValue(t))this.documents.push(this.getDocument(t,e));this.emitDocumentsLoad()},getDocument(t,e){const i=`${t}#${e}`;return void 0===kn[i]&&(kn[i]={document_id:e,loading:!0},y["a"][t].get(e).then(t=>{kn[i].loading=!1,Object.assign(kn[i],t.data),this.emitDocumentsLoad()})),kn[i]},add(t){const e=this.$documentUtils.getDocumentType(t.type),i=this.getValue(e);i.includes(t.document_id)||(i.push(t.document_id),this.setValue(e,i))},remove(t){const e=this.$documentUtils.getDocumentType(t.type),i=this.getValue(e);i.splice(i.indexOf(t.document_id),1),this.setValue(e,i)},emitDocumentsLoad(){this.$emit("documents-load",this.documents)}}},Ln=$n,qn=(i("fa339"),Object(v["a"])(Ln,wn,xn,!1,null,"a305debe",null)),Mn=qn.exports,Sn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"button is-primary",on:{click:t.exportCsv}},[i("fa-icon",{attrs:{icon:"file-download"}}),t._v(" "),i("span",{staticClass:"is-hidden-touch"},[t._v(" ")]),t._v(" "),i("span",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"is-hidden-touch"},[t._v("Export to CSV")])],1)},En=[],On={methods:{exportCsv(){this.$root.$emit("table-csv-export")}}},Dn=On,Tn=Object(v["a"])(Dn,Sn,En,!1,null,"b910cc56",null),An=Tn.exports,Pn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return void 0!==t.field?i("div",{staticClass:"field"},["valuesRangeSlider"===t.field.queryMode?i("div",{staticClass:"control"},[i("query-item-slider-label",{attrs:{field:t.field,value:t.value}}),t._v(" "),i("vue-slider",{attrs:{data:t.field.values,lazy:!0,marks:t.field.values,"hide-label":"",tooltip:"focus","tooltip-formatter":t.field.i18n?t.gettext:void 0},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1):"numericalRangeSlider"===t.field.queryMode?i("div",{staticClass:"control"},[i("query-item-slider-label",{attrs:{field:t.field,value:t.value}}),t._v(" "),i("vue-slider",{attrs:{min:t.field.min,max:t.field.max,interval:t.interval,lazy:!0,tooltip:"focus"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1):"multiSelect"===t.field.queryMode?i("div",{staticClass:"control"},[i("label",{staticClass:"label"},[t._v("\n      "+t._s(t._f("uppercaseFirstLetter")(t.$gettext(t.field.name)))+"\n    ")]),t._v(" "),i("multiselect",{attrs:{options:t.field.values,"custom-label":t.field.i18n?t.gettext:void 0,placeholder:t.$gettext("Select option"),"select-label":t.$gettext("Press enter to select"),multiple:!0},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1):"orientations"===t.field.queryMode?i("div",{staticClass:"level"},[i("input-orientation",{staticClass:"level-item",model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1):"input"===t.field.queryMode?i("div",{staticClass:"control"},[t.hideLabel?t._e():i("label",{staticClass:"label"},[t._v("\n      "+t._s(t._f("uppercaseFirstLetter")(t.$gettext(t.field.name)))+"\n    ")]),t._v(" "),i("input",{ref:"input",staticClass:"input",attrs:{type:t.field.type,placeholder:t.$gettext(t.field.name)},domProps:{value:t.value},on:{input:t.oninput}})]):"tristate"===t.field.queryMode?i("div",{staticClass:"control"},[i("label",{staticClass:"label"},[t._v("\n      "+t._s(t._f("uppercaseFirstLetter")(t.$gettext(t.field.name)))+"\n    ")]),t._v(" "),i("multiselect",{attrs:{options:["yes","no","no info"],"custom-label":t.gettext,placeholder:t.$gettext("Select option"),"select-label":t.$gettext("Press enter to select")},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1):"checkbox"===t.field.queryMode?i("div",{staticClass:"control"},[i("input-checkbox",{model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[t._v("\n      "+t._s(t.$gettext(t.field.name))+"\n    ")])],1):"activities"===t.field.queryMode?i("div",{staticClass:"control"},[i("input-activity",{model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1):"date"===t.field.queryMode?i("div",[i("date-query-item")],1):"dates"===t.field.queryMode?i("div",[i("dates-query-item")],1):i("div",{staticClass:"notification is-danger"},[t._v("\n    Please fill queryMode for "+t._s(t.field.name)+"\n  ")])]):t._e()},jn=[],Nn=i("f7fe"),zn=i.n(Nn),In=(i("24df"),i("8e5f")),Fn=i.n(In),Vn=i("4971"),Un=i.n(Vn),Bn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"control"},[i("label",{staticClass:"label"},[t._v(t._s(t._f("uppercaseFirstLetter")(t.$gettext("date_start"))))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"input",attrs:{type:"date"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}})])])},Rn=[],Hn={data(){return{value:null}},computed:{urlValue:{get(){var t;return null!==(t=this.$route.query.date)&&void 0!==t?t:""},set(t){const e=Object.assign({},this.$route.query);e.date=t,e.date!==this.$route.query.date&&this.$router.push({query:e})}}},watch:{value:"compute"},created(){this.value=this.urlValue},methods:{compute(){this.urlValue=this.value?this.value:void 0}}},Gn=Hn,Zn=Object(v["a"])(Gn,Bn,Rn,!1,null,null,null),Wn=Zn.exports,Yn=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"control"},[i("label",{staticClass:"label"},[t._v(t._s(t._f("uppercaseFirstLetter")(t.$gettext("date_start"))))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.value[0],expression:"value[0]"}],staticClass:"input",attrs:{type:"date"},domProps:{value:t.value[0]},on:{input:function(e){e.target.composing||t.$set(t.value,0,e.target.value)}}})]),t._v(" "),i("div",{staticClass:"control"},[i("label",{staticClass:"label"},[t._v(t._s(t._f("uppercaseFirstLetter")(t.$gettext("date_end"))))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.value[1],expression:"value[1]"}],staticClass:"input",attrs:{type:"date"},domProps:{value:t.value[1]},on:{input:function(e){e.target.composing||t.$set(t.value,1,e.target.value)}}})])])},Jn=[],Qn={data(){return{value:[null,null]}},computed:{urlValue:{get(){var t;return(null!==(t=this.$route.query.date)&&void 0!==t?t:"")+","},set(t){const e=Object.assign({},this.$route.query);e.date=t,e.date!==this.$route.query.date&&this.$router.push({query:e})}}},watch:{value:"compute"},created(){this.value=this.urlValue.split(",")},methods:{compute(){this.value[0]||this.value[1]?(!this.value[0]&&this.value[1]&&(this.value=[this.value[1],this.value[0]]),this.value[1]?this.urlValue=this.value[0]+","+this.value[1]:this.urlValue=this.value[0]):this.urlValue=void 0}}},Kn=Qn,Xn=Object(v["a"])(Kn,Yn,Jn,!1,null,null,null),ta=Xn.exports,ea=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"columns is-mobile"},[i("div",{staticClass:"column query-bound-value-left"},[t.field.i18n?i("span",[t._v(t._s(t._f("uppercaseFirstLetter")(t.$gettext(t.value[0],t.field.i18nContext))))]):i("span",[t._v(t._s(t.value[0]))]),t._v(" "),t.field.unit?i("span",[t._v(" "+t._s(t.field.unit))]):t._e()]),t._v(" "),i("div",{staticClass:"column query-label",class:{"is-narrow":!t.field.i18n,"is-4":t.field.i18n}},[t._v("\n      "+t._s(t._f("uppercaseFirstLetter")(t.$gettext(t.field.name)))+"\n    ")]),t._v(" "),i("div",{staticClass:"column query-bound-value-right"},[t.field.i18n?i("span",[t._v(t._s(t._f("uppercaseFirstLetter")(t.$gettext(t.value[1],t.field.i18nContext))))]):i("span",[t._v(t._s(t.value[1]))]),t._v(" "),t.field.unit?i("span",[t._v(" "+t._s(t.field.unit))]):t._e()])])])},ia=[],sa=i("a50d"),na={mixins:[sa["c"]],props:{value:{type:Array,required:!0}}},aa=na,ra=(i("a13b"),Object(v["a"])(aa,ea,ia,!1,null,"5ee82f3c",null)),oa=ra.exports,la={components:{Multiselect:Fn.a,vueSlider:Un.a,QueryItemSliderLabel:oa,DateQueryItem:Wn,DatesQueryItem:ta},mixins:[sa["c"],Cn],props:{hideLabel:{type:Boolean,default:!1}},computed:{interval(){const t=this.field.max-this.field.min;return t<300?1:t<1e3?5:t<3e3?10:25}},methods:{gettext(t){return this.$gettext(t,this.field.i18nContext)},oninput:zn()((function(){this.value=this.$refs.input.value}),300)}},ca=la,ua=(i("60bc"),i("e4f7"),Object(v["a"])(ca,Pn,jn,!1,null,"559b066f",null)),da=ua.exports;const ma={General:["title","activities","article_type","area_type","book_types","waypoint_type","event_type","climbing_outdoor_type","route_types","quality","categories","date_start"],ratings:["global_rating","rock_free_rating","rock_required_rating","aid_rating","engagement_rating","risk_rating","equipment_rating","exposition_rock_rating","ice_rating","mixed_rating","ski_rating","hiking_rating","ski_exposition","labande_global_rating","labande_ski_rating","snowshoe_rating","via_ferrata_rating","mtb_down_rating","mtb_up_rating","hiking_mtb_exposition","glacier_rating","equipment_ratings","public_transportation_rating","climbing_rating_max","climbing_rating_median","climbing_rating_min","paragliding_rating","snow_clearance_rating"],Terrain:["condition_rating","orientations","configuration","elevation_max","elevation_min","difficulties_height","height_diff_access","height_diff_difficulties","height_diff_down","height_diff_up","mtb_height_diff_portages","mtb_length_asphalt","mtb_length_trail","rock_types","slackline_type","snow_quality","snow_quantity","avalanche_signs","elevation_access","elevation_down_snow","elevation_up_snow","children_proof","prominence","climbing_indoor_types","climbing_outdoor_types","climbing_styles","elevation","height_max","height_median","height_min","length","rain_proof","routes_quantity","length_total","route_length","durations","glacier_gear"],Miscs:["lang","frequentation","public_transport","lift_access","access_time","best_periods","capacity","capacity_staffed","custodianship","product_types","public_transportation_types","weather_station_types","nb_participants","nb_impacted","severity","image_type"]},pa={area:ma,article:ma,book:ma,image:ma,map:ma,outing:ma,profile:ma,route:ma,waypoint:ma,xreport:ma};var ha={categoryIcon:{General:"filter",Miscs:"database",Terrain:["waypoint","summit"],ratings:"tachometer-alt"},components:{AssociationQueryItem:Mn,QueryItem:da,ExportCsvButton:An,LoadUserPreferencesButton:mn},props:{listMode:{type:Boolean,default:!1}},computed:{urlActivities(){var t;return(null!==(t=this.$route.query.act)&&void 0!==t?t:"").split(",")},urlWaypointTypes(){var t;return(null!==(t=this.$route.query.wtyp)&&void 0!==t?t:"").split(",")},fields(){return Nt["a"].objectDefinitions[this.documentType].fields},documentType(){return this.$route.name.slice(0,-1)},associations(){return"outing"===this.documentType?["area","route","waypoint","profile"]:"route"===this.documentType?["area","waypoint"]:"waypoint"===this.documentType?["area"]:[]},categorizedFields(){const t=[];for(const e of Object.keys(pa[this.documentType])){const i={name:e,activeCount:0,fields:[]};let s=!1;for(const t of pa[this.documentType][e]){const e=this.fields[t];void 0!==e&&e.url&&(s=!0,void 0!==this.$route.query[e.url]&&(i.activeCount+=1),"waypoint"===this.documentType?e.isVisibleForWaypointTypes(this.urlWaypointTypes)&&i.fields.push(e):e.isVisibleForActivities(this.urlActivities)&&i.fields.push(e))}s&&t.push(i)}return t}}},va=ha,fa=(i("b441"),Object(v["a"])(va,bn,yn,!1,null,"11346c50",null)),_a=fa.exports;const ga=()=>i.e("data-table").then(i.bind(null,"8660"));var ba={name:"DocumentsView",components:{QueryItems:_a,PageSelector:gn,DocumentsTable:ga,ImageCards:rn,DisplayModeSwitch:Xs,LoadUserPreferencesButton:mn},data(){return{promise:{},displayMode:"both",listMode:null,isMobile:null,highlightedDocument:null,filteredWaypoints:[]}},computed:{showMap(){return["both","map"].includes(this.displayMode)},showResults(){return["result","both"].includes(this.displayMode)},documents(){return this.promise.data},documentType(){return this.$route.name.slice(0,-1)},documentTypes(){return["route","waypoint","outing","image","book","area"]},documentAreGeoLocalized(){return!0===Nt["a"].objectDefinitions[this.documentType].geoLocalized},addQuery(){return{act:this.$route.query.act}},queryWithoutOffset(){const t=Object.assign({},this.$route.query);return delete t.offset,t},documentsShownOnMap(){return this.filteredWaypoints.concat(this.documents?this.documents.documents:[])}},watch:{$route:{handler:"load",immediate:!0},displayMode:"updateMapSize"},methods:{load(){this.displayMode=this.$localStorage.get(this.documentType+".displayMode",this.documentAreGeoLocalized?"both":"result"),this.listMode=this.$localStorage.get(this.documentType+".listMode",!1),this.$route.hash?this.$router.replace(this.$route.fullPath.replace("#","?")):this.promise=y["a"][this.documentType].getAll(this.$route.query)},toogleProperty(t){this.setProperty(t,!this[t])},setProperty(t,e){this[t]=e,this.$localStorage.set(`${this.documentType}.${t}`,this[t])},getDocumentTypeTitle(t){return this.$gettext(t+"s")},updateMapSize(t,e){("map"===t&&"both"===e||"both"===t&&"map"===e)&&this.$nextTick(this.$refs.map.map.updateSize.bind(this.$refs.map.map))},onQueryDocumentsLoad(t){this.filteredWaypoints=t.filter(t=>"w"===t.type),this.filteredWaypoints.map(t=>delete t.associations)}}},ya=ba,wa=(i("7533"),Object(v["a"])(ya,Gs,Zs,!1,null,"45fb7e77",null)),xa=wa.exports,Ca=i("9f3f"),ka=i("9b99"),$a=i("62d5"),La=i("4947"),qa=i("b32b"),Ma=i("e78b"),Sa=i("cece"),Ea=i("d83c"),Oa=i("a790"),Da=i("d1c3"),Ta=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section"},[i("html-header",{attrs:{title:"Dashboard"}}),t._v(" "),i("div",{staticClass:"box"},[i("h3",{staticClass:"title is-3"},[i("router-link",{attrs:{to:"images"}},[i("icon-image"),t._v("\n        "+t._s(t._f("uppercaseFirstLetter")(t.$gettext("images")))+"\n      ")],1)],1),t._v(" "),i("div",{staticClass:"images-container"},[i("loading-notification",{attrs:{promise:t.imagesPromise}}),t._v(" "),null!=t.images?i("gallery",{attrs:{images:t.images.documents}}):t._e()],1)]),t._v(" "),i("div",{staticClass:"columns"},[i("div",{staticClass:"column is-7"},[i("div",{staticClass:"box"},[t.$user.isLogged?i("span",{staticClass:"is-pulled-right is-size-4"},[i("router-link",{staticClass:"has-text-normal",attrs:{to:"preferences",title:t.$gettext("My preferences")}},[i("fa-icon",{attrs:{icon:"cogs"}})],1),t._v(" "),i("span",{attrs:{title:t.enableUserPreferences?t.$gettext("Personal feed on"):t.$gettext("Personal feed off")}},[i("fa-icon",{staticClass:"has-cursor-pointer",class:{"has-text-primary":t.enableUserPreferences},attrs:{icon:"star"},on:{click:function(e){t.enableUserPreferences=!t.enableUserPreferences}}})],1)],1):t._e(),t._v(" "),i("h3",{staticClass:"title is-2"},[i("router-link",{attrs:{to:"outings"}},[i("icon-outing"),t._v("\n            "+t._s(t._f("uppercaseFirstLetter")(t.$gettext("outings")))+"\n          ")],1)],1),t._v(" "),i("loading-notification",{attrs:{promise:t.outingsPromise}}),t._v(" "),null!=t.outingsByDate?i("div",t._l(t.outingsByDate,(function(e,s){return i("div",{key:s},[i("h4",{staticClass:"outing-date-header has-text-centered is-italic has-text-weight-bold"},[i("router-link",{attrs:{to:{name:"outings",query:{date:s+","+s}}}},[t._v("\n                "+t._s(t._f("uppercaseFirstLetter")(t.$dateUtils.toLocalizedString(s,"PPPP")))+"\n              ")])],1),t._v(" "),t._l(e,(function(t){return i("dashboard-outing-link",{key:t.document_id,attrs:{outing:t}})}))],2)})),0):t._e()],1)]),t._v(" "),i("div",{staticClass:"column is-5"},[i("div",{staticClass:"box"},[i("h3",{staticClass:"title is-3"},[i("router-link",{attrs:{to:"forum"}},[i("icon-forum"),t._v("\n            "+t._s(t.$gettext("Forum"))+"\n          ")],1)],1),t._v(" "),i("forum-widget",{attrs:{"message-count":20}})],1),t._v(" "),i("div",{staticClass:"box"},[i("h3",{staticClass:"title is-3"},[i("router-link",{attrs:{to:"routes"}},[i("icon-route"),t._v("\n            "+t._s(t._f("uppercaseFirstLetter")(t.$gettext("routes")))+"\n          ")],1)],1),t._v(" "),i("loading-notification",{attrs:{promise:t.routesPromise}}),t._v(" "),null!=t.routes?i("div",t._l(t.routes.documents,(function(t){return i("dashboard-route-link",{key:t.document_id,attrs:{route:t}})})),1):t._e()],1)])])],1)},Aa=[],Pa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("dashboard-link",{attrs:{document:t.outing}},[i("marker-image-count",{attrs:{"image-count":t.outing.img_count}}),t._v(" "),i("marker-condition",{attrs:{condition:t.outing.condition_rating}})],1)},ja=[],Na=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("document-link",{staticClass:"dashboard-link has-text-normal is-flex has-hover-background",attrs:{document:t.document}},[i("activities",{staticClass:"is-size-3 activity-icons is-nowrap",attrs:{activities:t.document.activities}}),t._v(" "),i("span",{staticClass:"dashboard-link-main is-ellipsed"},[i("document-title",{staticClass:"document-title",attrs:{document:t.document}}),t._v(" "),t._l(t.rangeAreas,(function(t){return i("document-title",{key:t.document_id,staticClass:"is-size-7 area-title is-italic",attrs:{document:t}})}))],2),t._v(" "),i("span",{staticClass:"is-nowrap"},[t._t("default")],2)],1)},za=[],Ia={props:{document:{type:Object,required:!0}},computed:{rangeAreas(){let t=this.document.areas.filter(t=>"range"===t.area_type);return t=0!==t.length?t:this.document.areas.filter(t=>"admin_limits"===t.area_type),t=0!==t.length?t:this.document.areas,t}}},Fa=Ia,Va=(i("835e"),Object(v["a"])(Fa,Na,za,!1,null,"6c38066c",null)),Ua=Va.exports,Ba={components:{DashboardLink:Ua},props:{outing:{type:Object,required:!0}}},Ra=Ba,Ha=Object(v["a"])(Ra,Pa,ja,!1,null,null,null),Ga=Ha.exports,Za=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("dashboard-link",{attrs:{document:t.route}},[t.filteredDocument.height_diff_up?i("span",{staticClass:"append-comma",attrs:{title:t.$gettext("height_diff_up")}},[t._v("\n    +"+t._s(t.route.height_diff_up)+" m")]):t._e(),t._v(" "),t.filteredDocument.height_diff_difficulties?i("span",{staticClass:"append-comma",attrs:{title:t.$gettext("height_diff_difficulties")}},[t._v("\n    "+t._s(t.route.height_diff_difficulties)+" m")]):t._e(),t._v(" "),i("document-rating",{attrs:{document:t.filteredDocument}})],1)},Wa=[],Ya={components:{DashboardLink:Ua},props:{route:{type:Object,required:!0}},computed:{filteredDocument(){const t={};return this.route.activities.includes("skitouring")&&(t.ski_rating=this.route.ski_rating,t.height_diff_up=this.route.height_diff_up),this.route.activities.includes("snow_ice_mixed")&&(t.height_diff_difficulties=this.route.height_diff_difficulties,t.global_rating=this.route.global_rating),this.route.activities.includes("mountain_climbing")&&(t.height_diff_difficulties=this.route.height_diff_difficulties,t.engagement_rating=this.route.engagement_rating),this.route.activities.includes("rock_climbing")&&(t.height_diff_difficulties=this.route.height_diff_difficulties,t.equipement_rating=this.route.equipement_rating,t.rock_free_rating=this.route.rock_free_rating,t.rock_required_rating=this.route.rock_required_rating),this.route.activities.includes("ice_climbing")&&(t.height_diff_difficulties=this.route.height_diff_difficulties,t.ice_rating=this.route.ice_rating),this.route.activities.includes("via_ferrata")&&(t.via_ferrata_rating=this.route.via_ferrata_rating,t.height_diff_difficulties=this.route.height_diff_difficulties),this.route.activities.includes("mountain_biking")&&(t.mtb_up_rating=this.route.mtb_up_rating,t.mtb_down_rating=this.route.mtb_down_rating),this.route.activities.includes("snowshoeing")&&(t.height_diff_up=this.route.height_diff_up,t.height_diff_down=this.route.height_diff_down,t.snowshoe_rating=this.route.snowshoe_rating),this.route.activities.includes("hiking")&&(t.hiking_rating=this.route.hiking_rating,t.height_diff_up=this.route.height_diff_up,t.height_diff_down=this.route.height_diff_down),this.route.activities.includes("slacklining")&&(t.slackline_length=this.route.slackline_length,t.slackline_height=this.route.slackline_height,t.height_diff_access=this.route.height_diff_access),t}}},Ja=Ya,Qa=(i("c7e8"),Object(v["a"])(Ja,Za,Wa,!1,null,"42575398",null)),Ka=Qa.exports,Xa=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:{wide:t.wide}},[i("loading-notification",{attrs:{promise:t.promise}}),t._v(" "),t.topics?i("div",t._l(t.topics,(function(e){return i("a",{key:e.id,staticClass:"forum-row",attrs:{href:t.getTopicUrl(e),target:"_blank",rel:"noopener",title:e.last_poster_username}},[i("img",{style:"width:"+t.imgSize+"px",attrs:{src:t.getAvatarUrl(e.last_poster_user)}}),t._v(" "),i("span",{class:{"is-ellipsed":!t.wide}},[t._v("\n        "+t._s(e.title)+"\n      ")])])})),0):t._e()],1)},tr=[];const er=[29,40,41,42,43,44,45,47,54,55,56,64,94,95,96,97,113,136,146];var ir={props:{wide:{type:Boolean,default:!1},messageCount:{type:Number,default:-1}},data(){return{promise:null}},computed:{topics(){if(!this.promise.data)return null;let t=this.promise.data.topic_list.topics;return this.messageCount>=0&&(t=t.slice(0,this.messageCount)),t},imgSize(){return this.wide?24:20}},created(){this.promise=ut["a"].getLatest(er)},methods:{getAvatarUrl(t){return ut["a"].getAvatarUrl(t,this.imgSize)},getTopicUrl(t){return`${ut["a"].url}/t/${t.slug}/${t.id}/${t.highest_post_number}`}}},sr=ir,nr=(i("a8dd"),Object(v["a"])(sr,Xa,tr,!1,null,"6aa13995",null)),ar=nr.exports,rr=i("48ec"),or={name:"DashboardView",components:{DashboardOutingLink:Ga,DashboardRouteLink:Ka,ForumWidget:ar,Gallery:rr["a"]},data(){return{enableUserPreferences:this.$localStorage.get("enableUserPreferences",!1),outingsPromise:null,routesPromise:null,imagesPromise:null}},computed:{outings(){return this.outingsPromise.data},images(){return this.imagesPromise.data},routes(){return this.routesPromise.data},outingsByDate(){if(!this.outings)return null;const t={};for(const i of this.outings.documents){var e;t[i.date_end]=null!==(e=t[i.date_end])&&void 0!==e?e:[],t[i.date_end].push(i)}return t}},watch:{enableUserPreferences:"loadOutings"},created(){this.loadOutings(),this.routesPromise=y["a"].route.getAll({limit:10}),this.imagesPromise=y["a"].image.getAll()},methods:{loadOutings(){this.$localStorage.set("enableUserPreferences",this.enableUserPreferences),this.enableUserPreferences&&this.$user.isLogged?this.outingsPromise=this.getQueryFromUserPreferences("outing").then(this.loadOutingsWithQuery):this.loadOutingsWithQuery()},loadOutingsWithQuery(t={}){t.limit=30,this.outingsPromise=y["a"].outing.getAll(t)},getQueryFromUserPreferences(t){return new Promise((function(e){y["a"].userProfile.preferences.get().then(i=>{const s=i.data,n={};if(["outing","route","image","xreport","books","articles"].includes(t)){const t=s.activities.join(",");n.act=""===t?void 0:t}if(["outing","route","image","xreport","waypoint"].includes(t)){const t=s.areas.map(t=>t.document_id).join(",");n.a=""===t?void 0:t,n.bbox=void 0}e(n)})}))}}},lr=or,cr=(i("bd36"),Object(v["a"])(lr,Ta,Aa,!1,null,"c7a4a8e4",null)),ur=cr.exports,dr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("html-header",{attrs:{title:t.$gettext("Home")}}),t._v(" "),t.$user.isLogged?t._e():i("home-banner"),t._v(" "),i("div",{staticClass:"section feed-view"},[i("div",{staticClass:"columns"},[i("div",{staticClass:"column is-12-mobile is-7-tablet is-7-desktop is-8-widescreen is-9-fullhd"},[i("div",{staticClass:"feed-title"},[i("span",{directives:[{name:"translate",rawName:"v-translate",value:{params:{TOTO:"toto"}},expression:"{ params: { TOTO: 'toto' } }"}],staticClass:"is-size-3 has-text-weight-semibold"},[t._v("\n            Activity feed\n          ")]),t._v(" "),t.$user.isLogged?i("span",{staticClass:"feed-buttons is-pulled-right"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.isPersonal,expression:"isPersonal"}],staticClass:"is-checkradio is-primary",attrs:{id:"c2c-personal-feed",type:"checkbox"},domProps:{checked:Array.isArray(t.isPersonal)?t._i(t.isPersonal,null)>-1:t.isPersonal},on:{change:[function(e){var i=t.isPersonal,s=e.target,n=!!s.checked;if(Array.isArray(i)){var a=null,r=t._i(i,a);s.checked?r<0&&(t.isPersonal=i.concat([a])):r>-1&&(t.isPersonal=i.slice(0,r).concat(i.slice(r+1)))}else t.isPersonal=n},t.saveIsPersonalState]}}),t._v(" "),i("label",{attrs:{for:"c2c-personal-feed"}},[t._v("\n              "+t._s(t.isPersonal?t.$gettext("Personal feed on"):t.$gettext("Personal feed off"))+"\n            ")])]):t._e()]),t._v(" "),i("feed-widget",{attrs:{type:t.isPersonal&&t.$user.isLogged?"personal":"default","hide-empty-documents":""}})],1),t._v(" "),i("div",{staticClass:"column is-hidden-mobile is-5-tablet is-5-desktop is-4-widescreen is-3-fullhd"},[i("h3",{directives:[{name:"translate",rawName:"v-translate",value:{ctxt:"context"},expression:"{ ctxt: 'context' }"}],staticClass:"title is-3"},[t._v("Last forum topics")]),t._v(" "),i("forum-widget",{staticClass:"box is-paddingless",attrs:{wide:""}})],1)])])],1)},mr=[],pr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("div",{staticClass:"intro-banner has-text-centered"},[i("div",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"title is-1 with-background"},[t._v("The mountain sports community")]),t._v(" "),i("div",{staticClass:"outings-links"},t._l(t.$options.activities,(function(e){return i("router-link",{key:e,staticClass:"outings-link",attrs:{to:{name:"outings",query:{act:e}},title:t.$gettext(e,"activities")}},[i("icon-activity",{attrs:{activity:e}})],1)})),1),t._v(" "),i("div",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"title is-4 has-text-weight-normal with-background"},[t._v("\n      Camptocamp.org aims to facilitate information sharing between mountain addicts and contribute to the safety of\n      mountain activities.\n    ")]),t._v(" "),i("div",{staticClass:"buttons is-centered"},[i("router-link",{staticClass:"button is-primary",attrs:{to:{name:"topoguide"}}},[i("icon-topoguide"),t._v("  "),i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Topoguide")]),i("br"),t._v(" "),i("span",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"is-size-4"},[t._v("Conditions, summits, routes")]),t._v("...\n      ")],1),t._v(" "),i("router-link",{staticClass:"button is-primary",attrs:{to:{name:"forum"}}},[i("icon-forum"),t._v("  "),i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Forum")]),i("br"),t._v(" "),i("span",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"is-size-4"},[t._v("Share with us!")])],1)],1)])])},hr=[],vr={activities:["skitouring","snow_ice_mixed","mountain_climbing","rock_climbing","ice_climbing","hiking","snowshoeing","paragliding","mountain_biking","via_ferrata","slacklining"]},fr=vr,_r=(i("44a5"),Object(v["a"])(fr,pr,hr,!1,null,"2135ce32",null)),gr=_r.exports,br=i("f5bf"),yr={name:"FeedView",components:{HomeBanner:gr,FeedWidget:br["a"],ForumWidget:ar},data(){return{isPersonal:!1}},created(){this.isPersonal=this.$localStorage.get("isPersonal",!1)},methods:{saveIsPersonalState(){this.$localStorage.set("isPersonal",this.isPersonal)}}},wr=yr,xr=(i("d541"),Object(v["a"])(wr,dr,mr,!1,null,"d10114d6",null)),Cr=xr.exports,kr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section"},[i("html-header",{attrs:{title:"Yeti"}}),t._v(" "),i("div",{staticClass:"box"},[i("h1",{staticClass:"title is-1"},[i("div",{staticClass:"yeti-icon is-inline-block"},[i("icon-yeti")],1),t._v(" "),i("span",[t._v("YETI - Un outil de préparation de course")])])]),t._v(" "),i("div",{staticClass:"yeti-app"},[t.showDisclaimer?i("div",{staticClass:"box yeti-disclaimer"},[i("h2",{staticClass:"title is-3 yeti-title"},[t._v("Avertissement")]),t._v(" "),i("yeti-text",{attrs:{component:"disclaimer"}}),t._v(" "),i("form",{attrs:{action:"#"},on:{submit:t.onSubmitDisclaimer}},[i("input-checkbox",{model:{value:t.checkDisclaimer,callback:function(e){t.checkDisclaimer=e},expression:"checkDisclaimer"}},[t._v("\n          J’ai lu et j’ai compris l’intérêt et les limites de Yéti\n        ")]),t._v(" "),i("button",{staticClass:"button is-primary",attrs:{disabled:!t.checkDisclaimer}},[t._v("Accéder à YETI")])],1)],1):t._e(),t._v(" "),"faq"===t.$route.params.page?i("div",{staticClass:"box"},[i("p",[i("router-link",{attrs:{to:"/yeti"}},[t._v("Retour YETI")])],1),t._v(" "),i("h2",{staticClass:"title is-3 yeti-title"},[t._v("Avertissement")]),t._v(" "),i("yeti-text",{attrs:{component:"disclaimer"}}),t._v(" "),i("h2",{staticClass:"title is-3 yeti-title"},[t._v("FAQ")]),t._v(" "),i("yeti-text",{attrs:{component:"faq"}})],1):i("div",{staticClass:"columns yeti-content"},[i("div",{staticClass:"column is-6-tablet is-6-desktop is-5-widescreen is-4-fullhd form-container"},[i("div",{staticClass:"box"},[i("div",{staticClass:"columns is-mobile"},[t._m(0),t._v(" "),i("div",{staticClass:"column"},[i("router-link",{staticClass:"is-size-6 is-pulled-right",attrs:{to:"/yeti/faq"}},[t._v("FAQ ?")])],1)]),t._v(" "),i("div",{staticClass:"columns is-mobile"},[i("div",{staticClass:"column"},[i("div",{staticClass:"inputs-bra",class:{"inputs-bra-different":t.bra.isDifferent}},[i("svg",{attrs:{viewBox:"0 0 100 100",width:"120",height:"120"}},[i("polygon",{staticStyle:{fill:"none",stroke:"#000","stroke-miterlimit":"10"},attrs:{points:"2.2,89.5 97.5,89.5 62.7,11.9 48,32.9 31.8,25.5 "}}),t._v(" "),i("line",{directives:[{name:"show",rawName:"v-show",value:t.bra.isDifferent,expression:"bra.isDifferent"}],staticStyle:{fill:"none",stroke:"#000","stroke-miterlimit":"10"},attrs:{x1:"10",y1:"61.5",x2:"90",y2:"61.5"}})]),t._v(" "),i("div",{staticClass:"input-bra-high select is-small"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.bra.high,expression:"bra.high"}],attrs:{"aria-label":"Niveau de danger BRA haut"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.bra,"high",e.target.multiple?i:i[0])}}},[i("option",{attrs:{selected:""},domProps:{value:null}}),t._v(" "),i("option",{domProps:{value:1}},[t._v("1")]),t._v(" "),i("option",{domProps:{value:2}},[t._v("2")]),t._v(" "),i("option",{domProps:{value:3}},[t._v("3")]),t._v(" "),i("option",{domProps:{value:4}},[t._v("4")])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.bra.isDifferent,expression:"bra.isDifferent"}],staticClass:"input-bra-threshold control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.bra.altiThreshold,expression:"bra.altiThreshold"}],staticClass:"input is-small",attrs:{type:"number",min:"0",max:"4800",step:"100",maxlength:"4","aria-label":"Altitude seuil"},domProps:{value:t.bra.altiThreshold},on:{input:function(e){e.target.composing||t.$set(t.bra,"altiThreshold",e.target.value)}}})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.bra.isDifferent,expression:"bra.isDifferent"}],staticClass:"input-bra-low select is-small"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.bra.low,expression:"bra.low"}],attrs:{"aria-label":"Niveau de danger BRA bas"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.bra,"low",e.target.multiple?i:i[0])}}},[i("option",{attrs:{selected:""},domProps:{value:null}}),t._v(" "),i("option",{domProps:{value:1}},[t._v("1")]),t._v(" "),i("option",{domProps:{value:2}},[t._v("2")]),t._v(" "),i("option",{domProps:{value:3}},[t._v("3")]),t._v(" "),i("option",{domProps:{value:4}},[t._v("4")])])])]),t._v(" "),i("div",[i("input-checkbox",{staticClass:"control--bradifferent",model:{value:t.bra.isDifferent,callback:function(e){t.$set(t.bra,"isDifferent",e)},expression:"bra.isDifferent"}},[t._v("\n                  BRA haut/bas différents ?\n                ")])],1)]),t._v(" "),i("div",{staticClass:"column has-text-right is-hidden-mobile"},[i("validation-button",{attrs:{"current-error":t.currentError,loading:t.promise},on:{click:t.compute}})],1)]),t._v(" "),i("div",{staticClass:"yetimountains"},[i("div",[i("p",{staticClass:"yetimountains-title",on:{click:function(e){t.showMountainsList=!t.showMountainsList}}},[t._v("\n                Bulletins BRA par massif\n                "),t.promiseMountains?i("span",{staticClass:"yetimountains-count"},[t._v(t._s(t.countVisibleMountains))]):t._e(),t._v(" "),i("fa-icon",{staticClass:"yetimountains-arrow is-size-6 is-pulled-right has-cursor-pointer no-print",attrs:{icon:"angle-down",rotation:t.showMountainsList?180:void 0}})],1)]),t._v(" "),t.showMountainsList?i("div",[t.promiseMountains?i("div",[i("p",{staticClass:"column yetiform-info"},[t._v("Affichez les bulletins en PDF sur le site de Météo France")]),t._v(" "),i("dl",t._l(t.visibleMountains,(function(e,s){return i("div",{key:s},[i("dt",{staticClass:"yetimountains-listtitle"},[t._v("\n                      "+t._s(s)+"\n                    ")]),t._v(" "),i("div",{staticClass:"yetimountains-list"},t._l(e,(function(e){return i("dd",{key:e.title,staticClass:"yetimountains-listelement"},[e.id_mf?i("a",{attrs:{href:"http://www.meteofrance.com/integration/sim-portail/generated/integration/img/produits/pdf/bulletins_bra/"+e.id_mf+".pdf",target:"_blank"}},[i("fa-icon",{attrs:{icon:"external-link-alt"}}),t._v("\n                          "+t._s(e.title)+"\n                        ")],1):i("span",[t._v(t._s(e.title))])])})),0)])})),0)]):i("div",[i("p",{staticClass:"column yetiform-info"},[t._v("Les massifs n’ont pas pu être chargés")])])]):t._e()]),t._v(" "),i("h2",{staticClass:"title is-3 yeti-title"},[t._v("Méthodes")]),t._v(" "),i("div",{staticClass:"columns is-mobile yetitabs"},t._l(Object.keys(t.methods),(function(e){return i("div",{key:e,staticClass:"column yetitab"},[i("div",{staticClass:"control yetitab-control",class:{"yetitab-control--selected":t.method===e}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.method,expression:"method"}],staticClass:"is-checkradio is-primary",attrs:{id:"c2c-method-"+e,type:"radio",disabled:"mrd"===e&&(4==t.bra.high||4==t.bra.low)},domProps:{value:e,checked:t._q(t.method,e)},on:{change:function(i){t.method=e}}}),t._v(" "),i("label",{staticClass:"yetitab-label",attrs:{for:"c2c-method-"+e},on:{click:function(i){return t.warnAboutMethodBra(e)}}},[t._v("\n                  "+t._s(t.methods[e][0])+"\n                  "),i("span",{staticClass:"yetiform-info"},[t._v(t._s(t.methods[e][1]))])])])])})),0),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"mrd"==t.method,expression:"method == 'mrd'"}]},[t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3)]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"mre"==t.method,expression:"method == 'mre'"}]},[t._m(4),t._v(" "),i("input-orientation",{staticClass:"has-text-centered",model:{value:t.orientation,callback:function(e){t.orientation=e},expression:"orientation"}}),t._v(" "),0!=t.orientation.length?i("p",{staticClass:"yetiform-info"},[t._v("Orientations: "+t._s(t.orientation.join(", ")))]):i("p",{staticClass:"yetiform-info"},[t._v("Pas d’orientations sélectionnées")]),t._v(" "),t._m(5),t._v(" "),t._m(6)],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"mrp"==t.method,expression:"method == 'mrp'"}]},[t._m(7),t._v(" "),i("h3",{staticClass:"title is-3"},[t._v("Potentiel de danger")]),t._v(" "),i("ul",{staticClass:"potential-danger-labels has-text-black"},t._l(t.potentialDangerLabels,(function(e){return i("li",{key:e.text,staticClass:"potential-danger-label is-size-5",attrs:{disabled:!t.bra.high||e.text<t.potentialDangerOptions.min||e.text>t.potentialDangerOptions.max,selected:t.potentialDanger==e.text},on:{click:function(i){t.potentialDanger=e.text}}},[i("span",{class:{"is-size-3 has-text-weight-bold":e.val}},[t._v("\n                  "+t._s(e.text)+"\n                ")])])})),0),t._v(" "),t.potentialDanger?i("p",{staticClass:"yetiform-info"},[t._v("\n              Potentiel de danger: "+t._s(t.potentialDanger)+" (BRA: "+t._s(t.bra.high)+")\n            ")]):i("p",{staticClass:"yetiform-info"},[t._v("Pas de potentiel de danger sélectionné. Entrez d’abord le BRA")]),t._v(" "),t._m(8),t._v(" "),i("p",[i("input-checkbox",{model:{value:t.wetSnow,callback:function(e){t.wetSnow=e},expression:"wetSnow"}},[t._v("\n                Neige mouillée : pas de prise en compte de l’orientation\n              ")])],1),t._v(" "),t._m(9),t._v(" "),i("h3",{staticClass:"title is-3"},[t._v("Groupe")]),t._v(" "),i("ul",t._l(t.groupSizes,(function(e,s){return i("li",{key:s,staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.groupSize,expression:"groupSize"}],staticClass:"is-checkradio is-primary",attrs:{id:"c2c-group-size-"+s,type:"radio"},domProps:{value:e.value,checked:t._q(t.groupSize,e.value)},on:{change:function(i){t.groupSize=e.value}}}),t._v(" "),i("label",{attrs:{for:"c2c-group-size-"+s}},[t._v(t._s(e.text))])])})),0),t._v(" "),t._m(10),t._v(" "),t._m(11)]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.method,expression:"method"}],staticClass:"columns yetiform-validation"},[i("div",{staticClass:"column has-text-right"},[i("validation-button",{attrs:{"current-error":t.currentError,loading:t.promise},on:{click:t.compute}})],1)])]),t._v(" "),t.document?i("div",{staticClass:"box is-hidden-mobile"},[i("div",{staticClass:"title is-4 document-title"},[t._v("Route")]),t._v(" "),i("document-link",{attrs:{document:t.document}},[i("icon-route",{staticClass:"document-icon"}),t._v(" "),i("document-title",{attrs:{document:t.document}})],1)],1):t._e(),t._v(" "),t._m(12)]),t._v(" "),i("div",{staticClass:"column map-container"},[i("div",{staticClass:"legend"},[i("div",[i("div",{staticClass:"legend-button is-pulled-right ol-control"},[i("button",{attrs:{type:"button"},on:{click:function(e){t.showLegend=!t.showLegend}}},[i("span",[t._v("Légende")])])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!0===t.showLegend,expression:"showLegend === true"}],staticClass:"legend-content"},[t.mapLegend?i("div",[i("ul",t._l(t.mapLegend.items,(function(e,s){return i("li",{key:s},[i("span",{staticClass:"legend-color",style:"background:"+e.color}),t._v(" "),i("span",[t._v(t._s(e.text["fr"]))])])})),0),t._v(" "),i("p",{staticClass:"is-size-6 is-italic"},[t._v(t._s(t.mapLegend.comment["fr"]))])]):i("p",{staticClass:"is-italic"},[t._v("La légende apparaitra automatiquement avec l’image générée")])])]),t._v(" "),t.yetiLayer?i("div",{staticClass:"ol-control opacity"},[i("div",{staticClass:"opacity-slider"},[i("vue-slider",{attrs:{min:0,max:1,interval:.01,tooltip:"none",direction:"btt","rail-style":{background:"rgba(0,0,0,.25)"},"process-style":{background:"white"}},on:{change:t.onUpdateOpacityYetiLayer},model:{value:t.opacityYetiLayer,callback:function(e){t.opacityYetiLayer=e},expression:"opacityYetiLayer"}})],1)]):t._e(),t._v(" "),i("map-view",{ref:"map",attrs:{"show-recenter-on":"",documents:t.documents}})],1)])])],1)},$r=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"column"},[i("h2",{staticClass:"title is-3 yeti-title"},[t._v("\n                Info "),i("abbr",{attrs:{title:"Bulletin d’estimation du risque d’avalanche"}},[t._v("BRA")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[t._v("\n              Avec la "),i("strong",[t._v("méthode de réduction pour débutant")]),t._v(" (MRD), vous n’avez pas d’autres paramètres à\n              entrer que le (ou les) niveau(x) de danger donné par le BRA.\n            ")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"yetiform-note"},[i("p",[t._v("\n                Comme son nom l’indique, cette méthode est destinée aux pratiquants débutants. De ce fait, la marge de\n                sécurité se doit d'être très importante. On ne spécifie pas d’autre paramètre que le niveau de danger\n                du BRA. Il n’est pas tenu compte de l’orientation.\n              ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",{staticClass:"yetiform-danger"},[s("tr",[s("td",[s("img",{attrs:{src:i("60a4")+"#level1"}})]),t._v(" "),s("td",[s("strong",[t._v("Danger faible")])]),t._v(" "),s("td",[t._v("Je renonce aux pentes > 40°")])]),t._v(" "),s("tr",[s("td",[s("img",{attrs:{src:i("60a4")+"#level2"}})]),t._v(" "),s("td",[s("strong",[t._v("Danger limité")])]),t._v(" "),s("td",[t._v("Je renonce aux pentes > 35°")])]),t._v(" "),s("tr",{staticClass:"multiline"},[s("td",[s("img",{attrs:{src:i("60a4")+"#level3"}})]),t._v(" "),s("td",[s("strong",[t._v("Danger marqué")])]),t._v(" "),s("td",[t._v("Je renonce aux pentes > 30° "),s("br"),s("small",[t._v("y compris les pentes qui me dominent")])])]),t._v(" "),s("tr",[s("td",[s("img",{attrs:{src:i("60a4")+"#level4"}})]),t._v(" "),s("td",[s("strong",[t._v("Danger fort à très fort")])]),t._v(" "),s("td",[t._v("Je renonce à sortir")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[t._v("\n              Avec la "),i("strong",[t._v("méthode de réduction élémentaire")]),t._v(" (MRE), vous pouvez saisir les secteurs de la\n              rose des vents signalés comme critique dans le BRA.\n            ")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"yetiform-note"},[i("p",[t._v("\n                Le niveau de danger du BRA concerne toutes les orientations. La rose des vents distingue les secteurs\n                les plus critiques présentant un risque accru.\n              ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",{staticClass:"yetiform-danger"},[s("tr",{staticClass:"multiline"},[s("td",[s("img",{attrs:{src:i("60a4")+"#level1"}})]),t._v(" "),s("td",[s("strong",[t._v("Danger faible")])]),t._v(" "),s("td",[t._v("Skier avec prudence "),s("br"),s("small",[t._v("risque de chute grave sur neige dure")])])]),t._v(" "),s("tr",[s("td",[s("img",{attrs:{src:i("60a4")+"#level2"}})]),t._v(" "),s("td",[s("strong",[t._v("Danger limité")])]),t._v(" "),s("td",[t._v("Je renonce aux pentes > 40°")])]),t._v(" "),s("tr",{staticClass:"multiline"},[s("td",[s("img",{attrs:{src:i("60a4")+"#level3"}})]),t._v(" "),s("td",[s("strong",[t._v("Danger marqué")])]),t._v(" "),s("td",[t._v("Je renonce aux pentes > 35° "),s("br"),s("small",[t._v("y compris les pentes qui me dominent")])])]),t._v(" "),s("tr",{staticClass:"multiline"},[s("td",[s("img",{attrs:{src:i("60a4")+"#level4"}})]),t._v(" "),s("td",[s("strong",[t._v("Danger fort")])]),t._v(" "),s("td",[t._v("Je renonce aux pentes > 30° "),s("br"),s("small",[t._v("y compris les pentes qui me dominent")])])]),t._v(" "),s("tr",[s("td",[s("img",{attrs:{src:i("60a4")+"#level4"}})]),t._v(" "),s("td",[s("strong",[t._v("Danger très fort")])]),t._v(" "),s("td",[t._v("Je renonce à sortir")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[t._v("\n              Avec la "),i("strong",[t._v("méthode de réduction professionnelle")]),t._v(" (MRP), vous pouvez affiner le potentiel de\n              danger, tenir compte de la taille du groupe et des mesures de précaution envisagées.\n            ")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"yetiform-note"},[i("p",[t._v("\n                Le potentiel de danger est calculé à partir du niveau de danger du BRA. Il peut être affiné en\n                sélectionnant un potentiel dans la plage correspondant au niveau du BRA. Par exemple: Le BRA évoque un\n                danger 3 juste après une période en danger 4. On pourra alors indiquer un potentiel de danger de 12 au\n                lieu de 8.\n              ")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"yetiform-note"},[i("p",[t._v("\n                Attention, par neige mouillée, aucun facteur de réduction d’orientation ou de fréquentation ne peut\n                être appliqué.\n              ")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"yetiform-note"},[i("p",[t._v("Taille du groupe")]),t._v(" "),i("ul",{staticClass:"content-ul"},[i("li",[t._v("Grand groupe = 5 personnes et plus")]),t._v(" "),i("li",[t._v("Petit groupe = 2 à 4 personnes")])]),t._v(" "),i("p",[t._v("Distances de délestage")]),t._v(" "),i("ul",{staticClass:"content-ul"},[i("li",[t._v("10 mètres au minimum à la montée")]),t._v(" "),i("li",[t._v("50 mètres à la descente")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[t._v("\n              Le facteur "),i("em",[t._v("« pente parcourue fréquemment »")]),t._v(" n’est pas pris en compte par l’application, car il\n              est souvent difficile de s'en assurer lors de la préparation de course.\n            ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box yeti-logos"},[s("div",{staticClass:"columns is-mobile is-vcentered"},[s("div",{staticClass:"column has-text-centered"},[s("a",{attrs:{href:"http://www.ensg.eu"}},[s("picture",[s("source",{attrs:{srcset:i("e004"),type:"image/webp"}}),t._v(" "),s("source",{attrs:{srcset:i("0c6e"),type:"image/avif"}}),t._v(" "),s("img",{attrs:{src:i("aa66"),alt:"Logo ENSG",width:"120"}})])])]),t._v(" "),s("div",{staticClass:"column has-text-centered"},[s("a",{attrs:{href:"https://www.petzl.com/fondation/fondation-petzl?language=fr"}},[s("picture",[s("source",{attrs:{srcset:i("d315"),type:"image/webp"}}),t._v(" "),s("source",{attrs:{srcset:i("3d7f"),type:"image/avif"}}),t._v(" "),s("img",{attrs:{src:i("fc52"),alt:"Logo Fondation Petzl",width:"90"}})])])])])])}],Lr=(i("13d5"),i("bc3a")),qr=i.n(Lr),Mr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"yeti-text"},[i(t.component,{tag:"component"})],1)},Sr=[],Er=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Or=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("p",[i("strong",[t._v("Yéti est une nouvelle application web destinée à améliorer la gestion du risque d’avalanche. Elle apporte une\n      aide aux pratiquants de sport de neige dans leurs choix d’itinéraires pendant la phase de préparation de course,\n      à la maison.")])]),t._v(" "),i("ul",[i("li",[t._v("\n      Yéti propose "),i("strong",[t._v("une évaluation du risque d’avalanche sur une interface cartographique")]),t._v(". Comme toute\n      évaluation, celle-ci peut être imparfaite ou erronée. Les erreurs d’évaluation de Yéti peuvent être liées au\n      niveau de précision de la carte des pentes (25 mètres), aux informations générales du bulletin d’avalanche (à\n      l’échelle d’un massif) et à l’utilisation de méthodes de réduction du risque reposant sur des modèles\n      probabilistes\n    ")]),t._v(" "),i("li",[t._v("\n      Yéti est un outil de "),i("strong",[t._v("préparation de course à la maison")]),t._v(" qui utilise les principales informations\n      disponibles : bulletin nivologique, cartes des pentes, méthodes de réduction du risque. Sur la neige, il faudra\n      conserver un regard critique sur les hypothèses formulées chez soi. Seule la réalité du terrain et le\n      comportement du groupe permettent de confirmer ou modifier son choix d’itinéraire\n    ")]),t._v(" "),i("li",[t._v("\n      Yéti, la carte des pentes et le bulletin nivologique sont des outils précieux pour évaluer les\n      "),i("strong",[t._v("conditions")]),t._v(" et le "),i("strong",[t._v("terrain")]),t._v(" lors d’une préparation de course. Ces outils ne\n      s’intéressent pas toutefois au "),i("strong",[t._v("groupe")]),t._v(" qui constitue le troisième facteur de risque en\n      avalanche. Analyser les conditions et le terrain ne doit pas conduire à négliger le comportement, le niveau et\n      l’expérience de ceux qui vont le parcourir\n    ")]),t._v(" "),i("li",[t._v("\n      Les sports de neige en dehors des pistes balisées demeurent des activités à risque nécessitant des connaissances\n      sur les avalanches et une expérience de terrain pour faire face aux dangers de la montagne en hiver.\n      "),i("strong",[t._v("Le pratiquant demeure seul responsable de sa planification, de ses choix et de sa conduite de course sur la\n        neige")])]),t._v(" "),i("li",[t._v("\n      Les évaluations de Yéti restent indicatives et n’engagent pas la responsabilité de la Fondation Petzl, de l’IGN,\n      de l’ENSG et de l’association Camptocamp, notamment en cas de dommage direct ou indirect découlant de leur\n      utilisation et/ou de leur inadéquation aux besoins particuliers de l’utilisateur du service. Il revient au\n      pratiquant de prendre toutes les précautions nécessaires à sa sécurité sur le terrain et à se conformer aux\n      directives et instructions des autorités nationales ou locales compétentes\n    ")]),t._v(" "),i("li",[t._v("Avant d’utiliser Yéti, il est vivement conseillé de consulter la FAQ (Foire aux questions)")])])])}],Dr=(i("439b"),{}),Tr=Object(v["a"])(Dr,Er,Or,!1,null,"d75771e4",null),Ar=Tr.exports,Pr=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},jr=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("p",[t._v("\n    L’application Yéti fournit une aide à la décision au pratiquant de sports de neige lors de la préparation d’une\n    course.\n  ")]),t._v(" "),s("p",[t._v("\n    Cet article répond aux questions les plus fréquentes sur l’utilisation, l’intérêt et les limites de cette\n    application.\n  ")]),t._v(" "),s("div",{staticClass:"question"},[s("h3",{staticClass:"title"},[t._v("Comment fonctionne l’application Yéti ?")]),t._v(" "),s("p",[t._v("\n      L’application s’appuie sur des méthodes de réduction du risque et une interface cartographique. En analysant des\n      variables clés (inclinaison de la pente, orientation…) Yéti permet de visualiser les principales pentes à risque\n      en fonction du niveau de danger annoncé par le bulletin d’avalanche.\n    ")]),t._v(" "),s("p",[t._v("Les méthodes de réduction utilisées dans l’application sont suivant le choix de l’utilisateur :")]),t._v(" "),s("ul",[s("li",[t._v("la méthode de réduction débutant (MRD)")]),t._v(" "),s("li",[t._v("la méthode de réduction élémentaire (MRE)")]),t._v(" "),s("li",[t._v("la méthode de réduction professionnelle (MRP)")])]),t._v(" "),s("p",[t._v("Lire infra : Comment choisir une méthode de réduction adaptée à sa pratique ?")]),t._v(" "),s("p",[t._v("Pour en savoir plus sur les méthodes de réduction du risque d’avalanche :")]),t._v(" "),s("ul",[s("li",[t._v("P. Descamps et O. Moret, Avalanche, comment réduire le risque, éd. Paulsen, 2016")]),t._v(" "),s("li",[t._v("W. Munter, 3X3 avalanches, la gestion du risque dans les sports d’hiver, éd. du Club alpin suisse, 2006")]),t._v(" "),s("li",[t._v("\n        S.Harvey, H.Rhyner et J.Schweizer, Avalanches, mieux les comprendre, éd. du Club alpin suisse, SLF, 2013\n      ")]),t._v(" "),s("li",[t._v("White risk: "),s("a",{attrs:{href:"http://www.whiterisk.ch/fr"}},[t._v("www.whiterisk.ch")])])])]),t._v(" "),s("div",{staticClass:"question"},[s("h3",{staticClass:"title"},[t._v("Sur quels territoires l’application Yéti peut-elle être utilisée ?")]),t._v(" "),s("p",[t._v("Yéti fonctionne sur tous les massifs français.")])]),t._v(" "),s("div",{staticClass:"question"},[s("h3",{staticClass:"title"},[t._v("Faut-il être connecté pour utiliser l’application Yéti ?")]),t._v(" "),s("p",[t._v("\n      Yéti interroge plusieurs sources de données dont le Référentiel grande échelle de l’IGN (modèle numérique de\n      terrain, grille régulière de points connus en altitude) par l’intermédiaire du Géoportail\n      "),s("a",{attrs:{href:"http://geoportail.gouv.fr"}},[t._v("geoportail.gouv.fr")]),t._v(". L’accès à ces données nécessite d’être connecté à\n      Internet. Yéti ne fonctionne pas encore hors connexion.\n    ")])]),t._v(" "),s("div",{staticClass:"question"},[s("h3",{staticClass:"title"},[t._v("À qui s’adresse l’application Yéti ?")]),t._v(" "),s("p",[t._v("\n      Yeti s’adresse à toutes les personnes soucieuses de gérer le risque d’avalanche au lieu de le subir. Pour tirer\n      le meilleur parti de Yéti, il faut accepter de questionner ses intuitions et raisonner à partir de données\n      objectives.\n    ")]),t._v(" "),s("p",[t._v("\n      Une connaissance minimum de l’utilisation de la grille d’analyse 3X3 et des méthodes de réduction est conseillée\n      pour apprécier l’intérêt et mesurer les limites de Yéti.\n    ")]),t._v(" "),s("p",[t._v("Son usage nécessite un temps de préparation de course à la maison ou au refuge de 15 minutes à 1 heure.")]),t._v(" "),s("p",[t._v("\n      Pour en savoir plus sur l’analyse de risque avec la grille 3X3, se reporter aux ouvrages cités dans la question\n      1.\n    ")]),t._v(" "),s("p",{staticClass:"image"},[s("picture",[s("source",{attrs:{srcset:i("5c7b"),type:"image/webp"}}),t._v(" "),s("source",{attrs:{srcset:i("b0c8"),type:"image/avif"}}),t._v(" "),s("img",{attrs:{alt:"Méthode 3x3",src:i("5796")}})])])]),t._v(" "),s("div",{staticClass:"question"},[s("h3",{staticClass:"title"},[t._v("L’application Yéti est elle suffisante pour préparer une course ?")]),t._v(" "),s("p",[t._v("\n      L’application Yéti doit être utilisée en complément d’une analyse de risque menée à l’aide de la grille\n      d’analyse 3X3. Cette grille d’analyse permet d’analyser les 3 principaux facteurs de risque (conditions, terrain\n      et groupe) à trois moment clés du déroulement d’une course : pendant la préparation à la maison, pendant\n      l’approche et au pied des passages clés.\n    ")]),t._v(" "),s("p",[t._v("\n      On conservera toujours un œil critique sur les informations données par l’application (lire infra : Quelles sont\n      les limites de Yéti ?).\n    ")])]),t._v(" "),s("div",{staticClass:"question"},[s("h3",{staticClass:"title"},[t._v("Quel est l’intérêt de Yéti ?")]),t._v(" "),s("p",[t._v("\n      L’art de l’alpinisme et du ski de montagne est de parcourir un milieu potentiellement dangereux en réduisant les\n      risques.\n    ")]),t._v(" "),s("p",[t._v("\n      Lors de la préparation à la maison, Yéti permet de distinguer d’un coup d’œil les pentes les plus risquées et\n      d’identifier facilement les passages clés d’un itinéraire. Valider un choix de course et imaginer des options de\n      repli sont facilités grâce à la vision d’ensemble qu’offre l’interface cartographique.\n    ")]),t._v(" "),s("p",[t._v("\n      Avec Yéti, la préparation de course consiste à se faufiler dans les espaces de moindre risque, à privilégier les\n      pentes dont les probabilités de déclenchement sont les plus faibles (mais jamais nulles) ou, pour les plus\n      téméraires, à prendre des risques en connaissance de cause.\n    ")]),t._v(" "),s("p",[t._v("\n      Yéti ne délivre pas un feu vert ou un feu rouge. Yéti donne une information sur la plus ou moins grande\n      probabilité de déclenchement des pentes afin d’orienter ses choix de course en fonction des conditions\n      nivologiques prévues.\n    ")])]),t._v(" "),s("div",{staticClass:"question"},[s("h3",{staticClass:"title"},[t._v("L’application Yéti peut-elle être utilisée sur le terrain ?")]),t._v(" "),s("p",[t._v("Yéti est un outil d’aide à la décision pour préparer une course à la maison.")]),t._v(" "),s("p",[t._v("\n      Sur le terrain, le pratiquant dispose d’informations nouvelles et concrètes sur les conditions, le terrain et le\n      groupe. Au fur et à mesure de la progression, l’analyse des données réelles confirme, nuance ou modifie les\n      hypothèses émises à la maison à l’aide de Yéti. Des outils comme le 3X3, la quantité critique de neige fraîche,\n      les signaux d’alarme, les bâtons pour mesurer la pente sont alors plus utiles que l’application Yéti pour\n      prendre une décision.\n    ")]),t._v(" "),s("p",[t._v("Sur le terrain, les bonnes questions à se poser sont notamment :")]),t._v(" "),s("ul",[s("li",[t._v("y a-t-il des signaux d’alarme ?")]),t._v(" "),s("li",[t._v("la quantité critique de neige fraîche est-elle dépassée ?")]),t._v(" "),s("li",[t._v("la visibilité permet-elle de conduire une analyse de risque perspicace ?")]),t._v(" "),s("li",[t._v("la configuration du terrain est-elle favorable ou défavorable ?")]),t._v(" "),s("li",[t._v("est-il possible de faire une trace sûre ?")]),t._v(" "),s("li",[t._v("les participants sont-ils motivés et au niveau pour la course ?")]),t._v(" "),s("li",[t._v("etc")])]),t._v(" "),s("p",[t._v("\n      Des réponses lucides à ces questions sont nécessaires pour prendre une bonne décision à l’approche et dans les\n      passages clés. Cela demande une formation solide et quelques années de pratique.\n    ")])]),t._v(" "),s("div",{staticClass:"question"},[s("h3",{staticClass:"title"},[t._v("Quelles sont les limites de Yéti ?")]),t._v(" "),s("p",[t._v("\n      Les principales limites de cet outil tiennent à celles des piliers sur lesquels ils reposent : le bulletin\n      d’avalanche, le modèle numérique de terrain, les méthodes de réduction et l’algorithme utilisé.\n    ")]),t._v(" "),s("p",[t._v("\n      Les limites de la carte des pentes : la réalisation de la carte des pentes s’appuie sur les données de la base\n      RGEAlti de l’IGN. Cette base de données est issue d’un assemblage de différents modèles numérique de terrain\n      (MNT) dont la résolution est comprise entre 1 et 25 mètres. Toutes les pentes à plus de 30 degrés dont la taille\n      est supérieure à 25 mètres sur le terrain figurent sur la carte. Cette précision est la plupart du temps\n      suffisante pour évaluer l’inclinaison des passages clés d’un itinéraire à skis ou à raquettes. Toutefois, dans\n      certaines circonstances, des pentes réduites de moins de 25 mètres peuvent déjà être dangereuses. Il convient de\n      rester vigilant sur le terrain en conservant un esprit critique par rapport aux informations données par Yéti.\n      En outre, quelques aberrations visuelles peuvent survenir au niveau des frontières. Elles sont liées à la\n      qualité du découpage du MNT dans les zones frontalières.\n    ")]),t._v(" "),s("p",{staticClass:"image"},[s("picture",[s("source",{attrs:{srcset:i("2094"),type:"image/avif"}}),t._v(" "),s("img",{attrs:{alt:"Aberration frontalière",src:i("bcd2")}})])]),t._v(" "),s("p",[t._v("\n      Pour en savoir plus :\n      "),s("a",{attrs:{href:"https://www.petzl.com/fondation/projets/carte-pente-risque-avalanches?language=fr#.Wi5q1lSdVE4"}},[t._v("Les pentes à plus de 30 degrés sur le Géoportail de l’IGN, Utilisation, intérêts et limites pour les amateurs\n        de sport de neige")])]),t._v(" "),s("p",[t._v("\n      Les limites du bulletin d’avalanche : le bulletin d’avalanche dresse un état des lieux du danger d’avalanche à\n      l’échelle d’un massif en dehors des pistes balisées. Les conditions d’une vallée (et encore moins celle d’une\n      pente) ne sont pas évaluées par le bulletin d’avalanche. L’indice de danger de 1 à 5 est le résumé d’une\n      situation plus complexe décrite dans le texte qui accompagne le bulletin. La lecture de ce texte est l’un des\n      piliers de l’analyse de risque avec la grille 3X3, laquelle doit systématiquement précéder l’usage de Yéti. La\n      saisie de l’indice de danger dans le formulaire de Yéti suppose que le pratiquant a bien pris connaissance de\n      l’ensemble du bulletin : texte, rose des vents, quantité récente de neige fraîche… Enfin, le bulletin n’est\n      diffusé en France que du 15 décembre au 30 avril alors que l’exposition au danger peut avoir lieu toute l’année\n      notamment en haute montagne. Il existe des outils pour affiner et, au besoin, corriger les informations du\n      bulletin d’avalanche. Se reporter aux ouvrages cités dans la question 1.\n    ")]),t._v(" "),s("p",[t._v("\n      Les limites des méthodes de réduction : les méthodes de réduction s’appuient sur de nombreuses expériences\n      sédimentées à travers l’accidentologie dont on peut tirer quelques enseignements par le biais des probabilités.\n      Cette somme d’expériences sera toujours plus étendue que l’expérience d’une seule personne, fût-elle chevronnée.\n      Toutefois, il demeure possible de provoquer ou de subir une avalanche y compris dans une pente non identifiée\n      comme «à risque» par une méthode de réduction. Le pratiquant de la montagne enneigée doit faire un usage\n      raisonné et critique de Yéti et des outils mis à sa disposition pour évaluer le risque. Il reste responsable des\n      analyses conduites à la maison, des décisions prises sur le terrain, de ses actes et de leurs conséquences. Les\n      auteurs et institutions partenaires du projet ne sauraient être tenus responsables des accidents survenant lors\n      de la pratique après utilisation de l’application Yéti.\n    ")]),t._v(" "),s("p",[t._v("\n      Les limites de l’algorithme utilisé par Yéti : en l’état actuel du développement, seules les pentes considérées\n      comme «à risque» par les méthodes de réduction (MRD, MRE ou MRP) sont affichées avec un estompage coloré. Or, à\n      partir du danger 3, il convient de prendre en compte les pentes raides qui dominent l’itinéraire envisagé car\n      elles sont susceptibles d’être déclenchées à distance. À partir du danger 3, l’absence d’estompage ne signifie\n      pas que l’itinéraire est sûr. Vérifier les pentes dominant l’itinéraire et s’assurer qu’elles ne menacent pas\n      directement la trace.\n    ")]),t._v(" "),s("p",{staticClass:"image"},[s("picture",[s("source",{attrs:{srcset:i("3161"),type:"image/webp"}}),t._v(" "),s("source",{attrs:{srcset:i("c7b6"),type:"image/avif"}}),t._v(" "),s("img",{attrs:{alt:"Prise en compte des pentes amont",src:i("37da")}})])]),t._v(" "),s("p",[t._v("\n      Dans l’exemple ci-dessous, par risque 3, si on remonte le vallon en direction du lac, on est en permanence\n      dominé par des pentes considérées comme à risque (bleue foncée rive droite, bleue clair rive gauche). Un départ\n      d’avalanche à partir du danger 3 peut s’écouler en terrain moins raide sur lequel il n’y a pas d’estompage de\n      couleur.\n    ")])]),t._v(" "),s("div",{staticClass:"question"},[s("h3",{staticClass:"title"},[t._v("Comment choisir une méthode de réduction adaptée à sa pratique ?")]),t._v(" "),s("h4",{staticClass:"title is-4"},[t._v("La méthode de réduction débutant (MRD)")]),t._v(" "),s("p",[t._v("\n      La méthode de réduction débutant (MRD) s’adresse aux pratiquants possédant peu d’expérience de la neige en\n      dehors des pistes balisées. Un encadrant expérimenté préparant une sortie pour des débutants aura intérêt à\n      utiliser cette méthode afin de se ménager une marge de sécurité adaptée à un public qui progresse plus lentement\n      avec des chutes fréquentes (sollicitation du manteau neigeux). Les zones considérées comme à risque sont\n      figurées en bleu clair.\n    ")]),t._v(" "),s("p",{staticClass:"image"},[s("picture",[s("source",{attrs:{srcset:i("2360"),type:"image/webp"}}),t._v(" "),s("source",{attrs:{srcset:i("cbc0"),type:"image/avif"}}),t._v(" "),s("img",{attrs:{alt:"MRD",src:i("abe2")}})])]),t._v(" "),s("h4",{staticClass:"title is-4"},[t._v("La méthode de réduction élémentaire (MRE)")]),t._v(" "),s("p",[t._v("\n      La méthode de réduction élémentaire (MRE) convient aux pratiquants expérimentés soucieux de conserver une marge\n      de sécurité confortable. Avec la MRE, on peut combler une belle vie de skieur en profitant de la poudreuse en\n      hiver et des meilleures neiges de printemps. Elle a été adoptée par des guides expérimentés qui l’estiment\n      suffisante pour se faire plaisir en exerçant leur profession de manière plus détendue.\n    ")]),t._v(" "),s("p",[t._v("Les zones considérées comme à risque sont figurées par deux tons de bleu :")]),t._v(" "),s("ul",[s("li",[t._v("bleu foncé pour les pentes à risque dans les orientations cochées sur la rose des vents.")]),t._v(" "),s("li",[t._v("bleu clair pour les autres pentes à risque")])]),t._v(" "),s("p",{staticClass:"image"},[s("picture",[s("source",{attrs:{srcset:i("d86b"),type:"image/webp"}}),t._v(" "),s("source",{attrs:{srcset:i("4f37"),type:"image/avif"}}),t._v(" "),s("img",{attrs:{alt:"MRE",src:i("2878")}})])]),t._v(" "),s("h4",{staticClass:"title is-4"},[t._v("La méthode de réduction professionnelle (MRP)")]),t._v(" "),s("p",[t._v("\n      La méthode de réduction professionnelle (MRP) offre un choix de course plus important sur le terrain notamment\n      en pente raide, mais réduit la marge de sécurité. Elle nécessite une compréhension plus fine du manteau neigeux\n      et fait intervenir des paramètres comme l’orientation de la pente, la fréquentation de l’itinéraire et les\n      mesures de précaution envisagée pendant la course. Elle s’adresse aux pratiquants expérimentés qui se sentent\n      trop limités par la MRE.\n    ")]),t._v(" "),s("p",[t._v("Les pentes à risque sont figurées par deux couleurs :")]),t._v(" "),s("ul",[s("li",[t._v("risque résiduel inférieur à 1 : pas d’estompage de couleur")]),t._v(" "),s("li",[t._v("risque résiduel compris entre 1 et 1.5 : mauve")]),t._v(" "),s("li",[t._v("risque résiduel > 1.5 : violet")])]),t._v(" "),s("p",{staticClass:"image"},[s("picture",[s("source",{attrs:{srcset:i("d86b"),type:"image/webp"}}),t._v(" "),s("source",{attrs:{srcset:i("4f37"),type:"image/avif"}}),t._v(" "),s("img",{attrs:{alt:"MRP",src:i("2878")}})])])]),t._v(" "),s("div",{staticClass:"question"},[s("h3",{staticClass:"title"},[t._v("Comment utiliser Yéti avec la MRD ?")]),t._v(" "),s("p",[t._v('\n      Sélectionner la méthode de réduction débutant (MRD) dans le formulaire. Saisir le niveau de danger annoncé par\n      le bulletin d’avalanche, de 1 à 3. Le degré 4 ne peut être saisi dans la MRD. Le cas échéant, mentionner la\n      limite d’altitude à partir de laquelle le danger évolue. Zoomer sur le massif, la vallée ou la pente concernée.\n      Activez la carte IGN en cliquant sur l’icône bleue en bas à gauche de la carte. Soumettre la requête en cliquant\n      sur "Calculer le risque". L’application affiche les pentes à risque avec un code couleur sur une interface\n      cartographique. La légende est accessible en cliquant sur l’icône « point d’interrogation » en haut à droite de\n      la carte.\n    ')]),t._v(" "),s("ul",[s("li",[t._v("\n        Pas d’estompage de couleur : le projet est valable. Rester vigilant sur le terrain si les conditions ou la\n        taille du groupe évoluent. Attention aux pentes qui dominent l’itinéraire à partir du danger 3 (risque de\n        déclenchement à distance).\n      ")]),t._v(" "),s("li",[t._v("\n        Couleur bleu clair : pentes à risque, à éviter. À partir du danger 3, prendre en compte les pentes colorées en\n        bleu qui dominent l'itinéraire.\n      ")])]),t._v(" "),s("p",{staticClass:"image"},[s("picture",[s("source",{attrs:{srcset:i("f52f"),type:"image/webp"}}),t._v(" "),s("source",{attrs:{srcset:i("3e0c"),type:"image/avif"}}),t._v(" "),s("img",{attrs:{alt:"MRD",src:i("66e4")}})])])]),t._v(" "),s("div",{staticClass:"question"},[s("h3",{staticClass:"title"},[t._v("Comment utiliser Yéti avec la MRE ?")]),t._v(" "),s("p",[t._v('\n      Sélectionner la méthode de réduction élémentaire (MRE) dans le formulaire. Saisir le niveau de danger annoncé\n      par le bulletin d’avalanche, de 1 à 4. Le cas échéant, mentionner la limite d’altitude à partir de laquelle le\n      danger évolue. Signaler les orientations critiques données dans la rose des vents du bulletin. Zoomer sur le\n      massif, la vallée ou la pente concernée. Activez la carte IGN en cliquant sur l’icône bleue en bas à gauche de\n      la carte. Soumettre la requête en cliquant sur "Calculer le risque". L’application affiche les pentes à risque\n      avec un code couleur sur une interface cartographique. La légende est accessible en cliquant sur l’icône « point\n      d’interrogation » en haut à droite de la carte.\n    ')]),t._v(" "),s("ul",[s("li",[t._v("\n        Pas d’estompage de couleur : le projet est valable. Rester vigilant sur le terrain si les conditions ou la\n        taille du groupe évoluent. Attention aux pentes qui dominent l’itinéraire à partir du danger 3 (risque de\n        déclenchement à distance).\n      ")]),t._v(" "),s("li",[t._v("Couleur bleu clair : pentes à risque")]),t._v(" "),s("li",[t._v("Couleur bleu foncé : risque accru du fait de l’orientation")])]),t._v(" "),s("p",{staticClass:"image"},[s("picture",[s("source",{attrs:{srcset:i("25c3"),type:"image/webp"}}),t._v(" "),s("source",{attrs:{srcset:i("940e"),type:"image/avif"}}),t._v(" "),s("img",{attrs:{alt:"MRE",src:i("e29fc")}})])])]),t._v(" "),s("div",{staticClass:"question"},[s("h3",{staticClass:"title"},[t._v("Comment utiliser Yéti avec la MRP ?")]),t._v(" "),s("p",[t._v('\n      Sélectionner la méthode de réduction professionnelle (MRP) dans le formulaire. Saisir le potentiel de danger de\n      1 à 12. Si vous estimez que le manteau neigeux sera mouillé, cochez la case «neige mouillée» (pluie, soleil et\n      chaleur notamment au printemps) Préciser la taille du groupe et les mesures de précaution envisagée. Zoomer sur\n      le massif, la vallée ou la pente concernée. Activez la carte IGN en cliquant sur l’icône bleue en bas à gauche\n      de la carte. Soumettre la requête en cliquant sur "Calculer le risque". L’application affiche les pentes à\n      risque avec un code couleur sur une interface cartographique. La légende est accessible en cliquant sur l’icône\n      « point d’interrogation » en haut à droite de la carte.\n    ')]),t._v(" "),s("ul",[s("li",[t._v("\n        Pas d’estompage de couleur : risque résiduel < inférieur à 1. Risque faible, relativement sûr en l'absence\n        d'autres indicateurs de danger. Rester vigilant sur le terrain si les conditions ou la taille du groupe\n        évoluent. Attention aux pentes qui dominent à partir du danger 3 (risque de déclenchement à distance).\n      ")]),t._v(" "),s("li",[t._v("\n        Couleur mauve : risque résiduel entre 1 et 1.5. Risque accru, prudence, formation et expérience sont\n        nécessaires, afin d'adopter une attitude défensive en prenant des mesures de précaution pour réduire le\n        risque. Des conditions nivologiques locales plus sûres que prévu ou une configuration du terrain favorable\n        sont requises pour poursuivre sur cet itinéraire.\n      ")]),t._v(" "),s("li",[t._v("Couleur violette : risque résiduel supérieur à 1.5. Risque élevé, mieux vaut renoncer à cette course.")])]),t._v(" "),s("p",{staticClass:"image"},[s("picture",[s("source",{attrs:{srcset:i("bb29"),type:"image/webp"}}),t._v(" "),s("source",{attrs:{srcset:i("031d"),type:"image/avif"}}),t._v(" "),s("img",{attrs:{alt:"MRP",src:i("c672")}})])])]),t._v(" "),s("div",{staticClass:"question"},[s("h3",{staticClass:"title"},[t._v("Qui sont les concepteurs et partenaires de l’application Yéti ?")]),t._v(" "),s("p",[t._v("\n      L’application a d’abord été développée sous forme d’un démonstrateur sous le logiciel Qgis. Le développement a\n      été assuré par des élèves ingénieurs et des enseignants-chercheurs de l’"),s("a",{attrs:{href:"http://www.ensg.eu"}},[t._v("ENSG-Géomatique")]),t._v("\n      ainsi que par des développeurs du Géoportail de l’IGN.\n    ")]),t._v(" "),s("p",[t._v("\n      La "),s("a",{attrs:{href:"https://www.petzl.com/fondation/fondation-petzl?language=fr"}},[t._v("Fondation Petzl")]),t._v(" accompagne et\n      soutient le projet.\n    ")]),t._v(" "),s("p",[t._v("\n      Le site web "),s("a",{attrs:{href:"https://www.camptocamp.org/"}},[t._v("Camptocamp.org")]),t._v(" accueille et facilite la mise en ligne de\n      l’application.\n    ")])]),t._v(" "),s("div",{staticClass:"question"},[s("h3",{staticClass:"title"},[t._v("Données personnelles")]),t._v(" "),s("p",[t._v("\n      Aucune donnée n’est conservée sur le serveur. A la fin de chaque requête, toutes les données temporaires sont\n      détruites. L’adresse IP du requérant n’est pas conservée.\n    ")])]),t._v(" "),s("div",{staticClass:"question"},[s("h3",{staticClass:"title"},[t._v("Une question, une remarque, une demande de précision, qui contacter ?")]),t._v(" "),s("p",[t._v("\n      Pour plus d’informations, vous pouvez contacter "),s("a",{attrs:{href:"mailto:jacques.beilin@ensg.eu"}},[t._v("Jacques Beilin")]),t._v(" ou\n      "),s("a",{attrs:{href:"mailto:omoret@fondation-petzl.org"}},[t._v("Olivier Moret")])])])])}],Nr=(i("88f4"),{}),zr=Object(v["a"])(Nr,Pr,jr,!1,null,"6327e658",null),Ir=zr.exports,Fr={components:{Faq:Ir,Disclaimer:Ar},props:{component:{type:String,required:!0}}},Vr=Fr,Ur=(i("338f"),Object(v["a"])(Vr,Mr,Sr,!1,null,null,null)),Br=Ur.exports,Rr=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"validation-button"},[i("button",{staticClass:"button is-primary",class:{"is-loading":t.loading},attrs:{disabled:t.loading},on:{click:function(e){return t.$emit("click")}}},[t._v("\n    Calculer le risque\n  ")]),t._v(" "),t.currentError?i("p",{staticClass:"yetiForm-error"},[i("span",[t._v("\n      "+t._s(t.currentError)+"\n    ")])]):t._e()])},Hr=[],Gr={props:{currentError:{type:String,default:""},loading:{type:[Promise,Object],default:null}}},Zr=Gr,Wr=(i("a068"),Object(v["a"])(Zr,Rr,Hr,!1,null,"2e63d87a",null)),Yr=Wr.exports,Jr=i("dac7");const Qr="https://api.ensg.eu/yeti-wps?request=Execute&service=WPS&version=1.0.0&identifier=Yeti&datainputs=",Kr="/mountains_WGS84.json",Xr="https://api.ensg.eu/yeti-extent",to="Données RGE ALTI®",eo={minZoom:13,braMaxMrd:3},io={min:1,max:16,bra:[{min:1,max:2,val:2},{min:3,max:6,val:4},{min:6,max:12,val:8},{min:13,max:16,val:16}]},so=.75,no={area:{simple:"Zone non couverte",full:"L’emprise actuelle de la carte n’est pas couverte par YETI. Seuls les massifs montagneux français le sont (délimités par des pointillés)."},method:{simple:"Méthode manquante",full:"Veuillez sélectionner une méthode pour le calcul."},method_bra:{simple:"Méthode et BRA incompatible",full:"La méthode MRD (débutant) est autorisée avec un BRA de 3 maximum. Choisissez la méthode MRE ou MRP."},bra:{simple:"BRA manquant",full:"La valeur de BRA est manquante. Veuillez saisir la valeur spécifiée par le bulletin Météo-France."},altitude:{simple:"Altitude manquante",full:"L’altitude est requise quand le BRA haut et bas sont différents. Précisez la valeur fournie par le bulletin Météo-France."},zoom:{simple:"Zoom carte trop important",full:"L’emprise actuelle est trop grande. Veuillez zoomer au niveau "+eo.minZoom+" minimum."},ok:"Tout semble OK ! :)",yeti:"Le service ne fonctionne pas actuellement",yeti_prefix:"YETI Service: ",yeti_unauthorized:"Vous devez être autorisé pour effectuer cette requête. Contactez les administrateurs du service si vous êtes intéressé."};var ao={name:"Yeti",components:{vueSlider:Un.a,ValidationButton:Yr,yetiText:Br},data(){return{showDisclaimer:!1,checkDisclaimer:!1,methods:{mrd:["MRD","Débutant"],mre:["MRE","Élémentaire"],mrp:["MRP","Expert"]},groupSizes:[{value:1,text:"Aucun facteur de réduction lié au groupe"},{value:2.1,text:"Grand groupe avec distance de délestage"},{value:2.2,text:"Petit groupe sans distance"},{value:3,text:"Petit groupe avec distance de délestage"}],method:null,wetSnow:!1,groupSize:1,potentialDanger:void 0,bra:{high:null,low:null,altiThreshold:null,isDifferent:!1},orientation:[],mapZoom:!1,formError:void 0,currentError:void 0,promise:null,yetiLayer:null,opacityYetiLayer:so,showLegend:void 0,mapLegend:null,extentLayer:null,mountains:{},visibleMountains:{},promiseMountains:null,showMountainsList:!1,promiseDocument:null,areas:{},areasLayer:null,areaOK:!0}},computed:{potentialDangerLabels(){const t=[];for(let e=io.min;e<=io.max;e++){const i={text:e};2!==e&&4!==e&&8!==e&&16!==e||(i.val=e),t.push(i)}return t},potentialDangerOptions(){return this.bra.high?io.bra[this.bra.high-1]:{val:void 0,min:1,max:16}},mrdIsNotApplicable(){return this.isBraMax&&"mrd"===this.method},isBraMax(){return this.bra.high>eo.braMaxMrd||this.bra.low>eo.braMaxMrd},isValidMapZoom(){return this.mapZoom>=eo.minZoom},countVisibleMountains(){return Object.values(this.visibleMountains).reduce((t,e)=>t+e.length,0)},document(){return this.promiseDocument&&this.promiseDocument.data?this.promiseDocument.data:null},documents(){return this.document?[this.document]:null},areasLayerStyle(){const t=2,e=4,i=Math.max(0,Math.min(this.mapZoom-6,t)),s=Math.max(0,Math.min(this.mapZoom-6,e))/4,n=6*s;return new Jr["a"].style.Style({stroke:new Jr["a"].style.Stroke({color:"hsla(30, 100%, 40%,"+s+")",width:i,lineDash:[n]})})}},watch:{"bra.high":"onBraChange","bra.low":"check","bra.altiThreshold":"check","bra.isDifferent":["check","checkBraIsDifferent"],method:"check",mapZoom:"check",areaOK:"check"},created(){this.$localStorage.get("yeti-disclaimer")||(this.showDisclaimer=!0)},mounted(){this.check();const t=this.$route.params.document_id,e=this.$language.current;t&&(this.promiseDocument=y["a"]["route"].getCooked(t,e).then(this.onDocument)),this.$refs.map.map.on("moveend",this.onMapMoveEnd),qr.a.get(Kr).then(this.onMountainsResult).catch(this.onMountainsError),qr.a.get(Xr).then(this.onAreasResult)},methods:{check(){this.isValidMapZoom?this.areaOK?this.bra.high?this.bra.low&&this.bra.high!==this.bra.low&&!this.bra.altiThreshold?this.formError="altitude":this["method"]?this.mrdIsNotApplicable?this.formError="method_bra":!this.bra.isDifferent||this.bra.low&&this.bra.high?this.formError=null:this.formError="bra":this.formError="method":this.formError="bra":this.formError="area":this.formError="zoom",this.mrdIsNotApplicable&&(this.method=null),this.setCurrentError()},checkBraIsDifferent(){this.bra.isDifferent||(this.bra.low=null,this.bra.altiThreshold=null)},onBraChange(){this.potentialDanger=this.potentialDangerOptions.val,this.check()},warnAboutMethodBra(t){"mrd"===t&&this.isBraMax&&window.alert(no.method_bra.full)},setCurrentError(){this.formError?(this.currentError=no[this.formError]["simple"],"zoom"===this.formError&&(this.currentError+=" (actuel: "+this.mapZoom+" sur "+eo.minZoom+")")):this.currentError=no["ok"]},compute(){if(this.formError)return void window.alert(no[this.formError]["full"]);const t=this.$refs.map.getExtent("EPSG:3857"),e=this.extendExtent(t),i=this.getYetiUrl(e);this.removeLayers(),this.promise=qr.a.get(i).then(t=>this.onYetiResult(t,e)).catch(this.onYetiError)},removeLayers(){this.yetiLayer&&(this.yetiLayer.setMap(null),this.yetiLayer=null,this.opacityYetiLayer=so),this.extentLayer&&(this.extentLayer.setMap(null),this.extentLayer=null)},toLinearRing(t){const e=t[0],i=t[1],s=t[2],n=t[3];return[[e,i],[e,n],[s,n],[s,i],[e,i]]},drawExtent(t){const e=Jr["a"].extent.buffer(t,Math.max(t[2]-t[0],t[3]-t[1])/10),i=new Jr["a"].Feature(new Jr["a"].geom.Polygon([this.toLinearRing(e),this.toLinearRing(t)]));this.extentLayer=new Jr["a"].layer.Vector({source:new Jr["a"].source.Vector({features:[i]}),style:[new Jr["a"].style.Style({fill:new Jr["a"].style.Fill({color:"hsla(30, 100%, 60%, .45)"})}),new Jr["a"].style.Style({stroke:new Jr["a"].style.Stroke({color:"hsla(30, 100%, 40%, 1)",width:2}),geometry:t=>new Jr["a"].geom.Polygon([t.getGeometry().getCoordinates()[1]])})]}),this.extentLayer.setMap(this.$refs.map.map)},extendExtent(t){const e=Math.min(.5,(this.mapZoom-eo.minZoom)/6),i=Math.max(t[2]-t[0],t[3]-t[1])*e;return Jr["a"].extent.buffer(t,i)},onYetiResult(t,e){const i=(new DOMParser).parseFromString(t.data,"application/xml"),s=i.getElementsByTagName("wps:ComplexData")[0].textContent,n=i.getElementsByTagName("wps:ComplexData")[1].textContent,a=Jr["a"].proj.transformExtent(n.split(",").map(Number),"EPSG:4326","EPSG:3857");this.drawExtent(e),this.yetiLayer=new Jr["a"].layer.Image({source:new Jr["a"].source.ImageStatic({url:"",imageLoadFunction(t){t.getImage().src="data:image/png;base64,"+s},imageExtent:a,attributions:to}),opacity:this.opacityYetiLayer}),this.yetiLayer.setMap(this.$refs.map.map),this.yetiLayer.setZIndex(0),this.mapLegend=JSON.parse(i.getElementsByTagName("wps:ComplexData")[2].textContent),this.mapLegend.items.forEach(t=>{t.color=`rgb(${t.color[0]}, ${t.color[1]}, ${t.color[2]})`}),this.promise=null},onYetiError(t){this.promise=null;let e=no["yeti"];if(400===t.response.status){const i=(new DOMParser).parseFromString(t.response.data,"text/xml");e=[...i.getElementsByTagName("ExceptionText")].map(t=>t.textContent).join(" ")}403===t.response.status&&(e=no["yeti_unauthorized"]),window.alert(no["yeti_prefix"]+e)},onUpdateOpacityYetiLayer(){this.yetiLayer&&(this.yetiLayer.setOpacity(this.opacityYetiLayer),this.yetiLayer.setMap(this.$refs.map.map))},getYetiUrl(t){const e=Jr["a"].proj.transformExtent(t,"EPSG:3857","EPSG:4326"),i=this.bra.isDifferent?this.bra.low:this.bra.high,s=this.bra.isDifferent?this.bra.altiThreshold:0,n="mre"===this.method&&0!==this.orientation.length?"none,"+this.orientation.join(",").toLowerCase():"none",a="mrp"===this.method?this.potentialDanger:0,r="mrp"===this.method&&this.wetSnow,o="mrp"===this.method?Math.floor(this.groupSize):0;let l=Qr;return l+=`methode=${this.method};`,l+=`bbox=${e[0]},${e[1]},${e[2]},${e[3]};`,l+=`risque_haut=${this.bra.high};`,l+=`risque_bas=${i};`,l+=`seuil_alti=${s};`,l+=`rdv=${n};`,l+=`potentiel_danger=${a};`,l+=`neige_mouillee=${r};`,l+="taille_groupe="+o,l},onMapMoveEnd(t){this.mapZoom=Math.floor(10*t.map.getView().getZoom())/10,this.setVisibleMountains(),this.setVisibleAreas()},setVisibleMountains(){const t=this.$refs.map.getExtent("EPSG:4326");this.visibleMountains=Object.assign({},this.mountains);for(const e in this.visibleMountains)this.visibleMountains[e]=this.visibleMountains[e].filter(e=>{const i=e.geometry;return i.intersectsExtent(t)}),0===this.visibleMountains[e].length&&delete this.visibleMountains[e]},sortMountainsByMassif(){const t={};for(let e=0;e<this.mountains.length;e++)t[this.mountains[e].mountain]||(t[this.mountains[e].mountain]=[]),t[this.mountains[e].mountain].push(this.mountains[e]);this.mountains=t;for(const e in this.mountains)this.mountains[e].sort((t,e)=>t.title<e.title?-1:e.title>t.title?1:0)},onMountainsResult(t){const e=t.data;this.mountains=(new Jr["a"].format.GeoJSON).readFeatures(e).map(t=>t.getProperties()),this.sortMountainsByMassif(),this.setVisibleMountains(),this.promiseMountains=!0},onMountainsError(){this.promiseMountains=null},onSubmitDisclaimer(){this.showDisclaimer=!1,this.$localStorage.set("yeti-disclaimer","validated")},onDocument(){this.$refs.map.minZoomLevel=eo.minZoom,["documentsLayer","waypointsLayer"].forEach(t=>{this.$refs.map[t].setZIndex(1)})},onAreasResult(t){const e=t.data,i=(new Jr["a"].format.GeoJSON).readFeatures(e);i[0].getGeometry().transform("EPSG:4326","EPSG:3857"),this.areas=i.map(t=>t.getProperties());const s=i[0].getGeometry().getCoordinates(),n=[];for(let r=0;r<s.length;r++)n.push(...s[r]);const a=[];for(let r=0;r<n.length;r++)for(let t=0;t<n[r].length-1;t++)a.push(new Jr["a"].Feature(new Jr["a"].geom.LineString([n[r][t],n[r][t+1]])));this.areasLayer=new Jr["a"].layer.Vector({renderMode:"image",source:new Jr["a"].source.Vector({features:a}),style:this.areasLayerStyle}),this.areasLayer.setMap(this.$refs.map.map)},setVisibleAreas(){const t=this.$refs.map.getExtent("EPSG:3857");for(const e in this.areas){const i=this.areas[e].geometry;if(i.intersectsExtent(t)){this.areaOK=!0;break}this.areaOK=!1}this.areasLayer&&this.areasLayer.setStyle(this.areasLayerStyle)}}},ro=ao,oo=(i("d9253"),i("2d99"),Object(v["a"])(ro,kr,$r,!1,null,"c7c6aa28",null)),lo=oo.exports,co=i("5fff"),uo=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"serac-view"},[i("html-header",{attrs:{title:t.$gettext("Incidents and accidents")}}),t._v(" "),i("div",{staticClass:"serac-view-content"},[i("div",{staticClass:"columns is-multiline"},[i("div",{staticClass:"column is-12"},[i("div",{staticClass:"serac-block has-text-centered has-text-light"},[i("h1",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"title is-1 has-text-light has-text-weight-bold"},[t._v("SERAC")]),t._v(" "),i("h3",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"subtitle is-3 has-text-light has-text-weight-bold"},[t._v("\n            Let's make our feedbacks valuable\n          ")]),t._v(" "),i("p",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("\n            SERAC is a worldwide incidents and accidents database aiming at increasing safety in rock climbing and\n            mountain sports.\n          ")])])]),t._v(" "),i("div",{staticClass:"column is-4"},[i("div",{staticClass:"serac-block has-text-light content"},[i("h3",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"title is-3 has-text-light"},[t._v("Near-accidents are valuable")]),t._v(" "),i("ul",[i("li",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("\n              Near-accidents = delicate situation not leading to physical injury but could have lead to a much more\n              serious event.\n            ")]),t._v(" "),i("li",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("These are positive experiences that reveal usefull risk-management skills.")])])])]),t._v(" "),i("div",{staticClass:"column is-4"},[i("div",{staticClass:"serac-block has-text-light content"},[i("h3",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"title is-3 has-text-light"},[t._v("How is my testimony used ? How / why is it useful ?")]),t._v(" "),i("ul",[i("li",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Improve our understanding of risks")]),t._v(" "),i("li",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Contribute to common knowledge")]),t._v(" "),i("li",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Help research activities to define new prevention means")])])])]),t._v(" "),i("div",{staticClass:"column is-4"},[i("div",{staticClass:"serac-block has-text-light content"},[i("h3",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"title is-3 has-text-light"},[t._v("Anonymity and confidentiality")]),t._v(" "),i("ul",[i("li",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("You can choose to remain anonymous")]),t._v(" "),i("li",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Personal data are confidential")]),t._v(" "),i("li",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("SERAC is built upon a kindness mindset. We thank you to improve it")])])])]),t._v(" "),i("div",{staticClass:"column is-4"},[i("add-link",{staticClass:"button is-primary has-text-weight-bold",attrs:{"document-type":"xreport"}},[i("fa-icon",{attrs:{icon:"plus"}}),t._v("\n           \n          "),i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Create a new report")])],1)],1),t._v(" "),i("div",{staticClass:"column is-4"},[i("router-link",{staticClass:"button is-warning has-text-weight-bold",attrs:{to:"xreports"}},[i("fa-icon",{attrs:{icon:"list"}}),t._v("\n           \n          "),i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("View xreports")])],1)],1),t._v(" "),i("div",{staticClass:"column is-4"},[i("router-link",{staticClass:"button is-success has-text-weight-bold",attrs:{to:{name:"article",params:{id:697210}}}},[i("fa-icon",{attrs:{icon:"info"}}),t._v("\n           \n          "),i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Know more about SERAC")])],1)],1),t._v(" "),i("div",{staticClass:"column is-6 is-offset-one-quarter has-text-centered"},[i("a",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"button is-warning has-text-weight-bold is-size-4",attrs:{href:"https://www.camptocamp.org/articles/1254260/fr/sommaire-des-analyses-de-recits-de-la-base-serac"}},[t._v("\n          See the analysis of the submitted stories\n        ")])]),t._v(" "),i("div",{staticClass:"column is-12"},[i("div",{staticClass:"serac-block"},[i("h2",{staticClass:"title is-2 has-text-light has-text-centered"},[t._v("\n            "+t._s(t._f("uppercaseFirstLetter")(t.$gettext("xreports")))+"\n          ")]),t._v(" "),i("div",{staticClass:"columns is-multiline is-mobile serac-activities"},t._l(t.$options.event_activities,(function(e){return i("topoguide-view-small-link",{key:e,staticClass:"column topoguide-view-small-link",attrs:{to:{name:"xreports",query:{act:e}}}},[i("span",{staticClass:"is-size-1"},[i("icon-event-activity",{attrs:{"event-activity":e}})],1),t._v(" "),i("span",{staticClass:"has-text-weight-semibold"},[t._v("\n                "+t._s(t._f("uppercaseFirstLetter")(t.$gettext(e,"event_activities")))+"\n              ")])])})),1)])])])])],1)},mo=[],po=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("router-link",{attrs:{to:t.to}},[t._t("default")],2)],1)},ho=[],vo={props:{to:{type:Object,required:!0}}},fo=vo,_o=(i("3bba"),Object(v["a"])(fo,po,ho,!1,null,"0b976bb0",null)),go=_o.exports,bo={components:{TopoguideViewSmallLink:go},event_activities:Nt["a"].event_activities},yo=bo,wo=(i("bfef"),Object(v["a"])(yo,uo,mo,!1,null,"34d07255",null)),xo=wo.exports,Co=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("html-header",{attrs:{title:t.$gettext("Topoguide")}}),t._v(" "),i("div",{staticClass:"topoguide"},[i("h1",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"has-text-centered has-text-weight-semibold"},[t._v("Topoguide")]),t._v(" "),i("div",{staticClass:"links is-flex"},[i("topoguide-view-link",{attrs:{to:"outings",label:t.$gettext("outings"),icon:"icon-outing"}}),t._v(" "),i("topoguide-view-link",{attrs:{to:"routes",label:t.$gettext("routes"),icon:"icon-route"}}),t._v(" "),i("topoguide-view-link",{attrs:{to:"waypoints",label:t.$gettext("waypoints"),icon:"icon-waypoint"}}),t._v(" "),i("topoguide-view-link",{attrs:{to:"images",label:t.$gettext("images"),icon:"icon-image"}}),t._v(" "),i("topoguide-view-link",{attrs:{to:"books",label:t.$gettext("books"),icon:"icon-book"}}),t._v(" "),i("topoguide-view-link",{attrs:{to:"areas",label:t.$gettext("areas"),icon:"icon-area"}}),t._v(" "),i("topoguide-view-link",{attrs:{to:"yeti",label:"YETI",icon:"icon-yeti"}})],1)]),t._v(" "),i("div",{staticClass:"section columns is-multiline is-variable is-8"},[i("div",{staticClass:"column is-6"},[i("h2",{staticClass:"title is-2 has-text-centered has-background-secondary has-text-light has-rounded-corner"},[t._v("\n        "+t._s(t._f("uppercaseFirstLetter")(t.$gettext("outings")))+"\n      ")]),t._v(" "),i("div",{staticClass:"columns is-multiline is-variable is-mobile is-1"},[t._l(t.activities,(function(e){return i("topoguide-view-small-link",{key:e,staticClass:"column is-4-mobile is-3-tablet is-3-desktop is-3-widescreen is-3-fullhd",attrs:{to:{name:"outings",query:{act:e}}}},[i("span",{staticClass:"is-size-1"},[i("icon-activity",{attrs:{activity:e}})],1),t._v(" "),i("span",{staticClass:"has-text-weight-semibold"},[t._v("\n            "+t._s(t._f("uppercaseFirstLetter")(t.$gettext(e,"activities")))+"\n          ")])])})),t._v(" "),i("topoguide-view-small-link",{staticClass:"column is-4-mobile is-3-tablet is-3-desktop is-3-widescreen is-3-fullhd",attrs:{to:{name:"outing-add"}}},[i("span",{staticClass:"has-text-success is-size-1"},[i("fa-icon",{attrs:{icon:"plus"}})],1),t._v(" "),i("span",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"has-text-success has-text-weight-semibold"},[t._v(" New outing ")])])],2)]),t._v(" "),i("div",{staticClass:"column is-6"},[i("h2",{staticClass:"title is-2 has-text-centered has-background-secondary has-text-light has-rounded-corner"},[t._v("\n        "+t._s(t._f("uppercaseFirstLetter")(t.$gettext("routes")))+"\n      ")]),t._v(" "),i("div",{staticClass:"columns is-multiline is-variable is-mobile is-1"},[t._l(t.activities,(function(e){return i("topoguide-view-small-link",{key:e,staticClass:"column is-4-mobile is-3-tablet is-3-desktop is-3-widescreen is-3-fullhd",attrs:{to:{name:"routes",query:{act:e}}}},[i("span",{staticClass:"is-size-1"},[i("icon-activity",{attrs:{activity:e}})],1),t._v(" "),i("span",{staticClass:"has-text-weight-semibold"},[t._v("\n            "+t._s(t._f("uppercaseFirstLetter")(t.$gettext(e,"activities")))+"\n          ")])])})),t._v(" "),i("topoguide-view-small-link",{staticClass:"column is-4-mobile is-3-tablet is-3-desktop is-3-widescreen is-3-fullhd",attrs:{to:{name:"route-add"}}},[i("span",{staticClass:"has-text-success is-size-1"},[i("fa-icon",{attrs:{icon:"plus"}})],1),t._v(" "),i("span",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"has-text-success has-text-weight-semibold"},[t._v(" New route ")])])],2)]),t._v(" "),i("div",{staticClass:"column is-12"},[i("h2",{staticClass:"title is-2 has-text-centered has-background-secondary has-text-light has-rounded-corner"},[t._v("\n        "+t._s(t._f("uppercaseFirstLetter")(t.$gettext("waypoints")))+"\n      ")]),t._v(" "),i("div",{staticClass:"columns is-multiline is-variable is-mobile is-1"},[t._l(t.waypoint_types,(function(e){return i("topoguide-view-small-link",{key:e,staticClass:"column is-4-mobile is-2-tablet is-2-desktop is-2-widescreen is-2-fullhd",attrs:{to:{name:"waypoints",query:{wtyp:e}}}},[i("span",{staticClass:"is-size-1"},[i("icon-waypoint-type",{attrs:{"waypoint-type":e}})],1),t._v(" "),i("span",{staticClass:"has-text-weight-semibold"},[t._v("\n            "+t._s(t._f("uppercaseFirstLetter")(t.$gettext(e,"waypoint_types")))+"\n          ")])])})),t._v(" "),i("topoguide-view-small-link",{staticClass:"column is-4-mobile is-2-tablet is-2-desktop is-2-widescreen is-2-fullhd",attrs:{to:{name:"waypoint-add"}}},[i("span",{staticClass:"has-text-success is-size-1"},[i("fa-icon",{attrs:{icon:"plus"}})],1),t._v(" "),i("span",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"has-text-success has-text-weight-semibold"},[t._v(" New waypoint ")])])],2)])])],1)},ko=[],$o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"topoguide-link-view"},[i("router-link",{attrs:{to:t.to}},[i("span",{staticClass:"is-size-2"},[i(t.icon,{tag:"component"})],1),t._v(" "),i("span",{staticClass:"is-size-4"},[t._v(t._s(t._f("uppercaseFirstLetter")(t.label)))])])],1)},Lo=[],qo={props:{to:{type:String,required:!0},label:{type:String,required:!0},icon:{type:String,required:!0}}},Mo=qo,So=(i("dbfb"),Object(v["a"])(Mo,$o,Lo,!1,null,"0f12ca2c",null)),Eo=So.exports,Oo={components:{TopoguideViewLink:Eo,TopoguideViewSmallLink:go},computed:{activities(){return Nt["a"].activities},waypoint_types(){return Nt["a"].waypoint_types}}},Do=Oo,To=(i("64d6"),Object(v["a"])(Do,Co,ko,!1,null,"2c55e77e",null)),Ao=To.exports,Po=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"work-in-progress-view"},[i("html-header",{attrs:{title:"WIP WIP WIP"}}),t._v(" "),i("fa-icon",{staticClass:"wrench"})],1)},jo=[],No=(i("7a07"),{}),zo=Object(v["a"])(No,Po,jo,!1,null,"3e8e2b52",null),Io=zo.exports,Fo=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section account-view"},[i("html-header",{attrs:{title:"Account"}}),t._v(" "),i("h1",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"title is-1"},[t._v("Change account parameters")]),t._v(" "),i("base-form",{ref:"form",attrs:{promise:t.promise},on:{submit:t.save}},[i("form-field",{attrs:{name:"username",type:"text",disabled:"",label:t.$gettext("Username"),icon:"user"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),i("form-field",{attrs:{name:"currentpassword",type:"password",required:"",label:t.$gettext("Current password"),icon:"key"},model:{value:t.currentpassword,callback:function(e){t.currentpassword=e},expression:"currentpassword"}}),t._v(" "),i("form-field",{attrs:{name:"newpassword",type:"password",label:t.$gettext("New password"),icon:"key"},model:{value:t.newpassword,callback:function(e){t.newpassword=e},expression:"newpassword"}}),t._v(" "),i("form-field",{attrs:{name:"email",type:"text",required:"",label:t.$gettext("Email"),icon:"at"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),i("form-field",{attrs:{name:"name",type:"text",required:"",label:t.$gettext("Fullname"),icon:"user-check"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),i("form-field",{attrs:{name:"forum_username",type:"text",required:"",label:t.$gettext("Forum username"),icon:"comments"},model:{value:t.forum_username,callback:function(e){t.forum_username=e},expression:"forum_username"}}),t._v(" "),i("div",{staticClass:"field"},[i("input-checkbox",{model:{value:t.is_profile_public,callback:function(e){t.is_profile_public=e},expression:"is_profile_public"}},[i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Make profile page public")])])],1),t._v(" "),i("div",{staticClass:"field is-grouped"},[i("div",{staticClass:"control"},[i("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"button is-primary",class:{"is-loading":t.promise.loading},attrs:{type:"submit"}},[t._v("\n          Save\n        ")])])])],1)],1)},Vo=[],Uo=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("form",{on:{submit:t.submit}},[t._t("header"),t._v(" "),t._l(t.serverMetaErrors,(function(e,s){return i("div",{key:s,staticClass:"notification is-danger has-text-centered"},[t._v("\n    "+t._s(e.description)+"\n  ")])})),t._v(" "),t._t("default")],2)},Bo=[],Ro={props:{promise:{type:Object,default:null}},data(){return{hasError:!1,inputs:{},serverMetaErrors:[]}},watch:{promise:{handler:"computeErrors",deep:!0}},mounted(){for(const t of this.$children)this.inputs[t.name]=t,t.$on("input",this.check)},methods:{cleanErrors(){this.serverMetaErrors=[];for(const t of Object.values(this.inputs))t.errorMessage=void 0},computeErrors(){if(this.cleanErrors(),!this.promise||!this.promise.error)return;const t=this.promise.error.response.data;if(t.errors)for(const e of t.errors)this.inputs[e.name]?this.inputs[e.name].errorMessage=e.description:this.serverMetaErrors.push(e);else this.serverMetaErrors.push(t)},check(){for(const t of this.$children)if(t.hasError)return void(this.hasError=!0);this.hasError=!1},submit(t){if(t.preventDefault(),this.check(),!this.hasError){for(const t of Object.values(this.inputs))t.errorMessage=null;this.serverMetaErrors=[],this.$emit("submit")}}}},Ho=Ro,Go=Object(v["a"])(Ho,Uo,Bo,!1,null,null,null),Zo=Go.exports,Wo=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[t._v("\n    "+t._s(t.label)+"\n    "),t.required?i("span",[t._v("*")]):t._e(),t._v(" "),t.errorMessage?i("span",{staticClass:"has-text-danger has-text-weight-bold"},[t._v("\n      "+t._s(t.$gettext(t.errorMessage,"API message"))+"\n    ")]):t._e()]),t._v(" "),i("div",{staticClass:"control has-icons-left"},["checkbox"===t.type?i("input",{directives:[{name:"model",rawName:"v-model",value:t.value_,expression:"value_"}],ref:"input",staticClass:"input",class:{"is-danger":t.hasError||t.errorMessage},attrs:{placeholder:t.placeholder||t.label,required:t.required,disabled:t.disabled,autocorrect:t.autocorrect,autocapitalize:t.autocapitalize,type:"checkbox"},domProps:{checked:Array.isArray(t.value_)?t._i(t.value_,null)>-1:t.value_},on:{change:function(e){var i=t.value_,s=e.target,n=!!s.checked;if(Array.isArray(i)){var a=null,r=t._i(i,a);s.checked?r<0&&(t.value_=i.concat([a])):r>-1&&(t.value_=i.slice(0,r).concat(i.slice(r+1)))}else t.value_=n}}}):"radio"===t.type?i("input",{directives:[{name:"model",rawName:"v-model",value:t.value_,expression:"value_"}],ref:"input",staticClass:"input",class:{"is-danger":t.hasError||t.errorMessage},attrs:{placeholder:t.placeholder||t.label,required:t.required,disabled:t.disabled,autocorrect:t.autocorrect,autocapitalize:t.autocapitalize,type:"radio"},domProps:{checked:t._q(t.value_,null)},on:{change:function(e){t.value_=null}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:t.value_,expression:"value_"}],ref:"input",staticClass:"input",class:{"is-danger":t.hasError||t.errorMessage},attrs:{placeholder:t.placeholder||t.label,required:t.required,disabled:t.disabled,autocorrect:t.autocorrect,autocapitalize:t.autocapitalize,type:t.type},domProps:{value:t.value_},on:{input:function(e){e.target.composing||(t.value_=e.target.value)}}}),t._v(" "),i("span",{staticClass:"icon is-small is-left"},[i("fa-icon",{attrs:{icon:t.icon}})],1)])])},Yo=[],Jo={props:{name:{type:String,required:!0},value:{type:[String,Number,Boolean],default:null},label:{type:String,required:!0},type:{type:String,required:!0},placeholder:{type:String,default:null},icon:{type:String,required:!0},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autocorrect:{type:String,default:void 0},autocapitalize:{type:String,default:void 0}},data(){return{errorMessage:null}},computed:{value_:{get(){return this.value},set(t){this.$emit("input",t)}},hasError(){return!(!this.required||this.value)}},methods:{focus(){this.$refs.input.focus()}}},Qo=Jo,Ko=Object(v["a"])(Qo,Wo,Yo,!1,null,null,null),Xo=Ko.exports,tl={components:{FormField:Xo,BaseForm:Zo},data(){return{username:this.$user.userName,currentpassword:"",newpassword:"",email:"",original_mail:null,name:this.$user.name,forum_username:this.$user.forumUsername,is_profile_public:null,promise:{}}},created(){y["a"].userProfile.account.get().then(t=>{this.$user.forumUsername=t.data.forum_username,this.email=t.data.email,this.original_mail=t.data.email,this.is_profile_public=t.data.is_profile_public,this.forum_username=t.data.forum_username})},methods:{save(){function t(t,e){return t===e?null:t}this.promise=this.$user.updateAccount(this.currentpassword,t(this.name,this.$user.name),t(this.forum_username,this.$user.forumUsername),t(this.email,this.original_mail),this.is_profile_public,this.newpassword?this.newpassword:null)}}},el=tl,il=(i("20c1"),Object(v["a"])(el,Fo,Vo,!1,null,"4149176d",null)),sl=il.exports,nl=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section"},[i("html-header",{attrs:{title:t.$gettext("Followed users")}}),t._v(" "),i("h1",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"title is-1"},[t._v("Followed users")]),t._v(" "),i("div",{staticClass:"columns is-multiline"},[i("div",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"column is-12"},[t._v("\n      Here is the list of users you are following and whose activity you will see in your personal feed.\n    ")]),t._v(" "),i("div",{staticClass:"column is-narrow"},[i("input-document",{attrs:{"document-type":"profile"},on:{input:t.add}})],1),t._v(" "),i("div",{staticClass:"column"},[t.following.data?i("div",{staticClass:"columns is-multiline"},t._l(t.following.data.following,(function(e){return i("div",{key:e.document_id,staticClass:"column is-3"},[i("document-card",{attrs:{document:e,"show-delete-button":""},on:{delete:function(i){return t.remove(e)}}})],1)})),0):t._e()])])],1)},al=[],rl={data(){return{following:null,newUser:null}},created(){this.load()},methods:{load(){this.following=y["a"].userProfile.following.get()},add(t){y["a"].userProfile.following.add(t.document_id).then(()=>{this.load()})},remove(t){y["a"].userProfile.following.remove(t.document_id).then(()=>{this.load()})}}},ol=rl,ll=Object(v["a"])(ol,nl,al,!1,null,null,null),cl=ll.exports,ul=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login-view is-flex"},[i("html-header",{attrs:{title:t.$gettext("Login")}}),t._v(" "),i("base-form",{directives:[{name:"show",rawName:"v-show",value:"signin"==t.mode,expression:"mode == 'signin'"}],attrs:{promise:t.promise},on:{submit:t.signin}},[i("form-field",{ref:"signinMainInput",attrs:{name:"username",type:"text",required:"",autocapitalize:"off",autocorrect:"off",label:t.$gettext("Username"),icon:"user"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),i("form-field",{attrs:{name:t.password,required:"",type:"password",label:t.$gettext("Password"),icon:"key"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),i("div",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"has-text-weight-bold is-centered has-text-centered mb-1"},[t._v("\n      Beware of case-sensitive login and password\n    ")]),t._v(" "),i("div",{staticClass:"buttons is-centered"},[i("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"button is-primary",class:{"is-loading":t.promise.loading},attrs:{type:"submit"}},[t._v("\n        Login\n      ")]),t._v(" "),i("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"button is-warning",attrs:{type:"button"},on:{click:function(e){t.mode="resetPassword"}}},[t._v("\n        Forgot password?\n      ")]),t._v(" "),i("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"button is-link",attrs:{type:"button"},on:{click:function(e){t.mode="signup"}}},[t._v("No account yet?")])])],1),t._v(" "),i("base-form",{directives:[{name:"show",rawName:"v-show",value:"signup"==t.mode,expression:"mode == 'signup'"}],attrs:{promise:t.promise},on:{submit:t.signup}},[i("form-field",{ref:"signupMainInput",attrs:{name:"name",type:"text",label:t.$gettext("Fullname"),icon:"user-check"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),i("form-field",{attrs:{name:"username",type:"text",autocapitalize:"off",autocorrect:"off",label:t.$gettext("Username"),icon:"user"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),i("form-field",{attrs:{name:"forum_username",type:"text",label:t.$gettext("Forum username"),icon:"comments"},model:{value:t.forum_username,callback:function(e){t.forum_username=e},expression:"forum_username"}}),t._v(" "),i("form-field",{attrs:{name:"password",type:"password",label:t.$gettext("Password"),icon:"key"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),i("form-field",{attrs:{name:"email",type:"email",label:t.$gettext("Email"),icon:"at"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),i("div",{staticClass:"field"},[i("div",{staticClass:"control"},[i("label",{staticClass:"checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.termsAgreed,expression:"termsAgreed"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.termsAgreed)?t._i(t.termsAgreed,null)>-1:t.termsAgreed},on:{change:function(e){var i=t.termsAgreed,s=e.target,n=!!s.checked;if(Array.isArray(i)){var a=null,r=t._i(i,a);s.checked?r<0&&(t.termsAgreed=i.concat([a])):r>-1&&(t.termsAgreed=i.slice(0,r).concat(i.slice(r+1)))}else t.termsAgreed=n}}}),t._v("\n           \n          "),i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v(" I have read and agree to the terms of use ")]),t._v(" "),i("span",[t._v(" (")]),t._v(" "),i("router-link",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{to:{name:"article",params:{id:106731}}}},[t._v(" link ")]),t._v(" "),i("span",[t._v(").")])],1)])]),t._v(" "),i("div",{staticClass:"field"},[i("vue-recaptcha",{ref:"recaptcha",attrs:{sitekey:t.$options.recaptchaKey},on:{expired:t.onCaptchaExpired,verify:t.onCaptchaVerify}})],1),t._v(" "),i("div",{staticClass:"buttons is-centered"},[i("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"button is-primary",class:{"is-loading":t.promise.loading},attrs:{type:"submit",disabled:!t.termsAgreed||!t.captcha}},[t._v("\n        Register\n      ")]),t._v(" "),i("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"button is-link",attrs:{type:"button"},on:{click:function(e){t.mode="signin"}}},[t._v("Have an account?")])])],1),t._v(" "),i("base-form",{directives:[{name:"show",rawName:"v-show",value:"resetPassword"==t.mode,expression:"mode == 'resetPassword'"}],ref:"resetPasswordForm",attrs:{promise:t.promise},on:{submit:t.resetPassword}},[i("h3",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"title is-3",attrs:{slot:"header"},slot:"header"},[t._v("Reset password")]),t._v(" "),i("form-field",{ref:"resetPasswordMainInput",attrs:{name:"email",type:"email",label:t.$gettext("Email"),icon:"at"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),i("div",{staticClass:"buttons is-centered"},[i("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"button is-link",class:{"is-loading":t.promise.loading},attrs:{type:"submit"}},[t._v("\n        Send reset email\n      ")]),t._v(" "),i("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"button is-link",attrs:{type:"button"},on:{click:function(e){t.mode="signin"}}},[t._v("Login")])]),t._v(" "),t.promise.success?i("div",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"notification is-info"},[t._v("\n      We sent you an email, please click on the link to reset password.\n    ")]):t._e()],1),t._v(" "),i("base-form",{directives:[{name:"show",rawName:"v-show",value:"changePassword"==t.mode,expression:"mode == 'changePassword'"}],ref:"changePasswordForm",attrs:{promise:t.promise},on:{submit:t.validateNewPassword}},[i("h3",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"title is-3",attrs:{slot:"header"},slot:"header"},[t._v("Change password")]),t._v(" "),i("form-field",{ref:"changePasswordMainInput",attrs:{name:"password",type:"password",label:t.$gettext("New password"),icon:"key"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),i("div",{staticClass:"buttons is-centered"},[i("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"button is-link",class:{"is-loading":t.promise.loading},attrs:{type:"submit"}},[t._v("\n        Change password\n      ")]),t._v(" "),i("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"button is-link",attrs:{type:"button"},on:{click:function(e){t.mode="signin"}}},[t._v("Cancel")])])],1),t._v(" "),i("base-form",{directives:[{name:"show",rawName:"v-show",value:"changeEmail"==t.mode||"validateAccountCreation"==t.mode,expression:"mode == 'changeEmail' || mode == 'validateAccountCreation'"}],attrs:{promise:t.promise}},[t.promise.loading?i("div",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Checking...")]):t._e()])],1)},dl=[],ml=i("e096"),pl={recaptchaKey:H["a"].urls.recaptchaKey,components:{FormField:Xo,BaseForm:Zo,VueRecaptcha:ml["a"]},beforeRouteEnter(t,e,i){i(t=>{t.from=e})},data(){return{mode:"",username:"",password:"",name:"",forum_username:"",email:"",recaptchaAvailable:!1,captcha:null,termsAgreed:!1,from:null,redirectionStillDone:!1,promise:{}}},computed:{},watch:{$route:"load",mode:"onModeChange"},created(){"auth-sso"===this.$route.name&&void 0!==this.$route.query.logout&&this.$user.signout()},mounted(){const t=document.createElement("script");t.async=!0,t.setAttribute("src","https://www.google.com/recaptcha/api.js?onload=vueRecaptchaApiLoaded&render=explicit"),document.head.appendChild(t),this.load()},methods:{onModeChange(){this.promise={},"signin"===this.mode?this.$nextTick(this.$refs.signinMainInput.focus):"changePassword"===this.mode?this.$nextTick(this.$refs.changePasswordMainInput.focus):"resetPassword"===this.mode?this.$nextTick(this.$refs.resetPasswordMainInput.focus):"signup"===this.mode&&this.$nextTick(this.$refs.signupMainInput.focus)},load(){this.$route.hash&&this.$router.replace(this.$route.fullPath.replace("#","?")),this.$route.query.change_password?this.mode="changePassword":this.$route.query.validate_change_email?(this.mode="changeEmail",this.promise=y["a"].userProfile.validateChangeEmail(this.$route.query.validate_change_email).then(()=>this.$router.push({name:"home"}))):this.$route.query.validate_register_email?(this.mode="validateAccountCreation",this.promise=y["a"].userProfile.validateRegisterEmail(this.$route.query.validate_register_email).then(()=>this.$router.push({name:"home"}))):this.mode="signin"},signin(){this.promise=this.$user.signIn(this.username,this.password).then(this.onSucessSigin)},onSucessSigin(t){const e=t.data.redirect_internal;if(e){const t=document.createElement("iframe"),i=document.createAttribute("sandbox");i.value="allow-same-origin",t.style.display="none",t.setAttributeNode(i),t.src=e,window.setTimeout(this.redirect,1e4),t.addEventListener("load",this.redirect),this.promise.loading=!0,document.body.appendChild(t)}else this.redirect()},redirect(){this.redirectionStillDone||(this.redirectionStillDone=!0,this.$router.push(this.from.fullPath))},signup(){this.promise=y["a"].userProfile.register({name:this.name,username:this.username,forum_username:this.forum_username,password:this.password,email:this.email,lang:this.$language.current,captcha:this.captcha}),this.captcha=null,this.$refs.recaptcha.reset()},resetPassword(){this.promise=y["a"].userProfile.requestPasswordChange(this.email).then(()=>this.$alert.show([this.$gettext("Mail has been sent")]))},validateNewPassword(){const t=this.password,e=this.$route.query.change_password;this.promise=y["a"].userProfile.validateNewPassword(e,t).then(()=>this.$router.push({name:"auth"}))},onCaptchaExpired(){this.$refs.recaptcha.reset()},onCaptchaVerify(t){this.captcha=t}}},hl=pl,vl=(i("56f6"),Object(v["a"])(hl,ul,dl,!1,null,"657ec155",null)),fl=vl.exports,_l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section content"},[i("html-header",{attrs:{title:t.$gettext("My preferences")}}),t._v(" "),i("h2",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("lang")]),t._v(" "),i("div",{staticClass:"field"},[i("div",{staticClass:"buttons"},t._l(t.$language.available,(function(e,s){return i("button",{key:s,staticClass:"button",class:{"is-primary":t.$language.current===s},attrs:{type:"button"},on:{click:function(e){return t.$language.setCurrent(s)}}},[t._v("\n        "+t._s(e)+"\n      ")])})),0)]),t._v(" "),i("h2",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Home page feed parameters")]),t._v(" "),i("loading-notification",{attrs:{promise:t.promise}}),t._v(" "),t.preferences?i("div",[i("p",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Here you may set activity and region filters that will apply to the homepage feed.")]),t._v(" "),i("p",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("\n      Only status updates with the selected activities and in the selected areas are shown in your homepage feed.\n      Status updates from followed users will always be shown.\n    ")]),t._v(" "),i("div",{staticClass:"field"},[i("input-checkbox",{on:{change:t.save},model:{value:t.preferences.followed_only,callback:function(e){t.$set(t.preferences,"followed_only",e)},expression:"preferences.followed_only"}},[i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Show only updates from followed users in the homepage feed")])])],1),t._v(" "),t.preferences.followed_only?t._e():i("div",[i("h3",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("langs")]),t._v(" "),i("div",{staticClass:"field is-grouped"},t._l(t.$language.available,(function(e,s){return i("div",{key:s,staticClass:"control"},[i("button",{staticClass:"button",class:{"is-primary":t.preferences.langs.indexOf(s)>-1},attrs:{type:"button"},on:{click:function(e){return t.toggle(s,t.preferences.langs)}}},[t._v("\n            "+t._s(e)+"\n          ")])])})),0),t._v(" "),i("h3",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("activities")]),t._v(" "),i("div",{staticClass:"field is-grouped"},[i("input-activity",{on:{input:t.save},model:{value:t.preferences.activities,callback:function(e){t.$set(t.preferences,"activities",e)},expression:"preferences.activities"}})],1),t._v(" "),i("h3",[t._v(t._s(t._f("uppercaseFirstLetter")(t.$gettext("areas"))))]),t._v(" "),i("div",{staticClass:"columns is-multiline"},[i("div",{staticClass:"column is-narrow"},[i("input-document",{attrs:{"document-type":"area"},on:{input:t.addArea}})],1),t._v(" "),i("div",{staticClass:"column"},[i("div",{staticClass:"columns is-multiline"},t._l(t.preferences.areas,(function(e){return i("div",{key:e.document_id,staticClass:"column is-3"},[i("document-card",{attrs:{document:e,"show-delete-button":""},on:{delete:function(i){return t.removeArea(e)}}})],1)})),0)])])])]):t._e()],1)},gl=[],bl={data(){return{promise:null}},computed:{preferences(){return this.promise.data}},created(){this.promise=y["a"].userProfile.preferences.get()},methods:{toggle(t,e){e.indexOf(t)>-1?e.splice(e.indexOf(t),1):e.push(t),this.save()},addArea(t){this.preferences.areas.push(t),this.save()},removeArea(t){this.preferences.areas=this.preferences.areas.filter(e=>e.document_id!==t.document_id),this.save()},save(){y["a"].userProfile.preferences.post(this.preferences)}}},yl=bl,wl=(i("0531"),Object(v["a"])(yl,_l,gl,!1,null,"d4505a90",null)),xl=wl.exports;const Cl=()=>i.e("wiki-tools").then(i.bind(null,"5bf5")),kl=()=>i.e("wiki-tools").then(i.bind(null,"257e")),$l=()=>i.e("wiki-tools").then(i.bind(null,"1c08")),Ll=()=>i.e("wiki-tools").then(i.bind(null,"fadd")),ql=()=>i.e("wiki-tools").then(i.bind(null,"7228")),Ml=()=>i.e("wiki-tools").then(i.bind(null,"8d8a")),Sl=()=>i.e("wiki-tools").then(i.bind(null,"19d5")),El=()=>i.e("wiki-tools").then(i.bind(null,"6375")),Ol=()=>i.e("wiki-tools").then(i.bind(null,"5edb")),Dl=()=>i.e("wiki-tools").then(i.bind(null,"545b")),Tl=()=>i.e("wiki-tools").then(i.bind(null,"e1e4")),Al=()=>i.e("wiki-tools").then(i.bind(null,"8527")),Pl=()=>i.e("wiki-tools").then(i.bind(null,"1de6")),jl=()=>i.e("wiki-tools").then(i.bind(null,"85fb")),Nl=[{path:"/",name:"home",component:Cr},{path:"/dashboard",name:"dashboard",component:ur},{path:"/topoguide",name:"topoguide",component:Ao},{path:"/feed",name:"feed",component:Cr},{path:"/serac",name:"serac",component:xo},{path:"/whatsnew",name:"whatsnew",component:Tl},{path:"/associations-history",name:"associations-history",component:Pl},{path:"/auth",name:"auth",component:fl},{path:"/auth-sso",name:"auth-sso",component:fl},{path:"/account",name:"account",component:sl},{path:"/following",name:"following",component:cl},{path:"/preferences",name:"preferences",component:xl},{path:"/yeti/:document_id(\\d+)?/:page?",name:"yeti",component:lo},{path:"/wip",name:"workinprogress",component:Io},{path:"/forum",name:"forum",beforeEnter(){location.href=H["a"].urls.forum}}],zl=function(t,e,i){Nl.push({path:"/"+t.documentType+"s",name:t.documentType+"s",component:xa}),Nl.push({path:"/"+t.documentType+"s/:id(\\d+)/:lang?/:title?",name:t.documentType,component:e}),Nl.push({path:"/"+t.documentType+"s/version/:id(\\d+)/:lang/:version",name:t.documentType+"-version",component:e}),Nl.push({path:"/"+t.documentType+"s/history/:id(\\d+)/:lang",name:t.documentType+"-history",component:Al}),Nl.push({path:"/"+t.documentType+"s/edit/:id(\\d+)/:lang",name:t.documentType+"-edit",component:i}),Nl.push({path:"/"+t.documentType+"s/add/:lang?",name:t.documentType+"-add",component:i}),Nl.push({path:"/"+t.documentType+"s/diff/:id(\\d+)/:lang/:versionFrom/:versionTo",name:t.documentType+"-diff",component:jl})};zl(Nt["a"].objectDefinitions.area,Ca["a"],Cl),zl(Nt["a"].objectDefinitions.article,ka["a"],kl),zl(Nt["a"].objectDefinitions.book,$a["a"],$l),zl(Nt["a"].objectDefinitions.image,La["a"],Ll),zl(Nt["a"].objectDefinitions.map,qa["a"],ql),zl(Nt["a"].objectDefinitions.outing,Ma["a"],Ml),zl(Nt["a"].objectDefinitions.profile,Sa["a"],Sl),zl(Nt["a"].objectDefinitions.route,Ea["a"],El),zl(Nt["a"].objectDefinitions.waypoint,Oa["a"],Ol),zl(Nt["a"].objectDefinitions.xreport,Da["a"],Dl),Nl.push({path:"*",name:"404",component:co["a"]}),n["default"].use(Hs["a"]);const Il=new Hs["a"]({routes:Nl,mode:H["a"].routerMode,scrollBehavior(t,e,i){let s={};return!t.hash&&(i?(s=i,new Promise(t=>{this.app.$root.$once("trigger-scroll",()=>{t(s)})})):{x:0,y:0})}});var Fl=Il;const Vl=768,Ul=1023,Bl=1215,Rl=1407;function Hl(t){t.prototype.$screen=new t({name:"Screen",data(){return{width:window.innerWidth,height:window.innerHeight}},computed:{isMobile(){return this.width<=Vl},isTablet(){return this.width>Vl&&this.width<=Ul},isDesktop(){return this.width>Ul&&this.width<=Bl},isWidescreen(){return this.width>Bl&&this.width<=Rl},isFullHD(){return this.width>Rl}},created(){window.addEventListener("resize",this.onResize)},methods:{onResize(){this.width=window.innerWidth,this.height=window.innerHeight}}})}var Gl=i("9944");function Zl(t){t.filter("stripMarkdown",t=>Gl["a"].stripMarkdown(t))}function Wl(t){t.filter("uppercaseFirstLetter",(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}))}function Yl(t){t.prototype.$user=new t({name:"User",data(){var t,e,i,s,n,a,r;const o=this.$localStorage.get(H["a"].urls.api,{});return{userName:null!==(t=o["userName"])&&void 0!==t?t:null,id:null!==(e=o["id"])&&void 0!==e?e:null,lang:o["lang"],roles:null!==(i=o["roles"])&&void 0!==i?i:[],name:null!==(s=o["name"])&&void 0!==s?s:null,forumUsername:null!==(n=o["forumUsername"])&&void 0!==n?n:null,token:null!==(a=o["token"])&&void 0!==a?a:null,expire:null!==(r=o["expire"])&&void 0!==r?r:null}},computed:{isModerator(){return this.roles.includes("moderator")},isLogged(){return Boolean(this.token)}},watch:{token:{handler:"updateToken",immediate:!0}},created(){this.checkExpiration()},methods:{signIn(t,e){return y["a"].userProfile.login(t,e).then(t=>{this.lang=t.data.lang,this.token=t.data.token,this.roles=t.data.roles,this.id=t.data.id,this.userName=t.data.username,this.name=t.data.name,this.forumUsername=t.data.forum_username,this.expire=t.data.expire,this.$language.setCurrent(this.lang),this.commitToLocaleStorage_()})},signout(){y["a"].userProfile.logout(),this.token=null,this.roles=[],this.id=null,this.userName=null,this.name=null,this.forumUsername=null,this.expire=null,this.commitToLocaleStorage_()},updateAccount(t,e,i,s,n,a){return y["a"].userProfile.account.post(t,e,i,s,n,a).then(()=>{this.forumUsername=null===i?this.forumUsername:i,this.name=null===e?this.name:e,this.commitToLocaleStorage_()})},updateToken(){y["a"].setAuthorizationToken(this.token)},saveLangPreference(t){this.isLogged&&t!==this.lang&&(this.lang=t,this.commitToLocaleStorage_(),y["a"].userProfile.update_preferred_language(this.lang))},commitToLocaleStorage_(){this.$localStorage.set(H["a"].urls.api,this.$data)},checkExpiration(){if(!this.expire)return!0;const t=Date.now()/1e3,e=this.expire;return t>e&&(this.signout(),!0)}}})}i("9299"),n["default"].config.productionTip=!1,n["default"].config.silent=!1,n["default"].use(Rs),n["default"].use(r.a,{id:H["a"].googleAnalyticsKey,router:Fl,autoTracking:{shouldRouterUpdate(t,e){return t.name!==e.name||String(t.params.id)!==String(e.params.id)},pageviewTemplate(t){return{page:t.path,title:"Camptocamp.org",location:window.location.href}}},set:[{field:"anonymizeIp",value:!0}],fields:{cookieDomain:"localhost:8080"===window.location.host?"none":window.location.host}}),n["default"].use(l.a),n["default"].use(Tt),n["default"].use(It),n["default"].use(Ss),n["default"].use(zs),n["default"].use(Is),n["default"].use(bt),n["default"].use(Fs),n["default"].use(Es),n["default"].use(Hl),n["default"].use(Zl),n["default"].use(Wl),n["default"].use(Yl),new n["default"]({router:Fl,created(){this.$language.firstLoad()},render:t=>t(gt)}).$mount("#app"),Object(s["setDefaults"])({duration:3e3,pauseOnHover:!0})},"56f6":function(t,e,i){"use strict";i("2203")},"573e":function(t,e,i){"use strict";i("4208")},"578d":function(t,e,i){t.exports=i.p+"img/falling.c6509546.svg"},5796:function(t,e,i){t.exports=i.p+"img/methode_3x3.aba6fdc7.jpg"},5904:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fa-layers",[i("fa-icon",{staticClass:"sun",attrs:{icon:"sun",transform:"shrink-4 up-2 left-2",spin:""}}),t._v(" "),i("fa-icon",{style:{color:"white"},attrs:{icon:"cloud",transform:"shrink-3 flip-h left-1 down-3"}}),t._v(" "),i("fa-icon",{attrs:{icon:"cloud",transform:"shrink-5 flip-h left-1 down-3"}})],1)},n=[],a=(i("444c"),i("2877")),r={},o=Object(a["a"])(r,s,n,!1,null,"5779b940",null);e["default"]=o.exports},"595f":function(t,e,i){"use strict";i("2061")},"5a2e":function(t,e,i){},"5a33":function(t,e,i){"use strict";i("2e3b")},"5a67":function(t){t.exports=JSON.parse('{"area":{"letter":"a","fields":[{"id":"title"},{"id":"summary"},{"id":"description"},{"id":"lang","properties":{"url":"l"}},{"id":"area_type","properties":{"url":"atyp"}},{"id":"quality","properties":{"url":"qa"}}]},"article":{"letter":"c","fields":[{"id":"title"},{"id":"summary"},{"id":"description"},{"id":"lang","properties":{"url":"l"}},{"id":"activities","properties":{"url":"act"}},{"id":"article_categories","properties":{"url":"acat"}},{"id":"quality","properties":{"url":"qa"}},{"id":"article_type","properties":{"url":"atyp"}},{"id":"articles","properties":{"url":"c","associationEditorOrder":1}},{"id":"books","properties":{"url":"b","associationEditorOrder":4}},{"id":"outings","properties":{"url":"o","associationEditorOrder":5}},{"id":"routes","properties":{"url":"r","associationEditorOrder":3}},{"id":"waypoints","properties":{"url":"w","associationEditorOrder":2}},{"id":"images","properties":{"associationEditorOrder":8}},{"id":"users","properties":{"associationEditorOrder":7}},{"id":"xreports","properties":{"associationEditorOrder":6}}]},"book":{"letter":"b","fields":[{"id":"title"},{"id":"summary"},{"id":"description"},{"id":"lang","properties":{"url":"l"}},{"id":"author"},{"id":"editor"},{"id":"activities","properties":{"url":"act"}},{"id":"url"},{"id":"isbn"},{"id":"book_types","properties":{"url":"btyp"}},{"id":"publication_date"},{"id":"quality","properties":{"url":"qa"}},{"id":"langs"},{"id":"nb_pages"},{"id":"articles","properties":{"url":"c"}},{"id":"routes","properties":{"url":"r"}},{"id":"waypoints","properties":{"url":"w"}},{"id":"images"}]},"image":{"letter":"i","geoLocalized":true,"fields":[{"id":"title","properties":{"required":false}},{"id":"summary"},{"id":"description"},{"id":"lang","properties":{"url":"l"}},{"id":"activities","properties":{"url":"act"}},{"id":"author"},{"id":"camera_name"},{"id":"date_time"},{"id":"elevation","properties":{"url":"ialt"}},{"id":"height"},{"id":"image_categories","properties":{"url":"cat"}},{"id":"image_type","properties":{"url":"ityp"}},{"id":"iso_speed"},{"id":"file_size"},{"id":"filename"},{"id":"exposure_time"},{"id":"focal_length"},{"id":"fnumber"},{"id":"quality","properties":{"url":"qa"}},{"id":"width"},{"id":"areas","properties":{"associationEditorOrder":6}},{"id":"articles","properties":{"url":"c","associationEditorOrder":5}},{"id":"books","properties":{"url":"b","associationEditorOrder":7}},{"id":"outings","properties":{"associationEditorOrder":3}},{"id":"routes","properties":{"url":"r","associationEditorOrder":1}},{"id":"users","properties":{"associationEditorOrder":8}},{"id":"waypoints","properties":{"url":"w","associationEditorOrder":2}},{"id":"xreports","properties":{"associationEditorOrder":4}},{"id":"images","properties":{"associationEditorOrder":9}}]},"map":{"letter":"m","fields":[{"id":"title"},{"id":"summary"},{"id":"description"},{"id":"lang","properties":{"url":"l"}},{"id":"code"},{"id":"scale"},{"id":"editor"}]},"outing":{"letter":"o","geoLocalized":true,"fields":[{"id":"title"},{"id":"summary"},{"id":"description"},{"id":"conditions_levels","properties":{"activities":["skitouring","snowshoeing","ice_climbing","snow_ice_mixed"]}},{"id":"participants"},{"id":"access_comment"},{"id":"weather"},{"id":"timing"},{"id":"conditions"},{"id":"hut_comment"},{"id":"route_description"},{"id":"avalanches","properties":{"activities":["ice_climbing","skitouring","snowshoeing","snow_ice_mixed"]}},{"id":"lang","properties":{"url":"l"}},{"id":"access_condition"},{"id":"activities","properties":{"url":"act","required":true}},{"id":"avalanche_signs","properties":{"url":"avdate","activities":["ice_climbing","skitouring","snowshoeing","snow_ice_mixed"]}},{"id":"condition_rating","properties":{"url":"ocond"}},{"id":"date_end"},{"id":"date_start","properties":{"url":"date","required":false}},{"id":"disable_comments"},{"id":"elevation_access","properties":{"url":"oparka"}},{"id":"elevation_down_snow","properties":{"url":"swld","activities":["ice_climbing","mountain_climbing","skitouring","snow_ice_mixed","snowshoeing"]}},{"id":"elevation_max","properties":{"url":"oalt"}},{"id":"elevation_min"},{"id":"elevation_up_snow","properties":{"url":"swlu","activities":["ice_climbing","mountain_climbing","skitouring","snow_ice_mixed","snowshoeing"]}},{"id":"engagement_rating","properties":{"url":"erat","activities":["mountain_climbing","snow_ice_mixed"]}},{"id":"equipment_rating","properties":{"url":"prat","activities":["rock_climbing"]}},{"id":"frequentation","properties":{"url":"ofreq"}},{"id":"glacier_rating","properties":{"url":"oglac","activities":["mountain_climbing","skitouring","snow_ice_mixed","snowshoeing"]}},{"id":"global_rating","properties":{"url":"grat","activities":["mountain_climbing","rock_climbing","snow_ice_mixed"]}},{"id":"height_diff_difficulties","properties":{"url":"dhei","activities":["mountain_climbing","snow_ice_mixed"]}},{"id":"height_diff_down"},{"id":"height_diff_up","properties":{"url":"odif"}},{"id":"hiking_rating","properties":{"url":"hrat","activities":["hiking"]}},{"id":"hut_status"},{"id":"ice_rating","properties":{"url":"irat","activities":["ice_climbing"]}},{"id":"labande_global_rating","properties":{"url":"lrat","activities":["skitouring"]}},{"id":"length_total","properties":{"url":"olen"}},{"id":"lift_status"},{"id":"mtb_down_rating","properties":{"url":"mbdr","activities":["mountain_biking"]}},{"id":"mtb_up_rating","properties":{"url":"mbur","activities":["mountain_biking"]}},{"id":"partial_trip"},{"id":"participant_count"},{"id":"public_transport","properties":{"url":"owpt"}},{"id":"quality","properties":{"url":"qa"}},{"id":"rock_free_rating","properties":{"url":"frat","activities":["rock_climbing"]}},{"id":"ski_rating","properties":{"url":"trat","activities":["skitouring"]}},{"id":"snow_quality","properties":{"url":"swqual","activities":["ice_climbing","mountain_climbing","skitouring","snow_ice_mixed","snowshoeing"]}},{"id":"snow_quantity","properties":{"url":"swquan","activities":["ice_climbing","mountain_climbing","skitouring","snow_ice_mixed","snowshoeing"]}},{"id":"snowshoe_rating","properties":{"url":"wrat","activities":["snowshoeing"]}},{"id":"via_ferrata_rating","properties":{"url":"krat","activities":["via_ferrata"]}},{"id":"articles","properties":{"url":"c","associationEditorOrder":5}},{"id":"images","properties":{"associationEditorOrder":3}},{"id":"routes","properties":{"url":"r","required":true,"associationEditorOrder":1}},{"id":"users","properties":{"url":"u","required":true,"associationEditorOrder":2}},{"id":"xreports","properties":{"url":"x","associationEditorOrder":4}}]},"profile":{"letter":"u","geoLocalized":true,"fields":[{"id":"summary"},{"id":"description"},{"id":"lang"},{"id":"activities","properties":{"url":null,"required":false}},{"id":"categories","properties":{"url":null}},{"id":"name"},{"id":"images"}]},"route":{"letter":"r","geoLocalized":true,"fields":[{"id":"title"},{"id":"summary"},{"id":"route_history"},{"id":"description"},{"id":"slackline_anchor1","properties":{"activities":["slacklining"]}},{"id":"slackline_anchor2","properties":{"activities":["slacklining"]}},{"id":"slope","properties":{"activities":["snow_ice_mixed","ice_climbing","snowshoeing","skitouring"]}},{"id":"remarks"},{"id":"gear"},{"id":"external_resources"},{"id":"lang","properties":{"url":"l"}},{"id":"activities","properties":{"url":"act"}},{"id":"aid_rating","properties":{"url":"arat","activities":["rock_climbing","mountain_climbing"]}},{"id":"climbing_outdoor_type","properties":{"url":"crtyp","activities":["rock_climbing"]}},{"id":"configuration","properties":{"url":"conf","activities":["rock_climbing","via_ferrata","snow_ice_mixed","mountain_climbing","snowshoeing","skitouring"]}},{"id":"difficulties_height","properties":{"url":"ralt","activities":["rock_climbing","via_ferrata","snow_ice_mixed","mountain_climbing","ice_climbing"]}},{"id":"durations","properties":{"url":"time","activities":["hiking","rock_climbing","via_ferrata","snow_ice_mixed","mountain_biking","mountain_climbing","ice_climbing","snowshoeing","skitouring"]}},{"id":"elevation_max","properties":{"url":"rmaxa","activities":["hiking","rock_climbing","via_ferrata","snow_ice_mixed","mountain_biking","mountain_climbing","ice_climbing","snowshoeing","skitouring"]}},{"id":"elevation_min","properties":{"url":"rmina","activities":["hiking","rock_climbing","via_ferrata","snow_ice_mixed","mountain_biking","mountain_climbing","ice_climbing","snowshoeing","skitouring"]}},{"id":"engagement_rating","properties":{"url":"erat","activities":["rock_climbing","via_ferrata","snow_ice_mixed","mountain_climbing","ice_climbing"]}},{"id":"equipment_rating","properties":{"url":"prat","activities":["rock_climbing","via_ferrata","snow_ice_mixed","mountain_climbing","ice_climbing"]}},{"id":"exposition_rock_rating","properties":{"url":"rexpo","activities":["rock_climbing","mountain_climbing"]}},{"id":"glacier_gear","properties":{"url":"glac","activities":["hiking","rock_climbing","snow_ice_mixed","mountain_climbing","ice_climbing","snowshoeing","skitouring"]}},{"id":"global_rating","properties":{"url":"grat","activities":["rock_climbing","snow_ice_mixed","mountain_climbing","ice_climbing"]}},{"id":"height_diff_access","properties":{"url":"rappr","activities":["hiking","rock_climbing","via_ferrata","snow_ice_mixed","mountain_biking","mountain_climbing","ice_climbing","snowshoeing","skitouring"]}},{"id":"height_diff_difficulties","properties":{"url":"dhei","activities":["hiking","rock_climbing","via_ferrata","snow_ice_mixed","mountain_biking","mountain_climbing","ice_climbing","snowshoeing","skitouring"]}},{"id":"height_diff_down","properties":{"url":"ddif","activities":["hiking","rock_climbing","via_ferrata","snow_ice_mixed","mountain_biking","mountain_climbing","ice_climbing","snowshoeing","skitouring"]}},{"id":"height_diff_up","properties":{"url":"hdif","activities":["hiking","rock_climbing","via_ferrata","snow_ice_mixed","mountain_biking","mountain_climbing","ice_climbing","snowshoeing","skitouring"]}},{"id":"hiking_mtb_exposition","properties":{"url":"hexpo","activities":["hiking","mountain_biking"]}},{"id":"hiking_rating","properties":{"url":"hrat","activities":["hiking"]}},{"id":"ice_rating","properties":{"url":"irat","activities":["snow_ice_mixed","ice_climbing"]}},{"id":"labande_global_rating","properties":{"url":"lrat","activities":["skitouring"]}},{"id":"labande_ski_rating","properties":{"url":"srat","activities":["skitouring"]}},{"id":"lift_access"},{"id":"main_waypoint_id"},{"id":"mixed_rating","properties":{"url":"mrat","activities":["snow_ice_mixed","ice_climbing"]}},{"id":"mtb_down_rating","properties":{"url":"mbdr","activities":["mountain_biking"]}},{"id":"mtb_height_diff_portages","properties":{"url":"mbpush","activities":["mountain_biking"]}},{"id":"mtb_length_asphalt","properties":{"url":"mbroad","activities":["mountain_biking"]}},{"id":"mtb_length_trail","properties":{"url":"mbtrack","activities":["mountain_biking"]}},{"id":"mtb_up_rating","properties":{"url":"mbur","activities":["mountain_biking"]}},{"id":"orientations","properties":{"url":"fac"}},{"id":"quality","properties":{"url":"qa"}},{"id":"risk_rating","properties":{"url":"orrat","activities":["rock_climbing","snow_ice_mixed","mountain_climbing","ice_climbing"]}},{"id":"rock_free_rating","properties":{"url":"frat","activities":["rock_climbing","mountain_climbing"]}},{"id":"rock_required_rating","properties":{"url":"rrat","activities":["rock_climbing","mountain_climbing"]}},{"id":"rock_types","properties":{"url":"rock","activities":["rock_climbing","via_ferrata","snow_ice_mixed","mountain_climbing"]}},{"id":"route_length","properties":{"url":"rlen","activities":["hiking","slacklining","via_ferrata","snow_ice_mixed","mountain_biking","snowshoeing","skitouring"]}},{"id":"route_types","properties":{"url":"rtyp"}},{"id":"ski_exposition","properties":{"url":"sexpo","activities":["skitouring"]}},{"id":"ski_rating","properties":{"url":"trat","activities":["skitouring"]}},{"id":"slackline_height","properties":{"activities":["slacklining"]}},{"id":"slackline_type","properties":{"url":"sltyp","activities":["slacklining"]}},{"id":"snowshoe_rating","properties":{"url":"wrat","activities":["snowshoeing"]}},{"id":"via_ferrata_rating","properties":{"url":"krat","activities":["via_ferrata"]}},{"id":"articles","properties":{"url":"c","associationEditorOrder":4}},{"id":"books","properties":{"url":"b","associationEditorOrder":2}},{"id":"images","properties":{"associationEditorOrder":5}},{"id":"routes","properties":{"url":"r","associationEditorOrder":3}},{"id":"waypoints","properties":{"url":"w","associationEditorOrder":1}},{"id":"xreports","properties":{"url":"x","associationEditorOrder":6}}]},"waypoint":{"letter":"w","geoLocalized":true,"fields":[{"id":"title"},{"id":"summary"},{"id":"description"},{"id":"access","properties":{"waypoint_types":["access","climbing_indoor","climbing_outdoor","hut","local_product","slackline_spot"]}},{"id":"access_period","properties":{"waypoint_types":["access","camp_site","climbing_outdoor","gite","hut","local_product"]}},{"id":"lang","properties":{"url":"l"}},{"id":"access_time","properties":{"url":"tappt","waypoint_types":["climbing_outdoor","slackline_spot"]}},{"id":"best_periods","properties":{"url":"period","waypoint_types":["climbing_outdoor","slackline_spot"]}},{"id":"blanket_unstaffed","properties":{"waypoint_types":["hut","shelter"]}},{"id":"capacity","properties":{"url":"hucap","waypoint_types":["bivouac","camp_site","gite","hut","shelter"]}},{"id":"capacity_staffed","properties":{"url":"hscap","waypoint_types":["camp_site","gite","hut"]}},{"id":"children_proof","properties":{"url":"chil","waypoint_types":["climbing_outdoor"]}},{"id":"climbing_indoor_types","properties":{"url":"ctin","waypoint_types":["climbing_indoor"]}},{"id":"climbing_outdoor_types","properties":{"url":"ctout","waypoint_types":["climbing_outdoor"]}},{"id":"climbing_rating_max","properties":{"url":"tmaxr","waypoint_types":["climbing_indoor","climbing_outdoor"]}},{"id":"climbing_rating_median","properties":{"url":"tmedr","waypoint_types":["climbing_indoor","climbing_outdoor"]}},{"id":"climbing_rating_min","properties":{"url":"tminr","waypoint_types":["climbing_indoor","climbing_outdoor"]}},{"id":"climbing_styles","properties":{"url":"tcsty","waypoint_types":["climbing_indoor","climbing_outdoor"]}},{"id":"custodianship","properties":{"url":"hsta","waypoint_types":["camp_site","gite","hut"]}},{"id":"elevation","properties":{"url":"walt"}},{"id":"elevation_min","properties":{"waypoint_types":["access"]}},{"id":"equipment_ratings","properties":{"url":"anchq","waypoint_types":["climbing_outdoor"]}},{"id":"gas_unstaffed","properties":{"waypoint_types":["hut","shelter"]}},{"id":"ground_types","properties":{"waypoint_types":["paragliding_landing","paragliding_takeoff"]}},{"id":"heating_unstaffed","properties":{"waypoint_types":["hut","shelter"]}},{"id":"height_max","properties":{"url":"tmaxh","waypoint_types":["climbing_indoor","climbing_outdoor"]}},{"id":"height_median","properties":{"url":"tmedh","waypoint_types":["climbing_indoor","climbing_outdoor"]}},{"id":"height_min","properties":{"url":"tminh","waypoint_types":["climbing_indoor","climbing_outdoor"]}},{"id":"length","properties":{"url":"len","waypoint_types":["paragliding_landing","paragliding_takeoff"]}},{"id":"lift_access","properties":{"url":"plift","waypoint_types":["access"]}},{"id":"maps_info"},{"id":"matress_unstaffed","properties":{"waypoint_types":["hut","shelter"]}},{"id":"orientations","properties":{"url":"wfac","waypoint_types":["climbing_outdoor","paragliding_landing","paragliding_takeoff","slackline_spot"]}},{"id":"paragliding_rating","properties":{"url":"pgrat","waypoint_types":["paragliding_landing","paragliding_takeoff"]}},{"id":"parking_fee","properties":{"waypoint_types":["access"]}},{"id":"phone","properties":{"waypoint_types":["camp_site","climbing_indoor","gite","hut","local_product"]}},{"id":"phone_custodian","properties":{"waypoint_types":["camp_site","gite","hut"]}},{"id":"product_types","properties":{"url":"ftyp","waypoint_types":["local_product"]}},{"id":"prominence","properties":{"url":"prom","waypoint_types":["summit"]}},{"id":"public_transportation_rating","properties":{"url":"tp","waypoint_types":["access"]}},{"id":"public_transportation_types","properties":{"url":"tpty","waypoint_types":["access"]}},{"id":"quality","properties":{"url":"qa"}},{"id":"rain_proof","properties":{"url":"rain","waypoint_types":["climbing_outdoor"]}},{"id":"rock_types","properties":{"url":"wrock","waypoint_types":["climbing_outdoor"]}},{"id":"routes_quantity","properties":{"url":"rqua","waypoint_types":["climbing_indoor","climbing_outdoor"]}},{"id":"slackline_length_max","properties":{"waypoint_types":["slackline_spot"]}},{"id":"slackline_length_min","properties":{"waypoint_types":["slackline_spot"]}},{"id":"slackline_types","properties":{"waypoint_types":["slackline_spot"]}},{"id":"waypoint_slope","properties":{"waypoint_types":["paragliding_landing","paragliding_takeoff"]}},{"id":"snow_clearance_rating","properties":{"url":"psnow","waypoint_types":["access"]}},{"id":"url","properties":{"waypoint_types":["camp_site","climbing_indoor","climbing_outdoor","gite","hut","local_product","weather_station","webcam"]}},{"id":"waypoint_type","properties":{"url":"wtyp"}},{"id":"weather_station_types","properties":{"waypoint_types":["weather_station"],"url":"whtyp"}},{"id":"articles","properties":{"url":"c","associationEditorOrder":3}},{"id":"books","properties":{"url":"b","associationEditorOrder":2}},{"id":"images","properties":{"associationEditorOrder":4}},{"id":"waypoints","properties":{"url":"w","associationEditorOrder":1}},{"id":"waypoints","properties":{"name":"waypoint_children","url":"w","associationEditorOrder":1}}]},"xreport":{"letter":"x","geoLocalized":true,"fields":[{"id":"title"},{"id":"summary"},{"id":"description"},{"id":"place"},{"id":"route_study"},{"id":"conditions"},{"id":"training"},{"id":"motivations"},{"id":"group_management"},{"id":"risk"},{"id":"time_management"},{"id":"safety"},{"id":"reduce_impact"},{"id":"increase_impact"},{"id":"modifications"},{"id":"other_comments"},{"id":"lang","properties":{"url":"l"}},{"id":"elevation","properties":{"url":"xalt"}},{"id":"date"},{"id":"event_type","properties":{"url":"xtyp"}},{"id":"event_activity","properties":{"url":"act"}},{"id":"nb_participants","properties":{"url":"xpar"}},{"id":"nb_impacted","properties":{"url":"ximp"}},{"id":"rescue"},{"id":"avalanche_level"},{"id":"avalanche_slope"},{"id":"severity","properties":{"url":"xsev"}},{"id":"author_status"},{"id":"activity_rate"},{"id":"age"},{"id":"gender"},{"id":"previous_injuries"},{"id":"autonomy"},{"id":"qualification"},{"id":"supervision"},{"id":"disable_comments"},{"id":"anonymous"},{"id":"quality","properties":{"url":"qa"}},{"id":"articles","properties":{"url":"c","helper":null,"associationEditorOrder":6}},{"id":"images","properties":{"associationEditorOrder":5}},{"id":"outings","properties":{"url":"o","helper":null,"associationEditorOrder":1}},{"id":"routes","properties":{"url":"r","helper":null,"associationEditorOrder":3}},{"id":"users","properties":{"associationEditorOrder":2}},{"id":"waypoints","properties":{"associationEditorOrder":4}}]}}')},"5a9a":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dropdown control",class:{"is-active":t.promise.data}},[i("div",{staticClass:"control has-icons-left input-container"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],ref:"input",staticClass:"input",class:{"is-danger":t.hasError,"is-small":t.isSmall},attrs:{type:"text",placeholder:t.placeholder||t.$gettext("Search ...")},domProps:{value:t.searchText},on:{input:[function(e){e.target.composing||(t.searchText=e.target.value)},t.onInput],focus:t.onInput}}),t._v(" "),i("span",{staticClass:"icon is-left"},[i("fa-icon",{attrs:{icon:"search"}})],1)]),t._v(" "),t.promise.data&&t.showOptions?i("div",{staticClass:"dropdown-menu",attrs:{role:"menu"}},[i("div",{staticClass:"dropdown-content"},[t._l(t.documentTypesWithResults,(function(e){return i("div",{key:e},[t.documentTypes_.length>1?i("div",{staticClass:"dropdown-item has-text-weight-bold is-size-5"},[t._v("\n          "+t._s(t._f("uppercaseFirstLetter")(t.$gettext(e+"s")))+"\n        ")]):t._e(),t._v(" "),t._l(t.promise.data[e+"s"].documents,(function(e){return i("div",{key:e.document_id,staticClass:"dropdown-item dropdown-item-option columns is-gapless has-cursor-pointer",on:{mousedown:function(i){return t.toggle(e)}}},[t.isSelected(e)?i("div",{staticClass:"column has-text-success is-size-1 is-narrow"},[i("fa-icon",{attrs:{icon:"check-circle"}})],1):t._e(),t._v(" "),i("div",{staticClass:"column is-size-6"},[i("document-title",{attrs:{document:e}}),t._v(" "),i("br"),t._v(" "),e.elevation||e.elevation_max?i("span",[i("span",{attrs:{title:t.$gettext("elevation_max")}},[i("fa-icon",{staticClass:"has-text-primary",attrs:{icon:"sort-amount-up"}})],1),t._v("\n              "+t._s(e.elevation||e.elevation_max)+" m\n            ")]):t._e(),t._v(" "),e.height_diff_up?i("span",[i("icon-height-diff-up",{staticClass:"has-text-primary"}),t._v("\n              "+t._s(e.height_diff_up)+" m\n            ")],1):t._e(),t._v(" "),e.forum_username?i("span",{staticClass:"is-italic"},[t._v(" @"+t._s(e.forum_username)+" ")]):t._e(),t._v(" "),e.area_type?i("span",{staticClass:"is-italic"},[t._v("\n              "+t._s(t._f("uppercaseFirstLetter")(t.$gettext(e.area_type,"area_types")))+"\n            ")]):t._e(),t._v("\n\n             \n          ")],1),t._v(" "),i("div",{staticClass:"column has-text-primary is-size-2 is-narrow"},["u"==e.type?i("icon-document",{attrs:{"document-type":"profile"}}):"a"==e.type?i("icon-document",{attrs:{"document-type":"area"}}):e.activities?i("activities",{attrs:{activities:e.activities}}):e.waypoint_type?i("icon-waypoint-type",{attrs:{"waypoint-type":e.waypoint_type}}):t._e()],1)])})),t._v(" "),t.showMoreResultsLink?i("router-link",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"dropdown-item is-italic has-text-centered",attrs:{to:{name:e+"s",query:{q:t.searchText}}},nativeOn:{click:function(e){return t.closeDropdown(e)}}},[t._v("\n          See more results\n        ")]):t._e()],2)})),t._v(" "),t.proposeCreation?i("div",[i("hr",{staticClass:"dropdown-divider"}),t._v(" "),i("div",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"dropdown-item has-text-weight-bold is-size-5"},[t._v("No match?")]),t._v(" "),t._l(t.documentTypes_,(function(t){return i("add-link",{key:t+"_add",staticClass:"dropdown-item dropdown-item-option is-size-6",attrs:{"document-type":t}})}))],2):t._e()],2)]):t._e()])},n=[],a=(i("ddb0"),i("f7fe")),r=i.n(a),o=i("4b81"),l=i("188b"),c=i("25c4"),u={mixins:[o["b"],o["a"]],props:{value:{type:[Array,Object],default:null},multiple:{type:Boolean,default:!1},documentType:{type:[Array,String],required:!0},proposeCreation:{type:Boolean,default:!1},showMoreResultsLink:{type:Boolean,default:!1},showOptions:{type:Boolean,default:!0},isSmall:{type:Boolean,default:!1},clearInputOnToggle:{type:Boolean,default:!1}},data(){return{searchText:"",promise:{}}},computed:{value_:{get(){return this.multiple?this.value?this.value:[]:this.value},set(t){this.disabled||this.$emit("input",t)}},documentTypes_(){return Array.isArray(this.documentType)?this.documentType:[this.documentType]},documentTypesWithResults(){const t=this.promise.data;return this.documentTypes_.filter(e=>t[e+"s"]&&0!==t[e+"s"].documents.length)},letterTypes(){return this.documentTypes_.map(t=>c["a"].objectDefinitions[t].letter)}},created(){window.addEventListener("click",this.onWindowClick)},beforeDestroy(){window.removeEventListener("click",this.onWindowClick)},methods:{focus(){this.$refs.input.focus()},closeDropdown(){this.promise={}},onWindowClick(t){this.$el.contains(t.target)||this.closeDropdown()},onInput:r()((function(){!this.searchText||this.searchText.length<3?this.promise={}:this.loadOptions()}),300),loadOptions(){this.promise=l["a"].search({q:this.searchText,t:this.letterTypes.join(","),limit:7}).then(t=>{t.data.profiles=t.data.users,this.$emit("load-options",t.data)})},isSelected(t){return this.multiple?this.$documentUtils.isInArray(this.value_,t):!!this.value&&this.value.document_id===t.document_id},toggle(t){if(this.multiple){const e=[];let i=!1;for(const s of this.value_)s.document_id===t.document_id?i=!0:e.push(s);i||(e.push(t),this.$emit("add",t)),this.value_=e}else this.value_=t,t&&this.$emit("add",t);this.closeDropdown(),this.clearInputOnToggle&&(this.searchText="")}}},d=u,m=(i("9616"),i("2877")),p=Object(m["a"])(d,s,n,!1,null,"22175440",null);e["default"]=p.exports},"5b9f":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fa-icon",{attrs:{icon:"arrow-right"}})},n=[],a=i("2877"),r={},o=Object(a["a"])(r,s,n,!1,null,null,null);e["default"]=o.exports},"5ba1":function(t,e,i){t.exports=i.p+"img/serac.1c5ac7a2.avif"},"5c0b":function(t,e,i){"use strict";i("9c0c")},"5c7b":function(t,e,i){t.exports=i.p+"img/methode_3x3.dc0a1588.webp"},"5cf1":function(t,e,i){},"5d16":function(t,e,i){},"5e01":function(t,e,i){"use strict";i("c3c3")},"5ea7":function(t,e,i){"use strict";i("8906")},"5f22":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return"profile"!=t.documentType?i("router-link",{attrs:{to:{name:t.documentType+"-version",params:{id:t.id,version:t.version,lang:t.lang}}}},[t._t("default")],2):i("span",[t._t("default")],2)},n=[],a=i("a50d"),r={mixins:[a["b"]],props:{version:{type:Number,required:!0},lang:{type:String,required:!0},id:{type:Number,required:!0}}},o=r,l=i("2877"),c=Object(l["a"])(o,s,n,!1,null,null,null);e["default"]=c.exports},"5fff":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"section has-text-centered"},[s("html-header",{attrs:{title:t.$gettext("Page not found")}}),t._v(" "),s("div",{staticClass:"content"},[s("h1",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Ooops")]),t._v(" "),s("h3",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Page not found")]),t._v(" "),s("p",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("The page you are looking for does not exist or is broken.")]),t._v(" "),s("p",[s("a",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{href:"javascript:history.go(-1)"}},[t._v("Go to the previous page")]),t._v(" "),s("span",[t._v(" ")]),t._v(" "),s("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("or try the following pages:")])])]),t._v(" "),s("div",{staticClass:"notfound-buttons"},t._l(t.buttons,(function(e,i){return s("router-link",{key:i,staticClass:"is-size-4 has-text-normal has-hover-background has-text-weight-bold",attrs:{to:e.to}},[s(e.iconComponent||"fa-icon",{tag:"component",staticClass:"has-text-secondary is-size-1",attrs:{icon:e.icon}}),t._v(" "),s("div",[t._v(t._s(t._f("uppercaseFirstLetter")(e.text)))])],1)})),1),t._v(" "),s("img",{staticClass:"falling-image",attrs:{src:i("578d")}})],1)},n=[];const a=function(t,e){return{to:t+"s",iconComponent:"icon-"+t,text:e}};var r={data(){return{buttons:[{to:{name:"home"},icon:"home",text:this.$gettext("Home")},a("outing",this.$gettext("outings")),a("waypoint",this.$gettext("waypoints")),a("route",this.$gettext("routes")),a("article",this.$gettext("routes")),a("book",this.$gettext("books")),a("xreport",this.$gettext("xreports")),a("image",this.$gettext("images")),a("area",this.$gettext("areas"))]}}},o=r,l=(i("5195"),i("2877")),c=Object(l["a"])(o,s,n,!1,null,"0f22925e",null);e["a"]=c.exports},6038:function(t,e,i){},6050:function(t,e,i){},"60a4":function(t,e,i){t.exports=i.p+"img/levels-danger.ab1771e4.svg"},6197:function(t,e,i){"use strict";i("5319"),i("ddb0");var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"view-container"},[i("loading-notification",{attrs:{promise:t.promise}}),t._v(" "),t.document&&!t.document.not_authorized?i("div",[t.isDraftView?t._e():i("html-header",{attrs:{title:t.title}}),t._v(" "),i("document-version-banner",{attrs:{version:t.version,document:t.document}}),t._v(" "),i("div",{staticClass:"box"},[t.isDraftView?t._e():i("span",{staticClass:"is-pulled-right button-bar no-print"},[i("follow-button",{attrs:{document:t.document}}),t._v(" "),i("tags-button",{attrs:{document:t.document}}),t._v(" "),"profile"!=t.documentType&&t.isNormalView?i("social-network-sharing"):t._e(),t._v(" "),t.isEditable&&"image"!==t.documentType?i("span",{attrs:{title:t.$gettext("Add images")},on:{click:function(e){return t.$refs.imagesUploader.show()}}},[i("fa-layers",[i("fa-icon",{attrs:{icon:"image"}}),t._v(" "),i("fa-icon",{style:{color:"white"},attrs:{icon:"circle",transform:"shrink-5 right-5 up-6"}}),t._v(" "),i("fa-icon",{style:{color:"green"},attrs:{icon:"plus-circle",transform:"shrink-5 right-5 up-5"}})],1)],1):t._e(),t._v(" "),t.isEditable?i("edit-link",{attrs:{document:t.document,lang:t.lang,title:t.$gettext("Edit")}},[i("icon-edit")],1):t._e()],1),t._v(" "),i("h1",{staticClass:"title is-1"},[t._t("icon-document",[i("icon-document",{attrs:{"document-type":t.documentType}})]),t._v(" "),i("document-title",{attrs:{document:t.document,"uppercase-first-letter":""}}),t._v(" "),"outing"==t.documentType?i("span",{staticClass:"outing-date is-size-5"},[t._v("\n          "+t._s(t._f("uppercaseFirstLetter")(t.$documentUtils.getOutingDatesLocalized(t.document)))+"\n        ")]):"xreport"==t.documentType?i("span",{staticClass:"outing-date is-size-5"},[t._v("\n          "+t._s(t._f("uppercaseFirstLetter")(t.$dateUtils.toLocalizedString(t.document.date,"PP")))+"\n        ")]):t._e()],2)]),t._v(" "),i("images-uploader",{ref:"imagesUploader",attrs:{lang:t.lang,"parent-document":t.document}})],1):t._e()],1)},n=[],a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.version?i("div",{staticClass:"notification is-warning has-text-centered"},[i("p",[t._v("\n    This is an archived version of this page, as of "+t._s(t.$dateUtils.toLocalizedString(t.version.written_at,"PPPPpp"))+"\n  ")]),t._v(" "),t.isFirstVersion?i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("This is the first version")]):i("span",[t._v("\n    ("),i("diff-link",{attrs:{"document-type":t.documentType,id:t.document.document_id,lang:t.$route.params.lang,"version-from":t.version.previous_version_id,"version-to":t.$route.params.version}}),t._v(")\n    "),i("version-link",{attrs:{"document-type":t.documentType,id:t.document.document_id,lang:t.$route.params.lang,version:t.version.previous_version_id}},[t._v("\n      ←\n      "),i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("previous version")])])],1),t._v("\n  |\n  "),i("document-link",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{document:t.document,lang:t.$route.params.lang}},[t._v(" see actual version ")]),t._v("\n  ("),i("diff-link",{attrs:{"document-type":t.documentType,id:t.document.document_id,lang:t.$route.params.lang,"version-from":t.$route.params.version,"version-to":"last"}}),t._v(") |\n  "),t.isLastVersion?i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("This is the last version")]):i("span",[i("version-link",{attrs:{"document-type":t.documentType,id:t.document.document_id,lang:t.$route.params.lang,version:t.version.next_version_id}},[i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("next version")]),t._v("\n      →\n    ")]),t._v("\n    ("),i("diff-link",{attrs:{"document-type":t.documentType,id:t.document.document_id,lang:t.$route.params.lang,"version-to":t.version.next_version_id,"version-from":t.$route.params.version}}),t._v(")\n  ")],1),t._v(" "),i("p",[i("icon-document",{attrs:{"document-type":"profile"}}),t._v(" "),i("contributor-link",{attrs:{contributor:t.version}}),t._v(" : "),i("em",[t._v(t._s(t.version.comment))])],1),t._v(" "),t.$user.isModerator?i("p",[t.isLastVersion?t._e():i("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"button is-primary",on:{click:function(e){return t.$refs.restoreVersionConfirmationWindow.show()}}},[t._v("\n      Restore this version\n    ")])]):t._e(),t._v(" "),i("revert-version-window",{ref:"restoreVersionConfirmationWindow",attrs:{document:t.document,lang:t.document.cooked.lang}})],1):t._e()},r=[],o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("modal-confirmation",{ref:"modalWindow",attrs:{promise:t.promise},on:{confirm:t.restoreVersion}},[i("span",{attrs:{slot:"title"},slot:"title"},[i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Restore this version")])]),t._v(" "),i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v(" Are you sure you want to revert to this version of the document? ")])])},l=[],c=i("188b"),u=i("a50d"),d={mixins:[u["a"]],props:{lang:{type:String,required:!0}},data(){return{promise:null}},methods:{show(){this.$refs.modalWindow.show()},restoreVersion(){this.promise=c["a"].moderator.revertDocument(this.document.document_id,this.lang,this.$route.params.version).then(()=>{this.$refs.modalWindow.hide(),this.$router.push({name:this.documentType,id:this.document.document_id})})}}},m=d,p=i("2877"),h=Object(p["a"])(m,o,l,!1,null,null,null),v=h.exports,f={components:{RevertVersionWindow:v},mixins:[u["a"]],props:{version:{type:Object,default:null}},computed:{isFirstVersion(){return null===this.version.previous_version_id},isLastVersion(){return null===this.version.next_version_id}}},_=f,g=Object(p["a"])(_,a,r,!1,null,null,null),b=g.exports,y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.canFollow?i("a",{class:{"follow-button-yellow":t.followed},attrs:{title:t.tooltip},on:{click:t.onClick}},[i("fa-icon",{attrs:{icon:"star"}})],1):t._e()},w=[],x={mixins:[u["a"]],data(){return{followed:null}},computed:{canFollow(){return"u"===this.document.type&&this.$user.isLogged&&this.$user.id!==this.document.document_id},tooltip(){return this.followed?this.$gettext("Stop following this contributor"):this.$gettext("See the activity of this contributor in your feed")}},created(){this.canFollow&&c["a"].userProfile.following.isFollowing(this.document.document_id).then(t=>{this.followed=t.data.is_following})},methods:{onClick(){this.followed?c["a"].userProfile.following.remove(this.document.document_id).then(()=>{this.followed=!1}):c["a"].userProfile.following.add(this.document.document_id).then(()=>{this.followed=!0})}}},C=x,k=(i("384b"),Object(p["a"])(C,y,w,!1,null,"7e100180",null)),$=k.exports,L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",t._b({directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"social-network-sharing",attrs:{"addthis:ui_click":"true",title:t.$gettext("Share")}},"span",t.$attrs,!1),[i("fa-icon",{attrs:{icon:"share-alt"}})],1)},q=[],M=i("4231"),S=M["a"],E=Object(p["a"])(S,L,q,!1,null,null,null),O=E.exports,D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.canTag?i("a",{staticClass:"todo-button",class:{active:t.todo},attrs:{title:t.tooltip},on:{click:t.onClick}},[i("fa-icon",{attrs:{icon:"star"}})],1):t._e()},T=[],A=i("4b44"),P={mixins:[u["a"]],data(){return{todo:!1}},computed:{canTag(){return"r"===this.document.type&&this.$user.isLogged},tooltip(){return this.todo?this.$gettext("Unmark this route as to do"):this.$gettext("Mark this route as to do")}},async created(){this.canTag&&(this.todo=(await c["a"].tags.get(this.document)).data.todo)},methods:{async onClick(){try{await(this.todo?c["a"].tags.remove(this.document):c["a"].tags.add(this.document)),this.todo=!this.todo}catch(t){Object(A["toast"])({message:this.$gettext("An error occurred, couldn't (un)mark route as to do"),type:"is-danger"})}}}},j=P,N=(i("3de2"),Object(p["a"])(j,D,T,!1,null,"3efa28b7",null)),z=N.exports,I={computed:{isVersionView(){return this.$route.name.endsWith("-version")},isDraftView(){return this.$route.name.endsWith("-edit")||this.$route.name.endsWith("-add")},isNormalView(){return!this.isDraftView&&!this.isVersionView}}},F={mixins:[I],computed:{isDeletable(){if(!this.isEditable)return!1;if("outing"===this.documentType){for(const t of this.document.associations.users)if(t.document_id===this.$user.id)return!0}else if("image"===this.documentType){if(["personal","copyright"].includes(this.document.image_type)&&this.document.creator.user_id===this.$user.id)return!0}else if("xreport"===this.documentType){if(this.document.author.user_id===this.$user.id)return!0}else if("article"===this.documentType&&"personal"===this.document.article_type&&this.document.author.user_id===this.$user.id)return!0;return!("profile"===this.documentType||"area"===this.documentType||!this.$user.isModerator)},isEditable(){if(!this.$user.isLogged||!this.isNormalView)return!1;if(this.$user.isModerator)return!0;if(this.document.protected)return!1;if(["route","waypoint","area","book","map"].includes(this.documentType))return!0;if("profile"===this.documentType)return this.document.document_id===this.$user.id;if("article"===this.documentType)return"collab"===this.document.article_type||this.document.author.user_id===this.$user.id;if("xreport"===this.documentType){if(this.document.author.user_id===this.$user.id)return!0;for(const t of this.document.associations.users)if(t.document_id===this.$user.id)return!0;return!1}if("outing"===this.documentType){for(const t of this.document.associations.users)if(t.document_id===this.$user.id)return!0;return!1}if("image"===this.documentType){if("collaborative"===this.document.image_type)return!0;if(["personal","copyright"].includes(this.document.image_type))return this.document.creator.user_id===this.$user.id;throw new Error("Unexpected image_type : "+this.document.image_type)}return!1}}},V=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("modal-card",{ref:"modalWindow",staticClass:"images-uploader",attrs:{wide:""}},[i("div",{staticClass:"columns is-multiline images-uploader-files"},[t._l(t.images,(function(e,s){return i("div",{key:s,staticClass:"column is-one-third-fullhd is-one-third-widescreen is-half-desktop is-half-tablet is-12-mobile"},[i("image-uploader",{attrs:{"categories-edition":t.categoriesEdition,status:e.status,"data-url":e.dataUrl,"percent-completed":e.percentCompleted,document:e.document,"is-initial":"INITIAL"===e.status,"is-saving":"SAVING"===e.status,"is-success":"SUCCESS"===e.status,"is-failed":"FAILED"===e.status},on:{"delete-image":function(i){return t.onDeleteImage(e)},"retry-upload":function(i){return t.startUpload(e)}}})],1)})),t._v(" "),i("div",{staticClass:"column is-one-third-fullhd is-one-third-widescreen is-half-desktop is-half-tablet is-12-mobile"},[i("div",{staticClass:"images-uploader-message",class:{"images-uploader-message-dragover":t.dragOver}},[i("input",{ref:"fileInput",staticClass:"input-file",attrs:{type:"file",multiple:"",accept:"image/*"},on:{change:t.onFilesChange,dragenter:function(e){t.dragOver=!0},dragover:function(e){t.dragOver=!0},dragleave:function(e){t.dragOver=!1},drop:function(e){t.dragOver=!1}}}),t._v(" "),i("span",{domProps:{innerHTML:t._s(t.$gettext("Drop images here or click to upload"))}})])])],2),t._v(" "),i("div",{staticClass:"buttons",attrs:{slot:"footer"},slot:"footer"},[i("button",{staticClass:"button is-information",attrs:{disabled:0===t.documents.length},on:{click:function(e){t.categoriesEdition=!t.categoriesEdition}}},[t.categoriesEdition?i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Edit titles")]):i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Edit categories")])]),t._v(" "),i("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"button is-primary",class:{"is-loading":t.promise.loading},attrs:{disabled:!t.readyForSaving},on:{click:t.save}},[t._v("\n      Save\n    ")]),t._v(" "),i("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"button is-warning",on:{click:t.hide}},[t._v("Close")])])])},U=[],B=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card"},[i("div",{staticClass:"card-image img-container",style:t.dataUrl?"background-image: url("+t.dataUrl+")":""},[i("delete-button",{staticClass:"delete-button",on:{click:function(e){return t.$emit("delete-image")}}}),t._v(" "),t.isSaving||t.isFailed?i("progress",{staticClass:"progress is-large",class:{"is-success":t.isSuccess,"is-warning":t.isSaving,"is-danger":t.isFailed},attrs:{max:"100"},domProps:{value:t.percentCompleted}},[t._v("\n      "+t._s(t.percentCompleted)+"%\n    ")]):t._e()],1),t._v(" "),i("div",{staticClass:"card-content"},[t.isFailed?i("div",{staticClass:"buttons is-centered buttons-if-failed"},[i("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"button is-primary",on:{click:function(e){return t.$emit("retry-upload")}}},[t._v("Retry")]),t._v(" "),i("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"button is-danger",on:{click:function(e){return t.$emit("delete-image")}}},[t._v("Cancel")])]):i("div",[t.categoriesEdition?i("div",{staticClass:"columns is-mobile is-multiline is-gapless category-select"},t._l(t.imageCategories,(function(e){return i("div",{key:e,staticClass:"column is-4"},[i("label",{staticClass:"checkbox"},[i("input",{attrs:{type:"checkbox"},domProps:{checked:t.document.categories.includes(e)},on:{input:function(i){return t.toggleCategory(e)}}}),t._v("\n            "+t._s(t._f("uppercaseFirstLetter")(t.$gettext(e,"image_categories")))+"\n          ")])])})),0):i("div",[i("div",{staticClass:"field title-input"},[i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.document.locales[0].title,expression:"document.locales[0].title"}],attrs:{type:"text",placeholder:t.$gettext("title")},domProps:{value:t.document.locales[0].title},on:{input:function(e){e.target.composing||t.$set(t.document.locales[0],"title",e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"columns is-mobile is-gapless licence-select"},t._l(Array.from(t.licences),(function(e){var s=e[0],n=e[1];return i("div",{key:s,staticClass:"column has-text-centered",class:{"has-background-success":t.document.image_type==s,"is-4":3===t.licences.size,"is-6":2===t.licences.size},on:{click:function(e){t.document.image_type=s}}},[i("label",[t._v(t._s(t.licences.length)+" "+t._s(t._f("uppercaseFirstLetter")(n)))])])})),0)])])])])},R=[],H=i("25c4"),G={props:{categoriesEdition:{type:Boolean,required:!0},dataUrl:{type:String,default:null},status:{type:String,required:!0},percentCompleted:{type:Number,required:!0},document:{type:Object,required:!0},isInitial:{type:Boolean,required:!0},isSaving:{type:Boolean,required:!0},isSuccess:{type:Boolean,required:!0},isFailed:{type:Boolean,required:!0}},data(){const t={licences:new Map([["collaborative",this.$gettext("collab")],["personal",this.$gettext("personal")]])};return this.$user.isModerator&&t.licences.set("copyright",this.$gettext("copyright")),t},computed:{imageCategories(){return H["a"].objectDefinitions.image.fields.categories.values}},methods:{toggleCategory(t){const e=this.document.categories.slice(0);e.includes(t)?e.splice(e.indexOf(t),1):e.push(t),this.document.categories=e}}},Z=G,W=(i("ed59"),Object(p["a"])(Z,B,R,!1,null,"1ac31dc4",null)),Y=W.exports,J=i("a9b2"),Q={components:{ImageUploader:Y},props:{lang:{type:String,required:!0},parentDocument:{type:Object,required:!0}},data(){return{images:{},categoriesEdition:!1,promise:{},readyForSaving:!1,dragOver:!1}},computed:{imageType(){return"o"===this.parentDocument.type||"u"===this.parentDocument.type||"x"===this.parentDocument.type?"personal":"c"===this.parentDocument.type?"collab"===this.parentDocument.article_type?"collaborative":"personal":"collaborative"},documents(){const t=[];for(const e of Object.values(this.images))t.push(e.document);return t},associationsArrayName(){return this.$documentUtils.getAssociationArrayName(this.parentDocument)}},watch:{$route:"clean"},mounted(){window.addEventListener("dragover",this.preventDrag,!1),window.addEventListener("drop",this.preventDrag,!1)},beforeDestroy(){window.removeEventListener("dragover",this.preventDrag),window.removeEventListener("drop",this.preventDrag)},methods:{preventDrag(t){t.target!==this.$refs.fileInput&&t.preventDefault()},show(){this.$refs.modalWindow.show()},hide(){this.$refs.modalWindow.hide()},clean(){this.images={},this.categoriesEdition=!1,this.promise={},this.readyForSaving=!1,this.dragOver=!1},onDeleteImage(t){void 0!==this.images[t.key]&&this.$delete(this.images,t.key),this.computeReadyForSaving()},onFilesChange(t){for(const e of t.target.files){const t=e.name+"#"+e.lastModified;if(void 0===this.images[t]){const i=this.buildImageObject(e,t);this.$set(this.images,i.key,i),this.startUpload(i)}}t.target.value="",this.computeReadyForSaving()},buildImageObject(t,e){const i=this.$documentUtils.buildDocument("image",this.lang);return i.activities=this.parentDocument.activities?this.parentDocument.activities.slice(0):[],i.geometry.geom=this.parentDocument.geometry?this.parentDocument.geometry.geom:null,i.file_size=t.size,i.image_type=this.imageType,i.quality="medium",i.associations[this.associationsArrayName]=[{document_id:this.parentDocument.document_id}],{file:t,key:e,document:i,dataUrl:null,percentCompleted:0,status:"INITIAL",errorMessage:null}},startUpload(t){t.status="INITIAL",t.percentCompleted=0,Object(J["a"])(t.file,e=>{t.dataUrl=e},e=>{this.onUploadProgress(e,t)},e=>{this.onUploadSuccess(e,t)},e=>{this.onUploadFailure(e,t)})},onUploadProgress(t,e){e.status="SAVING",0!==t.total&&(e.percentCompleted=Math.floor(100*t.loaded/t.total))},onUploadSuccess(t,e){e.status="SUCCESS",Object.assign(e.document,t),this.computeReadyForSaving()},onUploadFailure(t,e){var i;e.percentCompleted=100,e.status="FAILED",e.errorMessage=null!==(i=null===t||void 0===t?void 0:t.message)&&void 0!==i?i:this.$gettext("Image could not be processed")},computeReadyForSaving(){if(0===this.documents.length)this.readyForSaving=!1;else{this.readyForSaving=!0;for(const t of this.documents)t.filename||(this.readyForSaving=!1)}},save(){this.promise=c["a"].createImages(this.documents).then(t=>{this.parentDocument.associations.images.push(...this.documents.map((e,i)=>({...e,document_id:t.data.images[i].document_id,available_langs:[this.$language.current]}))),this.clean(),this.hide()})}}},K=Q,X=(i("c837"),Object(p["a"])(K,V,U,!1,null,"10a885ae",null)),tt=X.exports,et={components:{ImagesUploader:tt,FollowButton:$,TagsButton:z,SocialNetworkSharing:O,DocumentVersionBanner:b},mixins:[F,I],props:{document:{type:Object,default:null},version:{type:Object,default:null},promise:{type:Object,required:!0}},computed:{lang(){return this.document?this.document.cooked.lang:null},title(){return this.document?this.$documentUtils.getDocumentTitle(this.document,this.lang):void 0},documentType(){return this.$documentUtils.getDocumentType(this.document.type)}}},it=et,st=(i("1f4d"),Object(p["a"])(it,s,n,!1,null,"17882d0c",null)),nt=st.exports,at=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isNormalView?i("div",{staticClass:"box no-print"},[i("h2",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"title is-2"},[t._v("Comments")]),t._v(" "),t.document.disable_comments?i("div",[i("p",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Comments are disabled.")])]):t.promise&&t.promise.error?i("div",{staticClass:"notification is-danger"},[i("p",[i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Oups! Something went wrong with forum. Here is the message :")]),t._v(" "),i("br"),t._v("\n      "+t._s(t.promise.error.message)+"\n    ")])]):i("div",[t._l(t.comments,(function(e){return i("div",{key:e.id,staticClass:"discourse-post"},[i("div",{staticClass:"columns is-gapless"},[i("div",{staticClass:"column is-narrow discourse-post-avatar"},[i("img",{style:"width:"+t.$options.forumAvatarSize+"px;height:"+t.$options.forumAvatarSize+"px",attrs:{src:t.getAvatarUrl(e)}})]),t._v(" "),i("div",{staticClass:"column"},[i("div",{staticClass:"discourse-post-header"},[i("a",{staticClass:"discourse-post-header-username",attrs:{href:t.$options.forumUrl+"/users/"+e.username,title:e.username}},[t._v("\n              "+t._s(e.username)+"\n            ")]),t._v(" "),i("span",{staticClass:"is-pulled-right"},[t._v("\n              "+t._s(t.$dateUtils.timeAgo(e["created_at"]))+"\n            ")])]),t._v(" "),i("div",{staticClass:"discourse-content",domProps:{innerHTML:t._s(e.cooked)}})])])])})),t._v(" "),i("div",{staticClass:"has-text-centered"},[t.$user.isLogged?null===t.locale.topic_id?i("button",{directives:[{name:"translate",rawName:"v-translate"}],key:"no-topic",staticClass:"button is-primary",attrs:{disabled:!t.$options.isProduction},on:{click:t.createTopic}},[t._v("\n        Post the first comment\n      ")]):0===t.comments.length?i("a",{directives:[{name:"translate",rawName:"v-translate"}],key:"no-comment",staticClass:"button is-primary",attrs:{href:t.discussionUrl}},[t._v("\n        Post the first comment\n      ")]):t.allCommentDisplayed?i("a",{key:"all-displayed",staticClass:"button is-primary",attrs:{href:t.discussionUrl}},[i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Continue the discussion")])]):i("a",{key:"some-displayed",staticClass:"button is-primary",attrs:{href:t.discussionUrl}},[i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("View next comments and continue the discussion")])]):i("login-button",{directives:[{name:"translate",rawName:"v-translate"}],key:"not-logged"},[t._v(" Log in to post a comment ")])],1)],2)]):t._e()},rt=[],ot=i("bc36"),lt=i("14ac");const ct=function(t){return t=t.replace(/<a class="mention" href="/g,'<a class="mention" href="'+ot["a"].url),t};var ut={isProduction:lt["a"].isProduction,mixins:[u["a"],I],data(){return{promise:{}}},computed:{locale(){return this.document.cooked},discussionUrl(){return this.topic?ot["a"].url+"/t/"+this.topic.slug+"/"+this.locale.topic_id+"/"+this.topic.posts_count:null},topic(){return this.promise.data},comments(){const t=[];if(!this.topic||!this.topic.post_stream)return t;const e=this.topic.post_stream;let i=e.posts;"system"===i[0].name&&(i=i.slice(1));for(const s of i)s.cooked=ct(s.cooked),t.push(s);return t},allCommentDisplayed(){return!(this.topic&&this.topic.post_stream&&this.topic.posts_count)||this.topic.post_stream.posts.length>=this.topic.posts_count}},forumUrl:ot["a"].url,forumAvatarSize:45,created(){this.getComments()},methods:{createTopic(){const t=this.document.document_id,e=this.locale.lang;c["a"].forum.createTopic(t,e).then(i=>{const s=i["data"]["topic_id"],n=ot["a"].url+"/t/"+t+"_"+e+"/"+s;window.location=n}).catch(t=>{if(t.response&&400===t.response.status){const e=t.response["data"]["errors"][0]["topic_id"];void 0!==e&&(this.locale.topic_id=e,this.getComments())}})},getComments(){this.locale.topic_id&&(this.promise=ot["a"].getTopic(this.locale.topic_id))},getAvatarUrl(t){return ot["a"].getAvatarUrl(t,this.$options.forumAvatarSize)}}},dt=ut,mt=(i("ecf2"),i("194b"),Object(p["a"])(dt,at,rt,!1,null,"5f053966",null)),pt=mt.exports,ht=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.document.associations.images&&0!==t.document.associations.images.length?i("div",{staticClass:"box no-print"},[i("gallery",{ref:"gallery",attrs:{images:t.document.associations.images}})],1):t._e()},vt=[],ft=i("48ec"),_t={components:{Gallery:ft["a"]},mixins:[u["a"]]},gt=_t,bt=Object(p["a"])(gt,ht,vt,!1,null,null,null),yt=bt.exports,wt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"box no-print"},[t.document.areas&&t.document.areas.length?i("div",{staticClass:"has-text-centered"},[i("icon-area"),t._v(" "),i("span",[t._v(" ")]),t._v(" "),t._l(t.document.areas,(function(e){return i("span",{key:e.document_id,staticClass:"area-link"},[i("document-link",{attrs:{document:e}}),t._v(" \n    ")],1)}))],2):t._e(),t._v(" "),i("div",{staticClass:"map-container"},[i("map-view",{attrs:{documents:new Array(t.document),"show-protection-areas":["r","w"].includes(t.document.type),"biodiv-sports-activities":t.document.activities},on:{"has-protection-area":function(e){return t.$emit("has-protection-area")}}})],1),t._v(" "),"outing"==t.documentType?i("elevation-profile",{attrs:{document:t.document}}):t._e(),t._v(" "),i("div",{staticClass:"buttons is-centered"},[t.showYetiButton?i("router-link",{staticClass:"button is-small",attrs:{to:t.yetiUrl}},[i("icon-yeti",{staticClass:"icon"}),t._v(" "),i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("YETI")])],1):t._e(),t._v(" "),t.showDownloadTraceButtons?i("button",{staticClass:"button is-primary is-small",on:{click:t.downloadGpx}},[t._v("GPX")]):t._e(),t._v(" "),t.showDownloadTraceButtons?i("button",{staticClass:"button is-primary is-small",on:{click:t.downloadKml}},[t._v("KML")]):t._e(),t._v(" "),t.hasMapLinks?i("button",{staticClass:"button is-small",class:{"is-success":t.mapLinksAreVisible},on:{click:function(e){t.mapLinksAreVisible=!t.mapLinksAreVisible}}},[i("icon-map")],1):t._e()],1),t._v(" "),t.mapLinksAreVisible?i("map-links",{attrs:{document:t.document}}):t._e()],1)},xt=[],Ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.hasData?i("div",[t.timeAvailable?i("form",{staticClass:"has-text-centered"},[i("span",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"is-size-7"},[t._v("See profile based on:")]),t._v(" "),i("br"),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.mode,expression:"mode"}],staticClass:"is-checkradio is-small is-primary",attrs:{id:"c2c-elevation-profile-distance",type:"radio",value:"distance"},domProps:{checked:t._q(t.mode,"distance")},on:{change:function(e){t.mode="distance"}}}),t._v(" "),i("label",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{for:"c2c-elevation-profile-distance"}},[t._v("Distance")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.mode,expression:"mode"}],staticClass:"is-checkradio is-small is-primary",attrs:{id:"c2c-elevation-profile-time",type:"radio",value:"time"},domProps:{checked:t._q(t.mode,"time")},on:{change:function(e){t.mode="time"}}}),t._v(" "),i("label",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{for:"c2c-elevation-profile-time"}},[t._v("Time")])]):t._e(),t._v(" "),i("div",{ref:"graph",staticClass:"elevation-profile-chart"})]):t._e()},kt=[];function $t(){this.resolved_=!1,this.resolving_=!1,this.callbacks_=[],this.resolvingCount_=0}$t.prototype.resolve_=function(){this.resolved_||this.resolving_||(this.resolving_=!0,this.load_(i.e("chunk-d3").then(i.bind(null,"548a")),"scaleLinear"),this.load_(i.e("chunk-d3").then(i.bind(null,"ae0a")),"geoDistance"),this.load_(i.e("chunk-d3").then(i.bind(null,"b3c3")),"timeHour"),this.load_(i.e("chunk-d3").then(i.bind(null,"fae8")),"line"),this.load_(i.e("chunk-d3").then(i.bind(null,"4748")),"scaleTime"),this.load_(i.e("chunk-d3").then(i.bind(null,"b108")),"transition"),this.load_(i.e("chunk-d3").then(i.bind(null,"ad68")),"format"),this.load_(i.e("chunk-d3").then(i.bind(null,"70e1")),"timeFormat"),this.load_(i.e("chunk-d3").then(i.bind(null,"8814")),"axis"),this.load_(i.e("chunk-d3").then(i.bind(null,"bc17")),"array"),this.load_(i.e("chunk-d3").then(i.bind(null,"fd32")),"selection"))},$t.prototype.load_=function(t,e){this.resolvingCount_++,t.then(t=>{if(t.default)this[e]=t.default;else for(const e of Object.keys(t))this[e]=t[e];this.resolvingCount_--,0===this.resolvingCount_&&(this.resolving_=!1,this.resolved_=!0,this.postResolve_())})},$t.prototype.postResolve_=function(){for(const t of this.callbacks_)t()},$t.prototype.then=function(t){this.resolve_(),this.resolved_?t():this.callbacks_.push(t)};var Lt=new $t,qt=i("dac7"),Mt={mixins:[u["a"]],data(){return{hasData:!1,coords:null,data:null,timeAvailable:!1,mode:"distance",margin:{},svg:null,x1:null,x1Axis:null,x2:null,x2Axis:null,y:null,yAxis:null,tLine:null,dLine:null,line:null,focusv:null,focush:null,focus:null,bubble1:null,bubble2:null,i18n_:{elevation:this.$gettext("Elevation"),elevation_legend:this.$gettext("Elevation (m)"),meters:this.$gettext("meters"),distance:this.$gettext("Distance"),distance_legend:this.$gettext("Distance (km)"),km:this.$gettext("kilometers"),time:this.$gettext("Time"),duration:this.$gettext("Duration"),duration_legend:this.$gettext("Duration (hrs)")}}},watch:{mode:"updateChart"},created(){this.document.geometry&&this.document.geometry.geom_detail&&this.computeCoords()},mounted(){this.hasData&&Lt.then(this.createChart)},methods:{computeCoords(){const t=JSON.parse(this.document.geometry.geom_detail);"MultiLineString"===t.type?(this.coords=[],t.coordinates.forEach(t=>{this.coords=this.coords.concat(t)})):this.coords=t.coordinates,this.coords.some(t=>t.length>2&&0!==t[2])&&(this.timeAvailable=this.coords.every(t=>t.length>3),this.hasData=!0)},createChart(){const t=this.timeAvailable,e=this.coords,i=t?new Date(1e3*e[0][3]):null;let s=0;this.data=e.map((e,n,a)=>{var r;const o=t?new Date(1e3*e[3]):null;let l=0;if(n>0){const t=qt["a"].proj.transform([a[n][0],a[n][1]],"EPSG:3857","EPSG:4326"),e=qt["a"].proj.transform([a[n-1][0],a[n-1][1]],"EPSG:3857","EPSG:4326");l=6371*Lt.geoDistance(t,e)}return s+=l,{date:o,ele:null!==(r=e[2])&&void 0!==r?r:0,d:s,elapsed:t?o-i:void 0}});const n=this.$refs.graph,a={width:n.offsetWidth,height:300};this.margin={top:40,right:10,bottom:18,left:35};const r=a.width-this.margin.left-this.margin.right,o=a.height-this.margin.top-this.margin.bottom;this.svg=Lt.select(this.$refs.graph).append("svg").attr("width",a.width).attr("height",a.height).append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")"),this.y=Lt.scaleLinear().range([o,0]),this.yAxis=Lt.axisLeft().scale(this.y).tickFormat(Lt.format(".0f")),this.y.domain(Lt.extent(this.data,t=>t.ele)).nice(),this.x1=Lt.scaleLinear().range([0,r]),this.x1Axis=Lt.axisBottom().scale(this.x1),this.x1.domain(Lt.extent(this.data,t=>t.d)).nice(),this.timeAvailable&&(this.x2=Lt.scaleTime().range([0,r]),this.x2Axis=Lt.axisBottom().scale(this.x2).tickFormat(t=>~~(t/36e5)+":"+Lt.format("02d")(~~(t%36e5/6e4))),this.x2.domain(Lt.extent(this.data,t=>t.elapsed)).nice(Lt.timeHour)),this.svg.append("g").attr("class","y axis").call(this.yAxis).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text(this.i18n_.elevation_legend),this.svg.append("g").attr("class","x axis").attr("transform","translate(0,"+o+")").call(this.x1Axis).append("text").attr("x",a.width-this.margin.left-this.margin.right).attr("dy","-.71em").attr("class","x axis legend").style("text-anchor","end").text(this.i18n_.distance_legend),this.dLine=Lt.line().x(t=>this.x1(t.d)).y(t=>this.y(t.ele)),this.timeAvailable&&(this.tLine=Lt.line().x(t=>this.x2(t.elapsed)).y(t=>this.y(t.ele))),this.line=this.svg.append("path").datum(this.data).attr("class","line").attr("d",this.dLine),this.focusv=this.svg.append("line").attr("class","target").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",a.height-this.margin.bottom-this.margin.top).style("display","none"),this.focush=this.svg.append("line").attr("class","target").attr("x1",0).attr("y1",0).attr("x2",a.width-this.margin.right-this.margin.left).attr("y2",0).style("display","none"),this.focus=this.svg.append("circle").attr("class","circle").attr("r",4.5).style("display","none"),this.bubble1=this.svg.append("text").attr("x",(a.width-this.margin.left-this.margin.right)/2).attr("dy","-.71em").attr("class","bubble").style("text-anchor","middle").style("display","none").text(""),this.bubble2=this.svg.append("text").attr("x",(a.width-this.margin.left-this.margin.right)/2).attr("dy","-1.71em").attr("class","bubble").style("text-anchor","middle").style("display","none").text(""),this.svg.append("rect").attr("class","overlay").attr("width",r).attr("height",o).on("mouseover",()=>{this.focus.style("display",null),this.focush.style("display",null),this.focusv.style("display",null),this.bubble1.style("display",null),this.bubble2.style("display",null)}).on("mouseout",()=>{this.focus.style("display","none"),this.focush.style("display","none"),this.focusv.style("display","none"),this.bubble1.style("display","none"),this.bubble2.style("display",null)}).on("mousemove",this.mousemove)},mousemove(t){const e=Lt.bisector(t=>t.d).left,i=Lt.bisector(t=>t.elapsed).left,s=Lt.format(".2f"),n=Lt.timeFormat("%H:%M"),a=Lt.format("02d"),r=Lt.format("d"),o="distance"===this.mode?e:i,l="distance"===this.mode?this.x1.invert(Lt.pointer(t,this.svg.node())[0]):this.x2.invert(Lt.pointer(t,this.svg.node())[0]),c=o(this.data,l,1,this.data.length-1),u=this.data[c-1],d=this.data[c],m="distance"===this.mode?l-u.d>d.d-l?d:u:l-u.elapsed>d.elapsed-l?d:u,p=this.y(m.ele),h="distance"===this.mode?this.x1(m.d):this.x2(m.elapsed);if(this.focus.attr("transform","translate("+h+","+p+")"),this.focush.attr("transform","translate(0,"+p+")"),this.focusv.attr("transform","translate("+h+",0)"),this.bubble1.text(this.i18n_.elevation+" "+r(m.ele)+this.i18n_.meters+" / "+this.i18n_.distance+" "+s(m.d)+this.i18n_.km),this.timeAvailable){const t=m.elapsed/1e3;this.bubble2.text(this.i18n_.time+" "+n(m.date)+" / "+this.i18n_.duration+" "+~~(t/3600)+":"+a(~~(t%3600/60)))}},updateChart(){const t="distance"===this.mode?this.dLine:this.tLine,e="distance"===this.mode?this.x1Axis:this.x2Axis,i="distance"===this.mode?this.i18n_.distance_legend:this.i18n_.duration_legend;this.line.transition().duration(1e3).attr("d",t),Lt.select(".x.axis").call(e),Lt.select(".x.axis.legend").text(i)}}},St=Mt,Et=(i("6249"),Object(p["a"])(St,Ct,kt,!1,null,null,null)),Ot=Et.exports,Dt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"associations-list"},[t.document.maps_info?i("div",[i("icon-map"),t._v(" "),i("span",[t._v("\n      "+t._s(t.document.maps_info)+"\n    ")])],1):t._e(),t._v(" "),t._l(t.document.maps,(function(e){return i("div",{key:e.document_id,staticClass:"is-ellipsed"},[i("icon-map"),t._v(" "),i("document-link",{attrs:{document:e}},[t._v("\n      "+t._s(e.editor)+" - "+t._s(e.code)+" - "),i("document-title",{attrs:{document:e}})],1)],1)}))],2)},Tt=[],At={mixins:[u["a"]]},Pt=At,jt=Object(p["a"])(Pt,Dt,Tt,!1,null,null,null),Nt=jt.exports,zt=i("9944");const It=new qt["a"].format.GeoJSON;var Ft={components:{ElevationProfile:Ot,MapLinks:Nt},mixins:[u["a"]],data(){return{mapLinksAreVisible:!1}},computed:{showYetiButton(){if(!this.document||"route"!==this.documentType||!this.document.activities)return!1;const t=["skitouring","snow_ice_mixed","ice_climbing","snowshoeing"];return this.document.activities.some(e=>t.includes(e))},showDownloadTraceButtons(){return this.document.geometry&&(this.document.geometry.geom_detail||"waypoint"===this.documentType)},hasMapLinks(){return this.document.maps&&0!==this.document.maps.length||this.document.maps_info},yetiUrl(){return{name:"yeti",params:{document_id:this.document.document_id}}}},methods:{downloadKml(){this.downloadFeatures(new qt["a"].format.KML,".kml","application/vnd.google-earth.kml+xml")},downloadGpx(){this.downloadFeatures(new qt["a"].format.GPX,".gpx","application/gpx+xml")},downloadFeatures(t,e,i){let s=[];if(this.document.geometry.geom_detail?s=It.readFeatures(this.document.geometry.geom_detail):this.document.geometry.geom&&(s=It.readFeatures(this.document.geometry.geom)),!s.length)return;const n=s[0],a=this.$documentUtils.getDocumentTitle(this.document,this.$route.params.lang);n.set("name",a);const r=this.document.document_id+e,o=t.writeFeatures([n],{featureProjection:"EPSG:3857"});zt["a"].download(o,r,i+";charset=utf-8")}}},Vt=Ft,Ut=(i("5ea7"),Object(p["a"])(Vt,wt,xt,!1,null,"22bc90f4",null)),Bt=Ut.exports,Rt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isDraftView||"route"!=t.documentType&&0===t.outings.length?t._e():i("div",{staticClass:"box no-print"},[i("div",{staticClass:"title is-2"},["image"===t.documentType?i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Associated outings")]):i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Last outings")]),t._v(" "),0===t.outings.length||t.hideSeeAllResultsButton?t._e():i("span",[i("span",[t._v(", ")]),t._v(" "),i("router-link",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"is-size-5",attrs:{to:{name:"outings",query:t.query}}},[t._v(" show all ")])],1)]),t._v(" "),t._l(t.outings,(function(t,e){return i("div",{key:e},[i("pretty-outing-link",{attrs:{outing:t}})],1)})),t._v(" "),"route"==t.documentType?i("div",{staticClass:"has-text-centered add-section"},[i("add-link",{staticClass:"button is-primary",attrs:{"document-type":"outing",query:t.query}},[0===t.outings.length?i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v(" Add the first outing ")]):t._e()])],1):t._e()],2)},Ht=[],Gt={mixins:[u["a"],I],props:{hideSeeAllResultsButton:{type:Boolean,default:!1}},computed:{outings(){const t=new Map,e=this.document.associations;let i=[];i=void 0!==e.recent_outings?e.recent_outings.documents:e.outings;for(const s of i)t.set(s.document_id,s);return[...t.values()].filter(t=>"empty"!==t.quality)},query(){const t={};return t[this.document.type]=this.document.document_id,t}}},Zt=Gt,Wt=(i("d517"),Object(p["a"])(Zt,Rt,Ht,!1,null,"2157a08a",null)),Yt=Wt.exports,Jt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return 0==t.source.length&&t.hideButtons?t._e():i("div",{staticClass:"box no-print"},[i("h2",{staticClass:"title is-2"},[i("span",[t._v(t._s(t.$gettext("Associated routes")))]),t._v(" "),t.hideButtons?t._e():i("span",{staticClass:"is-size-5"},[i("span",[t._v(", ")]),t._v(" "),i("router-link",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{to:{name:"routes",query:t.query}}},[t._v(" show all ")])],1)]),t._v(" "),t.disableActivitySplit?i("div",t._l(t.source,(function(t){return i("div",{key:t.document_id},[i("pretty-route-link",{attrs:{route:t,"hide-area":""}})],1)})),0):t._l(Object.keys(t.routes),(function(e){return i("div",{key:e},[i("h3",{staticClass:"title is-3"},[i("icon-activity",{attrs:{activity:e}}),t._v("\n      "+t._s(t._f("uppercaseFirstLetter")(t.$gettext(e,"activities")))+"\n    ")],1),t._v(" "),t._l(Object.values(t.routes[e]),(function(t,e){return i("div",{key:e},[i("pretty-route-link",{attrs:{route:t,"hide-activities":"","hide-area":""}})],1)}))],2)})),t._v(" "),t.hideButtons?t._e():i("div",{staticClass:"has-text-centered add-section"},[i("add-link",{staticClass:"button is-primary",attrs:{"document-type":"route",query:t.query}})],1)],2)},Qt=[],Kt={mixins:[u["a"]],props:{hideButtons:{type:Boolean,default:!1},disableActivitySplit:{type:Boolean,default:!1}},computed:{query(){const t={};return t[this.document.type]=this.document.document_id,t},source(){return this.document.associations.routes||this.document.associations.all_routes.documents},routes(){const t={};for(const e of this.source)for(const i of e.activities)t[i]||(t[i]={}),t[i][e.document_id]=e;return t}}},Xt=Kt,te=(i("595f"),Object(p["a"])(Xt,Jt,Qt,!1,null,"7eba21e5",null)),ee=te.exports,ie=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"box no-print"},[i("associated-documents",{attrs:{document:t.document}}),t._v(" "),t.isNormalView&&t.available_langs.length>0?i("div",{staticClass:"has-text-centered"},[i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("View in other lang")]),t._v(" "),i("br"),t._v(" "),i("span",{staticClass:"lang-switcher-box-list"},t._l(t.available_langs,(function(e){return i("span",{key:e},[i("document-link",{attrs:{document:t.document,lang:e}},[t._v("\n          "+t._s(t.$gettext(e,"langs"))+"\n        ")])],1)})),0),t._v(" "),i("hr")]):t._e(),t._v(" "),t.fundraiser?i("tool-box-button",{attrs:{label:t.$gettext("Contribute to maintainance"),href:t.fundraiser.url,"icon-class":"has-text-danger",icon:"heart"}}):t._e(),t._v(" "),"profile"===t.documentType?i("tool-box-button",{attrs:{to:{name:"outings",query:{u:t.document.document_id}},label:t.$gettext("outings"),icon:"edit"}},[i("icon-outing",{attrs:{slot:"icon"},slot:"icon"})],1):t._e(),t._v(" "),"profile"===t.documentType?i("tool-box-button",{attrs:{to:{name:"whatsnew",query:{u:t.document.document_id}},label:t.$gettext("Contributions"),icon:"edit"}}):t._e(),t._v(" "),t.document.geometry&&t.document.geometry.geom&&"area"!==t.documentType?i("tool-box-button",{attrs:{to:t.linkToClosestDocuments,label:t.$gettext("See other documents nearby"),icon:"compass"}}):t._e(),t._v(" "),"w"===t.document.type&&"paragliding_takeoff"===t.document.waypoint_type?i("tool-box-button",{attrs:{to:t.linkToParaglidingOutings,label:t.$gettext("Paragliding outings"),icon:["miscs","paragliding"]}}):t._e(),t._v(" "),"profile"!=t.documentType||t.$user.isModerator||t.document.document_id===t.$user.id?i("tool-box-button",{attrs:{to:{name:t.documentType+"-history",params:{id:t.document.document_id,lang:t.document.cooked.lang}},label:t.$gettext("History"),icon:"history"}}):t._e(),t._v(" "),t.isEditable&&t.showAssociationEditor?i("tool-box-button",{attrs:{icon:"link",label:t.$gettext("Edit associations")},on:{click:function(e){return t.$refs.associationsWindow.show()}}}):t._e(),t._v(" "),t.isEditable&&t.hasMissingLangs?i("tool-box-button",{attrs:{icon:"globe",label:t.$gettext("Translate into an other lang")},on:{click:function(e){return t.$refs.translateWindow.show()}}}):t._e(),t._v(" "),i("tool-box-button",{attrs:{href:"mailto:"+t.$options.reportingIssueMail+"?subject="+t.reportingSubject+"&body="+t.reportingBody,icon:["fas","exclamation-circle"],"icon-class":"has-text-danger",label:t.$gettext("Report an issue")}}),t._v(" "),i("hr"),t._v(" "),t.isEditable&&t.$user.isModerator?["profile"!==t.documentType?i("tool-box-button",{class:t.document.protected?"lock-button-red":"lock-button-green",attrs:{icon:t.document.protected?"lock":"unlock",label:t.document.protected?t.$gettext("Unprotect document"):t.$gettext("Protect document")},on:{click:t.lockDocumentAction}}):t._e(),t._v(" "),"profile"!==t.documentType?i("tool-box-button",{attrs:{icon:"object-group",label:t.$gettext("Merge with other document")},on:{click:function(e){return t.$refs.MergeDocumentWindow.show()}}}):t._e(),t._v(" "),"profile"===t.documentType?i("tool-box-button",{class:{"lock-button-red":t.isAccountBlocked},attrs:{icon:"user-lock",label:t.isAccountBlocked?t.$gettext("Unblock account"):t.$gettext("Block account")},on:{click:t.lockAccountAction}}):t._e()]:t._e(),t._v(" "),t.isDeletable?[t.document.available_langs.length>1?i("tool-box-button",{attrs:{icon:["fas","trash"],label:t.$gettext("Delete this locale")},on:{click:function(e){return t.$refs.DeleteLocaleWindow.show()}}}):t._e(),t._v(" "),i("tool-box-button",{attrs:{icon:["fas","trash"],label:t.$gettext("Delete this document")},on:{click:function(e){return t.$refs.deleteDocumentWindow.show()}}})]:t._e(),t._v(" "),t.isDeletable||t.isEditable&&t.$user.isModerator?i("hr"):t._e(),t._v(" "),i("license-box",{attrs:{document:t.document}}),t._v(" "),t.isEditable?i("div",[i("merge-document-window",{ref:"MergeDocumentWindow",attrs:{document:t.document}}),t._v(" "),i("delete-document-window",{ref:"deleteDocumentWindow",attrs:{document:t.document}}),t._v(" "),i("delete-locale-window",{ref:"DeleteLocaleWindow",attrs:{document:t.document,"locale-lang":t.document.cooked.lang}}),t._v(" "),i("translate-window",{ref:"translateWindow",attrs:{document:t.document,"missing-langs":t.missingLangs}}),t._v(" "),i("associations-window",{ref:"associationsWindow",attrs:{document:t.document}})],1):t._e()],2)},se=[],ne=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("modal-confirmation",{ref:"modalWindow",attrs:{"show-uncancelable-warning":"",promise:t.promise},on:{confirm:t.executeDelete}},[i("span",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{slot:"title"},slot:"title"},[t._v(" Delete this document ")]),t._v(" "),i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v(" Are you sure you want to delete this document? ")])])},ae=[],re={mixins:[u["a"]],data(){return{promise:null}},methods:{show(){this.$refs.modalWindow.show()},executeDelete(){this.promise=c["a"].moderator.deleteDocument(this.document.document_id).then(()=>{this.$router.push({name:this.documentType+"s"})})}}},oe=re,le=Object(p["a"])(oe,ne,ae,!1,null,null,null),ce=le.exports,ue=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("modal-confirmation",{ref:"modalWindow",attrs:{"show-uncancelable-warning":"",promise:t.promise},on:{confirm:t.executeDelete}},[i("span",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{slot:"title"},slot:"title"},[t._v(" Delete this locale ")]),t._v(" "),i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v(" Are you sure you want to delete this locale? ")])])},de=[],me={mixins:[u["a"]],props:{localeLang:{type:String,required:!0}},data(){return{promise:null}},methods:{show(){this.$refs.modalWindow.show()},executeDelete(){this.promise=c["a"].moderator.deleteLocale(this.document.document_id,this.localeLang).then(()=>{this.$router.push({name:this.documentType,id:this.document.document_id})})}}},pe=me,he=Object(p["a"])(pe,ue,de,!1,null,null,null),ve=he.exports,fe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("modal-card",{ref:"modalWindow"},[i("span",{attrs:{slot:"title"},slot:"title"},[i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Merge documents")])]),t._v(" "),i("section",[i("div",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"notification is-warning has-text-centered has-text-weight-bold"},[t._v("\n      Warning: This action cannot be undone!\n    ")]),t._v(" "),i("div",{staticClass:"has-padding-bottom"},[i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("\n        Merging a source document with a target document transfers all associations of the source document to the\n        target document, and sets up a redirection from the source to the target document.\n      ")]),t._v(" "),i("span",[t._v(" ")]),t._v(" "),i("span",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"has-text-weight-bold"},[t._v("\n        Note that comments have to be transferred manually in Discourse before merging.\n      ")])]),t._v(" "),i("div",{staticClass:"has-padding-bottom"},[i("div",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"has-text-weight-bold"},[t._v("Source:")]),t._v(" "),i("fa-icon",{staticClass:"has-text-success",attrs:{icon:"check-circle"}}),t._v(" "),i("merge-document-link",{attrs:{document:t.document}})],1),t._v(" "),i("div",{staticClass:"has-padding-bottom"},[i("div",[i("span",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"has-text-weight-bold"},[t._v("Target:")]),t._v(" "),i("input-document",{attrs:{"document-type":t.documentType,"show-options":!1,"is-small":""},on:{"load-options":function(e){t.options=arguments[0]}},model:{value:t.targetDocument,callback:function(e){t.targetDocument=e},expression:"targetDocument"}})],1),t._v(" "),t.targetDocument?i("div",[i("fa-icon",{staticClass:"has-text-success",attrs:{icon:"check-circle"}}),t._v(" "),i("merge-document-link",{attrs:{document:t.targetDocument}})],1):t._e()]),t._v(" "),t._l(t.possibleTargets,(function(e){return i("div",{key:e.documentId,staticClass:"columns is-mobile is-variable is-1"},[i("div",{staticClass:"column"},[i("merge-document-link",{attrs:{document:e}})],1),t._v(" "),i("div",{staticClass:"column is-narrow"},[i("button",{staticClass:"button is-success is-small",on:{click:function(i){return t.select(e)}}},[t._v("select")])])])}))],2),t._v(" "),i("footer",{attrs:{slot:"footer"},slot:"footer"},[i("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"button is-success",attrs:{disabled:null===t.targetDocument},on:{click:t.mergeDocuments}},[t._v("\n      Merge documents\n    ")]),t._v(" "),i("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"button",on:{click:function(e){return t.hide()}}},[t._v("Cancel")])])])},_e=[],ge=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[i("document-title",{attrs:{document:t.document}}),t._v("\n  ("),i("document-link",{attrs:{document:t.document,target:"_blank"}},[t._v(" "+t._s(t.document.document_id)+" ")]),t._v(")\n")],1)},be=[],ye={props:{document:{type:Object,required:!0}}},we=ye,xe=Object(p["a"])(we,ge,be,!1,null,null,null),Ce=xe.exports,ke={components:{MergeDocumentLink:Ce},mixins:[u["a"]],data(){return{targetDocument:null,options:null}},computed:{possibleTargets(){return this.options?this.options[this.documentType+"s"].documents:[]}},methods:{hide(){this.$refs.modalWindow.hide()},show(){this.$refs.modalWindow.show()},select(t){this.targetDocument=t,this.options=null},mergeDocuments(){window.confirm(this.$gettext("Are you sure you want to merge?"))&&c["a"].moderator.mergeDocuments(this.document.document_id,this.targetDocument.document_id).then(()=>{this.hide()})}}},$e=ke,Le=(i("ce5c"),Object(p["a"])($e,fe,_e,!1,null,"0f2d7415",null)),qe=Le.exports,Me=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("modal-window",{ref:"modalWindow"},[i("div",{staticClass:"has-text-centered",attrs:{slot:"header"},slot:"header"},[i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v(" Translate into an other lang ")])]),t._v(" "),t._l(t.missingLangs,(function(e){return i("div",{key:e,staticClass:"has-text-centered"},[i("edit-link",{staticClass:"is-size-4",attrs:{document:t.document,lang:e}},[t._v("\n      "+t._s(t._f("uppercaseFirstLetter")(t.$gettext(e,"langs")))+"\n    ")])],1)}))],2)},Se=[],Ee={mixins:[u["a"]],props:{missingLangs:{type:Array,required:!0}},methods:{show(){this.$refs.modalWindow.show()}}},Oe=Ee,De=Object(p["a"])(Oe,Me,Se,!1,null,null,null),Te=De.exports,Ae=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._l(t.waypointsLists,(function(e,s){return i("div",{key:s,staticClass:"associations-list"},[i("div",{staticClass:"title"},[t._v("\n      "+t._s(t._f("uppercaseFirstLetter")(e.title))+"\n    ")]),t._v(" "),t._l(e.waypoints,(function(e){return i("document-link",{key:e.document_id,staticClass:"columns is-mobile has-hover-background is-marginless is-vcentered",attrs:{document:e}},[i("div",{staticClass:"column is-narrow is-paddingless"},[i("icon-waypoint-type",{staticClass:"icon-link",attrs:{"waypoint-type":e.waypoint_type}})],1),t._v(" "),i("div",{staticClass:"column is-paddingless"},[i("document-title",{attrs:{document:e}})],1),t._v(" "),i("div",{staticClass:"column is-narrow has-text-grey is-paddingless is-size-7"},[t._v(t._s(e.elevation)+" m")])])})),t._v(" "),i("hr")],2)})),t._v(" "),0!=t.associations.books.length?i("div",{staticClass:"associations-list"},[i("div",{staticClass:"title"},[t._v("\n      "+t._s(t._f("uppercaseFirstLetter")(t.$gettext("books")))+"\n    ")]),t._v(" "),t._l(t.associations.books,(function(e){return i("div",{key:e.document_id,staticClass:"is-ellipsed"},[i("document-link",{attrs:{document:e}},[i("icon-book",{staticClass:"icon-link"}),t._v(" "),i("document-title",{attrs:{document:e}})],1)],1)})),t._v(" "),i("hr")],2):t._e(),t._v(" "),0!=t.associations.articles.length?i("div",{staticClass:"associations-list"},[i("div",{staticClass:"title"},[t._v("\n      "+t._s(t._f("uppercaseFirstLetter")(t.$gettext("articles")))+"\n    ")]),t._v(" "),t._l(t.associations.articles,(function(e){return i("div",{key:e.document_id,staticClass:"is-ellipsed"},[i("document-link",{attrs:{document:e}},[i("icon-article",{staticClass:"icon-link"}),t._v(" "),i("document-title",{attrs:{document:e}})],1)],1)})),t._v(" "),i("hr")],2):t._e(),t._v(" "),t.associations.xreports&&0!=t.associations.xreports.length?i("div",{staticClass:"associations-list"},[i("div",{staticClass:"title"},[t._v("\n      "+t._s(t._f("uppercaseFirstLetter")(t.$gettext("xreports")))+"\n    ")]),t._v(" "),t._l(t.associations.xreports,(function(e){return i("div",{key:e.document_id,staticClass:"is-ellipsed"},[i("document-link",{attrs:{document:e}},[i("icon-xreport",{staticClass:"icon-link"}),t._v(" "),i("document-title",{attrs:{document:e}})],1)],1)})),t._v(" "),i("hr")],2):t._e(),t._v(" "),"xreport"===t.documentType&&t.associations.outings&&0!=t.associations.outings.length?i("div",{staticClass:"associations-list"},[i("div",{staticClass:"title"},[t._v("\n      "+t._s(t._f("uppercaseFirstLetter")(t.$gettext("outings")))+"\n    ")]),t._v(" "),t._l(t.associations.outings,(function(e){return i("div",{key:e.document_id,staticClass:"is-ellipsed"},[i("document-link",{attrs:{document:e}},[i("icon-outing",{staticClass:"icon-link"}),t._v(" "),i("document-title",{attrs:{document:e,"uppercase-first-letter":""}})],1)],1)})),t._v(" "),i("hr")],2):t._e()],2)},Pe=[],je={mixins:[u["a"]],computed:{associations(){var t;return null!==(t=this.document.associations)&&void 0!==t?t:{}},waypointsLists(){const t=[],e=function(e,i){i&&0!==i.length&&t.push({title:e,waypoints:i})};return e(this.$gettext("waypoints"),this.associations.waypoints),e(this.$gettext("waypoint_children"),this.associations.waypoint_children),t}},created(){var t,e;function i(t,e){return t.document_id<e.document_id}this.associations.books=(null!==(t=this.associations.books)&&void 0!==t?t:[]).sort(i),this.associations.articles=null!==(e=this.associations.articles)&&void 0!==e?e:[]}},Ne=je,ze=(i("9868"),Object(p["a"])(Ne,Ae,Pe,!1,null,"bd9fcbba",null)),Ie=ze.exports,Fe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"has-text-centered"},["by-sa"===t.license?i("a",{attrs:{href:"https://creativecommons.org/licenses/by-sa/3.0/deed."+t.$language.current,target:"_blank",rel:"noreferer"}},[i("icon-creative-commons"),t._v("\n    CC\n    "),i("span",{attrs:{title:t.$gettext("Attribution — You must give appropriate credit, provide a link to the license, and indicate if changes were made.")}},[t._v("\n      BY\n    ")]),t._v(" "),i("span",{attrs:{title:t.$gettext("ShareAlike — If you remix, transform, or build upon the material, you must distribute your contributions under the same license as the original.")}},[t._v("\n      SA\n    ")]),t._v("\n    3.0\n    "),i("br"),t._v(" "),i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v(" This content is licensed under Creative Commons BY-SA 3.0 ")])],1):"by-nc-nd"==t.license?i("a",{attrs:{href:"https://creativecommons.org/licenses/by-nc-nd/3.0/deed."+t.$language.current,target:"_blank",rel:"noreferer"}},[i("icon-creative-commons"),t._v("\n    CC\n    "),i("span",{attrs:{title:t.$gettext("Attribution — You must give appropriate credit, provide a link to the license, and indicate if changes were made.")}},[t._v("\n      BY\n    ")]),t._v(" "),i("span",{attrs:{title:t.$gettext("NonCommercial — You may not use the material for commercial purposes.")}},[t._v(" NC ")]),t._v(" "),i("span",{attrs:{title:t.$gettext("NoDerivatives — If you remix, transform, or build upon the material, you may not distribute the modified material.")}},[t._v("\n      ND\n    ")]),t._v("\n    3.0\n    "),i("br"),t._v(" "),i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v(" This content is licensed under Creative Commons BY-NC-ND 3.0 ")])],1):"copyright"==t.license?i("span",{attrs:{title:t.$gettext("This picture depicts a book cover. It is the property of its editor and/or author. It is presented here only for illustration purposes.")}},[i("fa-icon",{attrs:{icon:"ban"}}),t._v(" "),i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v(" This book cover is the property of its editor and/or author ")])],1):t._e()])},Ve=[],Ue={mixins:[u["a"]],computed:{license(){if(["route","waypoint","area","book"].includes(this.documentType))return"by-sa";if(["outing","profile","xreport"].includes(this.documentType))return"by-nc-nd";if("article"===this.documentType){if("collab"===this.document.article_type)return"by-sa";if("personal"===this.document.article_type)return"by-nc-nd";throw new Error("Unexpected article_type : "+this.document.article_type)}if("image"===this.documentType){if("collaborative"===this.document.image_type)return"by-sa";if("personal"===this.document.image_type)return"by-nc-nd";if("copyright"===this.document.image_type)return"copyright";throw new Error("Unexpected image_type : "+this.document.image_type)}throw new Error("Unexpected document_type: "+this.documentType)}}},Be=Ue,Re=Object(p["a"])(Be,Fe,Ve,!1,null,null,null),He=Re.exports,Ge=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.to?i("router-link",{staticClass:"toolbox-button",attrs:{to:t.to},on:{click:function(e){return t.$emit("click")}}},[i("span",{staticClass:"toolbox-button-icon"},[t._t("icon",[i("fa-icon",{class:t.iconClass,attrs:{icon:t.icon}})])],2),t._v(" "),i("span",[t._v("\n    "+t._s(t._f("uppercaseFirstLetter")(t.label))+"\n  ")])]):i(t.href?"a":"div",{tag:"component",staticClass:"toolbox-button",attrs:{href:t.href},on:{click:function(e){return t.$emit("click")}}},[i("span",{staticClass:"toolbox-button-icon"},[t._t("icon",[i("fa-icon",{class:t.iconClass,attrs:{icon:t.icon}})])],2),t._v(" "),i("span",[t._v("\n    "+t._s(t._f("uppercaseFirstLetter")(t.label))+"\n  ")])])},Ze=[],We={props:{icon:{type:[String,Array],required:!0},iconClass:{type:String,default:null},label:{type:String,required:!0},href:{type:String,default:null},to:{type:Object,default:null}}},Ye=We,Je=(i("f0ee"),Object(p["a"])(Ye,Ge,Ze,!1,null,"531c4672",null)),Qe=Je.exports,Ke=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("modal-card",{ref:"modalCard"},[i("div",{attrs:{slot:"title"},slot:"title"},[i("div",{staticClass:"control"},[i("div",{staticClass:"field"},[i("input",{ref:"input",staticClass:"input",attrs:{placeholder:t.$gettext("Search a document to associate...")},on:{input:t.search}})])])]),t._v(" "),t._l(t.data,(function(e){return i("association-items",{key:e.arrayName,attrs:{parent:t.document,"array-name":e.arrayName,"child-type":e.documentType,current:e.current,"forbidden-children":e.forbiddenChildren,propositions:t.propositions[e.searchArrayName]}})})),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"button is-primary",on:{click:function(e){return t.$refs.modalCard.hide()}}},[t._v("Close")])])],2)},Xe=[],ti=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"association-items"},[i("h2",{staticClass:"title is-2"},[t._v("\n    "+t._s(t._f("uppercaseFirstLetter")(t.$gettext(t.arrayName)))+"\n  ")]),t._v(" "),t._l(t.childs,(function(e){return i("div",{key:e.document.document_id,staticClass:"columns is-mobile is-gapless document-row has-hover-background"},[i("div",{staticClass:"column"},["profile"===t.childType?i("document-link",{attrs:{document:e.document,target:"_blank"}},[t._v("\n        @"+t._s(e.document.forum_username)+" ("),i("document-title",{attrs:{document:e.document}}),t._v(")\n      ")],1):"waypoint"===t.childType?i("pretty-waypoint-link",{attrs:{waypoint:e.document,target:"_blank"}}):"book"===t.childType?i("pretty-book-link",{attrs:{book:e.document,target:"_blank"}}):"outing"===t.childType?i("association-outing-link",{attrs:{outing:e.document}}):"image"===t.childType?i("association-image-link",{attrs:{image:e.document}}):"route"===t.childType?i("pretty-route-link",{attrs:{route:e.document,"hide-orientation":"","hide-height-diff-difficulties":"",target:"_blank"}}):i("document-link",{attrs:{document:e.document,target:"_blank"}})],1),t._v(" "),i("div",{staticClass:"column is-narrow"},[i("button",{staticClass:"button is-small is-pulled-right",class:{"is-loading":t.promise.loading,"is-danger":"current"===e.status,"is-info":"deleted"===e.status,"is-success":"proposition"===e.status},attrs:{disabled:e.disabled},on:{click:function(i){return t.onclick(e)}}},[t._v("\n        "+t._s(e.buttonLabel)+"\n      ")])])])})),t._v(" "),t.propositions&&t.propositions.total!==t.propositions.documents.length?i("div",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"has-text-grey-light has-text-centered"},[t._v("\n    Too many results: please refine your search.\n  ")]):t._e()],2)},ei=[],ii=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("document-link",{staticClass:"has-hover-background",attrs:{document:t.image,target:"_blank"}},[i("figure",{staticClass:"image is-96x96 association-image-link-child"},[i("img",{attrs:{src:t.getUrl(t.image),title:t.image.locales[0].title}})]),t._v(" "),i("span",{staticClass:"association-image-link-child"},[t._v("\n    "+t._s(t._f("max50chars")(t.image.locales[0].title))+"\n  ")])])},si=[],ni=i("e952"),ai={filters:{max50chars:t=>t&&t.length>50?t.substring(0,50)+"…":t},props:{image:{type:Object,required:!0}},methods:{getUrl(t){return ni["a"].getSquared(t)}}},ri=ai,oi=(i("d7de"),Object(p["a"])(ri,ii,si,!1,null,"49c1b9a5",null)),li=oi.exports,ci=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("document-link",{staticClass:"pretty-outing-link has-hover-background",attrs:{document:t.outing,target:"_blank"}},[i("span",{staticClass:"has-text-normal"},[t._v(" "+t._s(t.outing.date_end)+" • "+t._s(t.outing.author.name)+" - ")]),t._v(" "),i("document-title",{attrs:{document:t.outing}})],1)},ui=[],di={props:{outing:{type:Object,required:!0}}},mi=di,pi=(i("1b97"),Object(p["a"])(mi,ci,ui,!1,null,"8bbbf378",null)),hi=pi.exports,vi={components:{AssociationOutingLink:hi,AssociationImageLink:li},props:{parent:{type:Object,required:!0},arrayName:{type:String,required:!0},childType:{type:String,required:!0},current:{type:Array,required:!0},propositions:{type:Object,default:null},forbiddenChildren:{type:Array,default:null}},data(){return{promise:{},deleted:[]}},computed:{childs(){const t=new Map,e=function(e,i,s){for(const n of null!==e&&void 0!==e?e:[])t.has(n.document_id)||t.set(n.document_id,{sortKey:this.$documentUtils.getDocumentTitle(n).toLowerCase()+n.document_id,document:n,status:i,buttonLabel:s,disabled:"current"===i?!this.canRemove(n):!this.canAdd(n)})}.bind(this);e(this.current,"current",this.$gettext("Remove")),e(this.deleted,"deleted",this.$gettext("Put it back")),e(this.propositions?this.propositions.documents:void 0,"proposition",this.$gettext("Add"));const i=[...t.values()];return i.sort((t,e)=>t.sortKey<e.sortKey?-1:1),i}},methods:{canAdd(t){return(!this.forbiddenChildren||void 0===this.forbiddenChildren.find(e=>e.document_id===t.document_id))&&(this.parent.document_id!==t.document_id&&(!!this.$user.isModerator||("w"!==this.parent.type||"waypoint"!==this.childType)&&(("article"!==this.childType||"personal"!==t.article_type)&&("xreport"!==this.childType&&(this.childType,!0)))))},canRemove(t){return("o"!==this.parent.type||"route"!==this.childType||1!==this.current.length)&&(!!this.$user.isModerator||("o"===this.parent.type?t.document_id!==this.$user.id:this.parent.document_id===this.$user.id||("article"!==this.childType||"personal"!==t.article_type)&&("xreport"!==this.childType&&("image"!==this.childType&&("outing"===this.childType&&t.author.user_id===this.$user.id)))))},onclick(t){"current"===t.status?this.remove(t.document):this.add(t.document)},add(t){let e,i;"w"===this.parent.type&&"waypoints"===this.arrayName?(e=t,i=this.parent):(e=this.parent,i=t),this.promise=c["a"].association.create(e,i).then(()=>{this.current.push(t),this.deleted=this.deleted.filter(e=>e.document_id!==t.document_id)})},remove(t){this.promise=c["a"].association.remove(this.parent,t).then(()=>{this.current.splice(this.current.indexOf(t),1),this.deleted.push(t)})}}},fi=vi,_i=(i("8b1b"),Object(p["a"])(fi,ti,ei,!1,null,"096b9e12",null)),gi=_i.exports,bi={components:{AssociationItems:gi},mixins:[u["a"]],data(){return{promise:null,data:{},propositions:{},letterTypes:null}},computed:{dataArray(){return Object.values(this.data)}},created(){let t=Object.values(H["a"].objectDefinitions[this.documentType].fields);t=t.filter(t=>"associations"===t.parent),t.sort((t,e)=>t.associationEditorOrder<e.associationEditorOrder?-1:1),this.letterTypes=t.map(t=>H["a"].objectDefinitions[t.documentType].letter),t.map(this.addToData)},methods:{show(){this.$refs.modalCard.show(),this.$nextTick(()=>this.$refs.input.focus())},addToData(t){this.data[t.name]={arrayName:t.name,documentType:t.documentType,current:this.document.associations[t.name],searchArrayName:t.documentType+"s"},"waypoints"===t.name?this.data[t.name].forbiddenChildren=this.document.associations.waypoint_children:"waypoint_children"===t.name&&(this.data[t.name].forbiddenChildren=this.document.associations.waypoints),"users"===t.name&&(this.data[t.name].searchArrayName="users")},search(t){const e=t.target.value;e.length>=3&&c["a"].search({q:e,t:this.letterTypes.join(","),limit:5}).then(this.computePropositions)},computePropositions(t){this.propositions=t.data}}},yi=bi,wi=Object(p["a"])(yi,Ke,Xe,!1,null,null,null),xi=wi.exports;const Ci={947587:{url:"https://greenspits.com/topo/mollans-sur-ouveze/"},1150854:{url:"https://greenspits.com/topo/la-ramirole-2/"},820728:{url:"https://greenspits.com/topo/la-carriere-du-maupas/"},107049:{url:"https://www.vtno.fr/adh%C3%A9sion/"},318456:{url:"https://www.vtno.fr/adh%C3%A9sion/"},276273:{url:"https://www.vtno.fr/adh%C3%A9sion/"},177942:{url:"https://www.vtno.fr/adh%C3%A9sion/"},176860:{url:"https://www.vtno.fr/adh%C3%A9sion/"},103555:{url:"https://www.vtno.fr/adh%C3%A9sion/"},103083:{url:"https://www.vtno.fr/adh%C3%A9sion/"},103082:{url:"https://www.vtno.fr/adh%C3%A9sion/"},43267:{url:"https://www.vtno.fr/adh%C3%A9sion/"},42469:{url:"https://www.vtno.fr/adh%C3%A9sion/"},42426:{url:"https://www.vtno.fr/adh%C3%A9sion/"},42425:{url:"https://www.vtno.fr/adh%C3%A9sion/"},42253:{url:"https://www.vtno.fr/adh%C3%A9sion/"},41298:{url:"https://www.vtno.fr/adh%C3%A9sion/"},40768:{url:"https://www.vtno.fr/adh%C3%A9sion/"},40767:{url:"https://www.vtno.fr/adh%C3%A9sion/"},40766:{url:"https://www.vtno.fr/adh%C3%A9sion/"},40756:{url:"https://www.vtno.fr/adh%C3%A9sion/"},549732:{url:"https://www.vtno.fr/adh%C3%A9sion/"},14080:{url:"https://www.accessfund.org/join-or-give"},252272:{url:"https://access-society.ca/Donate"},1203403:{url:"http://thepeakboltfund.blogspot.com/"},1203390:{url:"https://www.cumbriaboltfund.co.uk/bolting"},1264698:{url:"https://www.paypal.com/donate/?cmd=_s-xclick&hosted_button_id=XQ4S2XU3WH5F6"},14474:{url:"https://www.7amax.co.uk/"},1274261:{url:"http://www.thesarvo.com/confluence/display/cctpublic/Home"},14151:{url:"https://maltaclimbingclub.org/bolt-fund/"},14125:{url:"http://www.climbphilippines.com/boltfund.html"},14154:{url:"https://www.malaysianboltingfund.com/"},14137:{url:"https://alpineclub.org.nz/product/bolting-fund/"}},ki=function(t,e){return t&&e?t.filter(t=>e.includes(t)):[]};var $i=function(t){if(!["r","w","a"].includes(t.type))return null;if("r"===t.type){if(!ki(t.activities,["mountain_climbing","rock_climbing"]).length)return null;if(!["P1","P1+"].includes(t.equipment_rating))return null}else if("w"===t.type){if("climbing_outdoor"!==t.waypoint_type)return null;if(!ki(t.equipment_ratings,["P1","P1+"]).length)return null}const e=[];if(e.push(t),"r"===t.type){const i=t.associations.waypoints.find(e=>e.document_id===t.main_waypoint_id);i&&e.push(i)}t.areas&&(e.push(...t.areas.filter(t=>"range"===t.area_type)),e.push(...t.areas.filter(t=>"admin_limits"===t.area_type)),e.push(...t.areas.filter(t=>"country"===t.area_type)));for(const i of e)if(Ci[i.document_id])return Ci[i.document_id];return null};const Li=new qt["a"].format.GeoJSON;var qi={components:{ToolBoxButton:Qe,LicenseBox:He,AssociatedDocuments:Ie,AssociationsWindow:xi,DeleteLocaleWindow:ve,DeleteDocumentWindow:ce,MergeDocumentWindow:qe,TranslateWindow:Te},mixins:[u["a"],I,F],data(){return{isAccountBlocked:null}},reportingIssueMail:"topo-fr@camptocamp.org",computed:{reportingSubject(){return this.$gettext("Issue report")},reportingBody(){return encodeURIComponent(this.$gettext("Describe here your issue")+"\r\n\r\n----\r\n\r\n"+window.location.href)},available_langs(){return this.document.available_langs.filter(t=>this.$route.params.lang!==t)},showAssociationEditor(){return!["area"].includes(this.documentType)},missingLangs(){const t=[];for(const e of H["a"].langs)this.document.available_langs.includes(e)||t.push(e);return t},fundraiser(){return $i(this.document)},hasMissingLangs(){return this.missingLangs.length>0},linkToClosestDocuments(){const t={name:this.documentType+"s",query:{wtyp:"waypoint"===this.documentType?this.document.waypoint_type:void 0}};if(this.document.geometry&&this.document.geometry.geom){const e=Li.readFeatures(this.document.geometry.geom)[0],i=qt["a"].extent.buffer(e.getGeometry().getExtent(),1e4);t.query.bbox=i.map(Math.floor).join(",")}return t},linkToParaglidingOutings(){return{name:"outings",query:{act:"paragliding",w:[..."waypoint"===this.documentType?[this.document.document_id]:[],...this.document.associations.waypoints.map(t=>t.document_id),...this.document.associations.waypoint_children.map(t=>t.document_id)].join(",")}}}},created(){this.$user.isModerator&&"profile"===this.documentType&&c["a"].moderator.isAccountBlocked(this.document.document_id).then(t=>{this.isAccountBlocked=t.data.blocked})},methods:{lockDocumentAction(){this.document.protected?c["a"].moderator.unprotectDocument(this.document.document_id).then(()=>{this.document.protected=!1}):c["a"].moderator.protectDocument(this.document.document_id).then(()=>{this.document.protected=!0})},lockAccountAction(){this.isAccountBlocked?c["a"].moderator.unblockAccount(this.document.document_id).then(()=>{this.isAccountBlocked=!1}):c["a"].moderator.blockAccount(this.document.document_id).then(()=>{this.isAccountBlocked=!0})}}},Mi=qi,Si=(i("e52b"),Object(p["a"])(Mi,ie,se,!1,null,"5a5e5ce4",null)),Ei=Si.exports,Oi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label-value",{attrs:{label:t.$gettext("activities")}},[i("activities",{staticClass:"is-size-3 has-text-secondary",attrs:{activities:t.document.activities}})],1)},Di=[],Ti=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"label-value"},[i("span",{staticClass:"label-value-label has-text-weight-bold"},[t._v(t._s(t._f("uppercaseFirstLetter")(t.label)))]),t._v(" "),i("span",[t._t("default")],2)])},Ai=[],Pi={props:{label:{type:String,required:!0}}},ji=Pi,Ni=(i("764f"),Object(p["a"])(ji,Ti,Ai,!1,null,"0f0d5ee2",null)),zi=Ni.exports,Ii={components:{LabelValue:zi},mixins:[u["a"]]},Fi=Ii,Vi=(i("a6cd"),Object(p["a"])(Fi,Oi,Di,!1,null,"634b598a",null)),Ui=Vi.exports,Bi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.value1&&t.value2?i("label-value",{attrs:{label:t.label}},[i("span",[t._v(t._s(t.signPlus)+t._s(t.value1)+" "+t._s(t.field1.unit))]),t._v(" "),i("span",[t._v("/")]),t._v(" "),i("span",[t._v(t._s(t.signMinus)+t._s(t.value2)+" "+t._s(t.field2.unit))])]):t.value1?i("field-view",{attrs:{document:t.document,field:t.field1}}):t.value2?i("field-view",{attrs:{document:t.document,field:t.field2}}):t._e()},Ri=[],Hi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.hasValue&&t.visible?i("label-value",{attrs:{label:t.label}},[i("document-field",{attrs:{document:t.document,field:t.field,unit:t.unit||t.field.unit,divisor:t.divisor}})],1):t._e()},Gi=[],Zi={components:{LabelValue:zi},mixins:[u["a"],u["c"]],props:{unit:{type:String,default:null},divisor:{type:Number,default:null},context:{type:String,default:null}},computed:{hasValue(){const t=this.document[this.field.name];return void 0!==t&&null!==t&&(!Array.isArray(t)||0!==t.length)},visible(){return this.field.isVisibleFor(this.document)},label(){return this.$gettext(this.field.name,this.context)}}},Wi=Zi,Yi=Object(p["a"])(Wi,Hi,Gi,!1,null,null,null),Ji=Yi.exports,Qi={components:{LabelValue:zi,FieldView:Ji},mixins:[u["a"]],props:{field1:{type:Object,required:!0},field2:{type:Object,required:!0},label:{type:String,required:!0},showSigns:{type:Boolean,default:!1}},computed:{value1(){return this.document[this.field1.name]},value2(){return this.document[this.field2.name]},signPlus(){return this.showSigns?"+":""},signMinus(){return this.showSigns?"-":""}}},Ki=Qi,Xi=Object(p["a"])(Ki,Bi,Ri,!1,null,null,null),ts=Xi.exports,es=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label-value",{attrs:{label:t.$gettext("activity")}},[i("icon-event-activity",{staticClass:"is-size-3 has-text-secondary",attrs:{"event-activity":t.document.event_activity}})],1)},is=[],ss={components:{LabelValue:zi},mixins:[u["a"]]},ns=ss,as=(i("dd43"),Object(p["a"])(ns,es,is,!1,null,"1d153684",null)),rs=as.exports,os=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.document.cooked[t.field.name]&&t.field.isVisibleFor(t.document)||t.$slots.after?i("div",{staticClass:"markdown-section"},["summary"==t.field.name||t.hideTitle?t._e():i("h2",{staticClass:"title is-2",class:{"no-print":!t.visible}},[i("span",[t._v("\n      "+t._s(t._f("uppercaseFirstLetter")(t.title||t.$gettext(t.field.name)))+"\n    ")]),t._v(" "),i("fa-icon",{staticClass:"is-size-6 is-pulled-right has-cursor-pointer no-print",attrs:{icon:"angle-down",rotation:t.visible?void 0:180},on:{click:function(e){t.visible=!t.visible}}})],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],attrs:{lang:t.lang}},[t.document.cooked[t.field.name]?i("markdown",{class:{"is-italic":"summary"===t.field.name},attrs:{content:t.document.cooked[t.field.name]}}):t._e(),t._v(" "),t._t("after")],2)]):t._e()},ls=[],cs={mixins:[u["a"],u["c"]],props:{hideTitle:{type:Boolean,default:!1},title:{type:String,default:null}},data(){return{visible:!0}},computed:{lang(){const t=this.$language.current,e=this.document?this.document.cooked.lang:null;return e===t?void 0:this.$language.getIANALanguageSubtag(e)}}},us=cs,ds=(i("7bd5"),Object(p["a"])(us,os,ls,!1,null,"248d095d",null)),ms=ds.exports,ps=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.profiles.length?i("span",[i("icon-profile",{staticClass:"is-size-5"}),t._v(" "),t._l(t.profiles,(function(t){return i("document-link",{key:t.document_id,staticClass:"user-link-label",attrs:{document:t,"uppercase-first-letter":""}})}))],2):t._e()},hs=[],vs={props:{profiles:{type:Array,required:!0}}},fs=vs,_s=(i("f74a"),Object(p["a"])(fs,ps,hs,!1,null,"33ca7efb",null)),gs=_s.exports,bs=i("7ddb");e["a"]={components:{DocumentViewHeader:nt,CommentsBox:pt,DoubleNumericField:ts,FieldView:Ji,LabelValue:zi,ActivitiesField:Ui,EventActivityField:rs,MapBox:Bt,MarkdownSection:ms,ProfilesLinks:gs,RecentOutingsBox:Yt,ToolBox:Ei,RoutesBox:ee,ImagesBox:yt},mixins:[I],props:{draft:{type:Object,default:null}},data(){return{promise:null}},head:{script:function(){if(!this.document)return null;const t="image"===this.documentType?this.imageJsonLd():this.documentJsonLd();return[{type:"application/ld+json",id:"json-ld",inner:JSON.stringify(t)}]},meta:function(){return this.document?this.documentOpenGraph():null}},computed:{documentId(){return parseInt(this.$route.params.id,10)},documentType(){return this.$route.name.split("-")[0]},fields(){return H["a"].objectDefinitions[this.documentType].fields},expected_lang(){var t;return null!==(t=this.$route.params.lang)&&void 0!==t?t:this.$language.current},document(){if(!this.promise||!this.promise.data)return null;const t=this.isVersionView?this.promise.data.document:this.promise.data;return t},version(){return this.promise.data&&this.isVersionView?this.promise.data.version:null},locale(){return this.document?this.document.cooked:null},lang(){return this.document?this.document.cooked.lang:null}},watch:{$route:{handler:"loadDocument",immediate:!0}},methods:{loadDocument(t){if(this.isVersionView)this.$imageViewer.clear(),this.promise=c["a"][this.documentType].getVersion(this.documentId,this.$route.params.lang,this.$route.params.version).then(t=>{t.data.version.next_version_id=t.data.next_version_id,t.data.version.previous_version_id=t.data.previous_version_id,t.data.document.areas=[],t.data.document.creator=null,t.data.document.associations={articles:[],books:[],images:[],users:[],waypoints:[],waypoint_children:[],all_routes:{documents:[]},recent_outings:{documents:[]}}});else if(this.isDraftView)this.promise={},this.$imageViewer.clear(),bs["a"].cook(this.draft.locales[0]).then(t=>{this.draft.cooked=t.data,this.$set(this.promise,"data",this.draft)});else{if(this.document&&parseInt(t.params.id,10)===this.document.document_id&&this.expected_lang===this.lang)return;this.$imageViewer.clear(),this.promise=c["a"][this.documentType].getCooked(this.documentId,this.expected_lang).then(this.handleRedirection).then(()=>{this.$root.$emit("trigger-scroll"),this.$emit("updateHead")}).then(this.scrollToHash).then(this.updateUrl)}},handleRedirection(){this.document.redirects_to&&this.$router.push({params:{id:this.document.redirects_to}})},scrollToHash(){this.$route.hash&&this.$nextTick(()=>{const t=document.querySelector(this.$route.hash);if(t){const e=document.documentElement,i=e.getBoundingClientRect(),s=t.getBoundingClientRect(),n=s.top-i.top;window.scrollTo(0,n-50)}else window.scrollTo(0,0)})},updateUrl(){let t=this.$documentUtils.getDocumentTitle(this.document,this.lang);t=t.normalize("NFD").replace(/[\u0300-\u036f]/g,""),t=t.toLowerCase().replace(/[^a-z0-9]+/g,"-");let e=`/${this.documentType}s/${this.documentId}/${this.lang}/${t}`;this.$route.hash&&(e+=this.$route.hash),this.$route.path!==e&&this.$router.replace(e)},imageJsonLd(){let t;switch(this.document.image_type){case"collaborative":t="http://creativecommons.org/licenses/by-sa/3.0/fr/";break;case"personal":t="http://creativecommons.org/licenses/by-nc-nd/3.0/fr/";break;case"copyright":default:t="https://www.camptocamp.org/articles/106728";break}return{"@context":"https://schema.org","@type":"ImageObject",contentUrl:ni["a"].get(this.document),license:t,acquireLicensePage:"https://www.camptocamp.org/articles/106728"}},documentJsonLd(){var t;const e=this.$documentUtils.getDocumentTitle(this.document,this.lang);let i={"@context":"https://schema.org","@type":"NewsArticle",headline:e};if(null!==(t=this.document.associations)&&void 0!==t&&t.images.length){const t=this.document.associations.images[0];i={...i,image:[ni["a"].getBig(t)]}}return i},documentOpenGraph(){var t;const e=this.$documentUtils.getDocumentTitle(this.document,this.lang);let i=[{p:"og:title",c:e},{p:"og:type",c:"article"===this.documentType?"article":"website"},{p:"og:url",c:`https://www.camptocamp.org/${this.documentType}s/${this.documentId}`},{p:"og:locale",c:this.$language.getIsoLanguageTerritory(this.lang)}];const s=this.$documentUtils.getLocaleSmart(this.document,this.lang);if(null!==s&&void 0!==s&&s.summary||null!==s&&void 0!==s&&s.description){const t=zt["a"].stripMarkdown((null===s||void 0===s?void 0:s.summary)||(null===s||void 0===s?void 0:s.description)).substring(0,200);i=[...i,{p:"og:description",c:t},{n:"description",c:t}]}if(null!==(t=this.document.associations)&&void 0!==t&&t.images.length){const t=this.document.associations.images[0];i=[...i,{p:"og:image",c:ni["a"].getBig(t)}]}return i}}}},"619b":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.value_,expression:"value_"}],staticClass:"is-checkradio is-primary",attrs:{id:"c2c-checkbox"+t._uid,type:"checkbox"},domProps:{checked:Array.isArray(t.value_)?t._i(t.value_,null)>-1:t.value_},on:{change:[function(e){var i=t.value_,s=e.target,n=!!s.checked;if(Array.isArray(i)){var a=null,r=t._i(i,a);s.checked?r<0&&(t.value_=i.concat([a])):r>-1&&(t.value_=i.slice(0,r).concat(i.slice(r+1)))}else t.value_=n},function(e){return t.$emit("change")}]}}),t._v(" "),i("label",{attrs:{for:"c2c-checkbox"+t._uid}},[t._t("default")],2)])},n=[],a=i("4b81"),r={mixins:[a["b"]],props:{value:{type:Boolean,default:null}}},o=r,l=(i("1a53"),i("2877")),c=Object(l["a"])(o,s,n,!1,null,"01026a8b",null);e["default"]=c.exports},6216:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("document-link",{staticClass:"pretty-book-link has-hover-background",attrs:{document:t.book}},[i("icon-book",{staticClass:"has-text-normal"}),t._v(" "),i("document-title",{attrs:{document:t.book}}),t._v(",\n  "),i("em",{staticClass:"has-text-normal"},[t._v(t._s(t.book.author))])],1)},n=[],a={props:{book:{type:Object,required:!0}}},r=a,o=(i("b0df"),i("2877")),l=Object(o["a"])(r,s,n,!1,null,"142b8288",null);e["default"]=l.exports},6249:function(t,e,i){"use strict";i("b55a")},"62d5":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section has-background-white-print"},[i("document-view-header",{attrs:{document:t.document,version:t.version,promise:t.promise}}),t._v(" "),t.document?i("div",{staticClass:"columns is-block-print"},[i("div",{staticClass:"column is-3"},[i("div",{staticClass:"box"},[i("activities-field",{attrs:{document:t.document}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.author}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.book_types}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.editor}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.langs}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.isbn}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.nb_pages}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.publication_date}}),t._v(" "),i("field-view",{staticStyle:{overflow:"hidden"},attrs:{document:t.document,field:t.fields.url}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.quality}})],1),t._v(" "),i("tool-box",{attrs:{document:t.document}})],1),t._v(" "),i("div",{staticClass:"column is-9"},[i("div",{staticClass:"box"},[i("markdown-section",{attrs:{document:t.document,field:t.fields.summary}}),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.description,"hide-title":""}}),t._v(" "),i("div",{staticStyle:{clear:"both"}})],1),t._v(" "),i("routes-box",{attrs:{document:t.document,"hide-buttons":""}}),t._v(" "),i("images-box",{attrs:{document:t.document}}),t._v(" "),i("comments-box",{attrs:{document:t.document}})],1)]):t._e()],1)},n=[],a=i("6197"),r={mixins:[a["a"]]},o=r,l=i("2877"),c=Object(l["a"])(o,s,n,!1,null,null,null);e["a"]=c.exports},"64d6":function(t,e,i){"use strict";i("a81c")},"65d6":function(t,e,i){},"66e4":function(t,e,i){t.exports=i.p+"img/mrd_carte.01ccffde.jpg"},"675d":function(t,e,i){},"67b4":function(t,e,i){"use strict";i("fa1c")},"697c":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("router-link",{attrs:{to:{name:t.documentType+"-diff",params:{id:t.id,versionFrom:t.versionFrom||"prev",versionTo:t.versionTo||"next",lang:t.lang}}}},[t._t("default",[t._v("diff")])],2)},n=[],a=i("a50d"),r={mixins:[a["b"]],props:{lang:{type:String,required:!0},id:{type:Number,required:!0},versionFrom:{type:[Number,String],required:!0},versionTo:{type:[Number,String],required:!0}}},o=r,l=i("2877"),c=Object(l["a"])(o,s,n,!1,null,null,null);e["default"]=c.exports},"6a22":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("router-link",{attrs:{to:{name:t.documentType+"-history",params:{id:t.document.document_id,lang:t.lang}}}},[t._t("default",[t._v(" hist ")])],2)},n=[],a=i("a50d"),r={mixins:[a["a"]],props:{lang:{type:String,required:!0}}},o=r,l=i("2877"),c=Object(l["a"])(o,s,n,!1,null,null,null);e["default"]=c.exports},"6a39":function(t,e,i){},"6b18":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"box",on:{click:t.click}},[t._t("default")],2)},n=[],a={methods:{click(){this.$emit("click")}}},r=a,o=(i("0ca6"),i("2877")),l=Object(o["a"])(r,s,n,!1,null,"d53475b4",null);e["default"]=l.exports},"6b29":function(t,e,i){},"6d3c":function(t,e,i){"use strict";i("9b6d")},"6dbd":function(t,e,i){},"6e91":function(t,e,i){"use strict";i("92e3")},"71e0":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{attrs:{title:t.$gettext("condition_rating")+" : "+t.$gettext(t.condition,"condition_ratings")}},[i("icon-condition",{attrs:{condition:t.condition}})],1)},n=[],a={props:{condition:{type:String,default:null}}},r=a,o=i("2877"),l=Object(o["a"])(r,s,n,!1,null,null,null);e["default"]=l.exports},"72ec":function(t,e,i){"use strict";i("6050")},"73ae":function(t,e,i){},7533:function(t,e,i){"use strict";i("53f3")},"75c6":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fa-icon",{attrs:{icon:["quality",t.quality]}})},n=[],a={props:{quality:{type:String,required:!0}}},r=a,o=i("2877"),l=Object(o["a"])(r,s,n,!1,null,null,null);e["default"]=l.exports},7625:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fa-icon",{attrs:{icon:"broom"}})},n=[],a=i("2877"),r={},o=Object(a["a"])(r,s,n,!1,null,null,null);e["default"]=o.exports},"764f":function(t,e,i){"use strict";i("c41b")},"76ab":function(t,e,i){},"77b8":function(t,e,i){},7931:function(t,e,i){t.exports=i.p+"img/serac.3a5fc9f6.png"},"79e8":function(t,e,i){},"7a07":function(t,e,i){"use strict";i("7b3c")},"7a69":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%",height:"100%"}},[i("div",{ref:"map",staticStyle:{width:"100%",height:"100%"},on:{click:function(e){t.showLayerSwitcher=!1}}}),t._v(" "),i("div",{ref:"layerSwitcherButton",staticClass:"ol-control ol-control-layer-switcher-button",attrs:{title:t.$gettext("Layers","Map controls")}},[i("button",{on:{click:function(e){e.stopPropagation(),t.showLayerSwitcher=!t.showLayerSwitcher}}},[i("fa-icon",{attrs:{icon:"layer-group"}})],1)]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showLayerSwitcher,expression:"showLayerSwitcher"}],ref:"layerSwitcher",staticClass:"ol-control ol-control-layer-switcher",on:{click:function(t){t.stopPropagation()}}},[i("div",[i("header",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Base layer")]),t._v(" "),t._l(t.mapLayers,(function(e){return i("div",{key:e.get("title"),on:{click:function(i){t.visibleLayer=e}}},[i("input",{attrs:{type:"radio"},domProps:{checked:e==t.visibleLayer}}),t._v("\n        "+t._s(t.$gettext(e.get("title"),"Map layer"))+"\n      ")])}))],2),t._v(" "),i("div",[i("header",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Slopes")]),t._v(" "),t._l(t.dataLayers,(function(e){return i("div",{key:e.get("title"),on:{click:function(i){return t.toogleMapLayer(e)}}},[i("input",{attrs:{type:"checkbox"},domProps:{checked:e.getVisible()}}),t._v("\n        "+t._s(t.$gettext(e.get("title"),"Map slopes layer"))+"\n      ")])})),t._v(" "),t.showProtectionAreas&&!t.editable?[i("header",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Protection areas")]),t._v(" "),i("input",{attrs:{type:"checkbox"},domProps:{checked:t.protectionAreasVisible},on:{click:t.toggleProtectionAreas}}),t._v(" "),i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Fauna protection areas")])]:t._e()],2)]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showCenterOnGeolocation,expression:"showCenterOnGeolocation"}],ref:"centerOnGeolocation",staticClass:"ol-control ol-control-center-on-geolocation",attrs:{title:t.$gettext("Recenter on your current position")}},[i("button",{on:{click:t.activateCenterOnGeolocation}},[i("fa-icon",{attrs:{icon:"bullseye"}})],1)]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showFilterControl,expression:"showFilterControl"}],ref:"useMapAsFilter",staticClass:"ol-control ol-control-use-map-as-filter"},[i("button",{class:{"has-text-success":t.filterDocumentsWithMap},on:{click:function(e){t.filterDocumentsWithMap=!t.filterDocumentsWithMap}}},[i("fa-icon",{attrs:{icon:"search"}}),t._v(" "),i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Filter on map extent")])],1)]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showRecenterOn,expression:"showRecenterOn"}],ref:"recenterOnControl",staticClass:"ol-control ol-control-recenter-on",class:{"ol-control-recenter-on_on-top":!t.showFilterControl}},[i("input",{attrs:{type:"text",placeholder:t.$gettext("Recenter on...")},on:{input:t.searchRecenterPropositions}})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showRecenterOnPropositions,expression:"showRecenterOnPropositions"}],ref:"recenterOnPropositions",staticClass:"ol-control ol-control-recenter-on-propositions",class:{"ol-control-recenter-on-propositions_on-top":!t.showFilterControl}},[t.recenterPropositions&&t.recenterPropositions.data&&t.recenterPropositions.data.features?i("ul",t._l(t.recenterPropositions.data.features,(function(e,s){return i("li",{key:s,on:{click:function(i){return t.recenterOn(e)}}},[t._v("\n        "+t._s(e.properties.name)+",\n        "),i("small",[t._v(t._s(e.properties.state)+", "+t._s(e.properties.country))])])})),0):t._e()]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.editable,expression:"editable"}],ref:"resetGeometry",staticClass:"ol-control ol-control-reset-geometry"},[i("button",{directives:[{name:"translate",rawName:"v-translate"}],on:{click:t.resetGeometry}},[t._v("Reset geometry")])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.editable,expression:"editable"}],ref:"clearGeometry",staticClass:"ol-control ol-control-clear-geometry"},[i("button",{directives:[{name:"translate",rawName:"v-translate"}],on:{click:t.clearGeometry}},[t._v("Clear")])]),t._v(" "),t.protectionAreasVisible?i("biodiv-information",{ref:"BiodivInformation",attrs:{data:t.biodivData}}):t._e(),t._v(" "),t.protectionAreasVisible?i("swiss-protection-area-information",{ref:"SwissProtectionAreaInformation",attrs:{data:t.swissProtectionAreaData}}):t._e()],1)},n=[],a=(i("5319"),i("ddb0"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("modal-window",{ref:"modalWindow"},[i("div",{staticClass:"has-text-centered",attrs:{slot:"header"},slot:"header"},[i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v(" Sensitive area: ")]),t._v(" "),i("span",[t._v("\n      "+t._s(t.data.title)+"\n    ")])]),t._v(" "),t.data.period?i("p",[i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("sensitive_months:")]),t._v(" "),i("span",[t._v(t._s(t.months.join(", ")))])]):t._e(),t._v(" "),t._l(t.descriptionParagraphs,(function(e,s){return i("p",{key:s},[t._v(t._s(e))])})),t._v(" "),i("a",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{href:t.data.infoUrl,target:"_blank",rel:"noopener"}},[t._v("More info")]),t._v(" |\n  "),i("a",{attrs:{href:t.data.kmlUrl,target:"_blank",rel:"noopener"}},[t._v("KML")])],2)}),r=[],o=i("9944"),l={props:{data:{type:Object,required:!0}},computed:{descriptionParagraphs(){var t;const e=(null!==(t=this.data.description)&&void 0!==t?t:"").split(/<br ?\/?>/);let i=0;for(i in e)e[i]=o["a"].decodeHtmlEntities(e[i]);return e},months(){const t=[];for(const e in this.data.period)this.data.period[e]&&t.push(this.$dateUtils.month(parseInt(e,10)));return t}},methods:{show(){this.$refs.modalWindow.show()}}},c=l,u=i("2877"),d=Object(u["a"])(c,a,r,!1,null,null,null),m=d.exports,p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("modal-window",{ref:"modalWindow"},[i("div",{staticClass:"has-text-centered",attrs:{slot:"header"},slot:"header"},[i("span",[t._v("\n      "+t._s(t.type)+"\n    ")]),t._v(" "),i("span",[t._v("\n      "+t._s(t.data.properties.label)+"\n    ")])]),t._v(" "),i("table",[i("tbody",[t.protectionStatus?i("tr",[i("td",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Protection status")]),t._v(" "),i("td",[t._v(t._s(t.protectionStatus))])]):t._e(),t._v(" "),t.data.properties.schutzzeit?i("tr",[i("td",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Period of protection")]),t._v(" "),i("td",[t._v(t._s(t.data.properties.schutzzeit))])]):t._e(),t._v(" "),t.dispositions.length>0?i("tr",[i("td",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Dispositions")]),t._v(" "),i("td",[t._v(t._s(t.dispositions))])]):t._e(),t._v(" "),t.additionalInformation.length>0?i("tr",[i("td",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Additional information")]),t._v(" "),i("td",[t._v(t._s(t.additionalInformation))])]):t._e()])])])},h=[],v={props:{data:{type:Object,required:!0}},computed:{type(){switch(this.data.layerBodId){case"ch.bafu.wrz-wildruhezonen_portal":return this.$gettext("Protection area:");case"ch.bafu.wrz-jagdbanngebiete_select":return this.$gettext("Fauna protection site:");default:return this.$gettext("Sensitive area:")}},dispositions(){var t;let e=this.$language.current;"fr"!==e&&"de"!==e&&"it"!==e&&(e="fr");const i=null!==(t=this.data.properties["best_"+e])&&void 0!==t?t:"";return o["a"].decodeHtmlEntities(i)},additionalInformation(){var t;const e=null!==(t=this.data.properties.zusatzinformation)&&void 0!==t?t:"";return o["a"].decodeHtmlEntities(e)},protectionStatus(){var t;let e=this.$language.current;return"fr"!==e&&"de"!==e&&"it"!==e&&(e="fr"),o["a"].decodeHtmlEntities(null!==(t=this.data.properties["schutzs_"+e])&&void 0!==t?t:"")}},methods:{show(){this.$refs.modalWindow.show()}}},f=v,_=Object(u["a"])(f,p,h,!1,null,null,null),g=_.exports,b=i("14ac"),y=i("dac7");function w(t,e,i="jpeg",s="current",n=!1){return new y["a"].layer.Tile({title:t,type:"base",visible:!1,source:new y["a"].source.XYZ({attributions:['<a target="_blank" rel="noopener" href="http://www.swisstopo.admin.ch">swisstopo</a>'],urls:["10","11","12","13","14"].map(t=>`https://wmts${t}.geo.admin.ch/1.0.0/${e}/default/${s}/3857/{z}/{x}/{y}.${i}`),maxZoom:17}),restricted:n})}function x(t,e,i="jpeg"){const s=[],n=[],a=y["a"].proj.get("EPSG:3857"),r=y["a"].extent.getWidth(a.getExtent())/256;for(let c=0;c<18;c++)n[c]=c.toString(),s[c]=r/Math.pow(2,c);const o=new y["a"].tilegrid.WMTS({origin:[-20037508,20037508],resolutions:s,matrixIds:n}),l=new y["a"].source.WMTS({url:"//wxs.ign.fr/"+b["a"].ignApiKey+"/wmts",layer:e,matrixSet:"PM",format:"image/"+i,projection:"EPSG:3857",tileGrid:o,style:"normal",attributions:['<a href="http://www.geoportail.fr/" target="_blank" rel="noreferer noopener"><img src="//api.ign.fr/geoportail/api/js/latest/theme/geoportal/img/logo_gp.gif"></a>']});return new y["a"].layer.Tile({title:t,type:"base",visible:!1,source:l})}function C(t,e){let i,s="http://www.ign.es/wmts/";switch(e){case"raster":default:s+="mapa-raster",i="MTN";break;case"base":s+="ign-base",i="IGNBaseTodo";break;case"ortho":s+="pnoa-ma",i="OI.OrthoimageCoverage";break}const n=21,a=y["a"].proj.get("EPSG:3857"),r=y["a"].extent.getWidth(a.getExtent())/256,o=[],l=[];for(let u=0;u<n;u++)l[u]=u.toString(),o[u]=r/Math.pow(2,u);const c=new y["a"].tilegrid.WMTS({extent:[-20037508.34,-20037508.34,20037508.34,20037508.34],origin:[-20037508.34,20037508.34],resolutions:o,matrixIds:l});return new y["a"].layer.Tile({title:t,type:"base",visible:!1,source:new y["a"].source.WMTS({url:s,layer:i,matrixSet:"EPSG:3857",format:"image/jpeg",projection:"EPSG:3857",tileGrid:c,attributions:['CC BY 4.0 <a href="www.scne.es" target="_blank" rel="noreferrer noopener>www.scne.es</a>']})})}function k(t,e){let i,s;switch(e){case"raster":default:i="png",s="bmapgrau";break;case"ortho":i="jpeg",s="bmaporthofoto30cm";break}const n=20,a=y["a"].proj.get("EPSG:3857"),r=y["a"].extent.getWidth(a.getExtent())/256,o=[],l=[];for(let u=0;u<n;u++)l[u]=u.toString(),o[u]=r/Math.pow(2,u);const c=new y["a"].tilegrid.WMTS({extent:[-20037508.34,-20037508.34,20037508.34,20037508.34],origin:[-20037508.34,20037508.34],resolutions:o,matrixIds:l});return new y["a"].layer.Tile({title:t,type:"base",visible:!1,source:new y["a"].source.WMTS({name:"basemap.at",urls:["","1","2","3","4"].map(t=>`https://maps${t}.wien.gv.at/basemap/${s}/normal/google3857/{TileMatrix}/{TileRow}/{TileCol}.${i}`),requestEncoding:"REST",layer:"geolandbasemap",matrixSet:"google3857",tileGrid:c,attributions:'<a href="https://www.basemap.at" target="_blank" rel="norefferer noopener">www.basemap.at</a>'})})}const $=function(){const t=new y["a"].layer.Tile({title:"OpenTopoMap",type:"base",visible:!0,source:new y["a"].source.XYZ({url:"https://{a-c}.tile.opentopomap.org/{z}/{x}/{y}.png",attributions:'© <a href="//openstreetmap.org/copyright">OpenStreetMap</a> | © <a href="//opentopomap.org" target="_blank" rel="noreferer">OpenTopoMap</a>',maxZoom:17})}),e=x("IGN maps","GEOGRAPHICALGRIDSYSTEMS.MAPS"),i=x("IGN ortho","ORTHOIMAGERY.ORTHOPHOTOS"),s=w("SwissTopo","ch.swisstopo.pixelkarte-farbe","jpeg","current",!0),n=C("IGN raster (es)","raster"),a=C("IGN ortho (es)","ortho"),r=k("Basemap (at)","raster"),o=k("Basemap ortho (at)","ortho");return[t,e,i,s,n,a,r,o]},L=function(){const t=x("IGN","GEOGRAPHICALGRIDSYSTEMS.SLOPES.MOUNTAIN","png");t.setOpacity(.4);const e=w("SwissTopo","ch.swisstopo.hangneigung-ueber_30","png","20160101",!0);return e.setOpacity(.4),[t,e]},q=function(){const t=w("Swiss tranquility zones","ch.bafu.wrz-wildruhezonen_portal","png");t.setOpacity(.7);const e=w("Swiss fauna protection zones","ch.bafu.wrz-jagdbanngebiete_select","png");return e.setOpacity(.7),[t,e]};var M=i("ecee");const S=function(t,e){let i;if(e){const e={text:o["a"].stringDivider(t,30,"\n"),textAlign:"left",overflow:!0,offsetX:20,font:"12px verdana,sans-serif",stroke:new y["a"].style.Stroke({color:"white",width:3}),fill:new y["a"].style.Fill({color:"black"}),textBaseline:"middle"};i=new y["a"].style.Text(e)}return i},E=function(){return new y["a"].style.Style({stroke:new y["a"].style.Stroke({color:[190,190,190,1],width:1}),fill:new y["a"].style.Fill({color:[254,228,120,.7]})})},O=function(t){return new y["a"].style.Style({stroke:new y["a"].style.Stroke({color:t?"red":"green",width:t?5:3}),image:new y["a"].style.Circle({fill:new y["a"].style.Fill({color:t?"rgba(255, 0, 0, 0.5)":"rgba(0, 255, 0, 0.9)"}),radius:t?10:5})})},D=function(t,e,i,s){const n=s?30:20,a=s?20:15;e=e.replace("<svg ",`<svg width="${n}px" height="${n}px" `),e=e.replace('fill="currentColor"',`fill="${i}"`);const r=new y["a"].style.Style({image:new y["a"].style.Icon({src:"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(e)}),text:S(t,s)}),o=new y["a"].style.Style({image:new y["a"].style.Circle({radius:a,fill:new y["a"].style.Fill({color:"rgba(255, 255, 255, 0.5)"}),stroke:new y["a"].style.Stroke({color:"#ddd",width:2})})});return[o,r]},T={i:Object(M["b"])({prefix:"fas",iconName:"image"}).html[0],o:Object(M["b"])({prefix:"document-type",iconName:"outing"}).html[0],r:Object(M["b"])({prefix:"fas",iconName:"route"}).html[0],u:Object(M["b"])({prefix:"fas",iconName:"user"}).html[0],x:Object(M["b"])({prefix:"fas",iconName:"flag-checkered"}).html[0]},A={excellent:"#008000",good:"#9ACD32",average:"#FFFF00",poor:"#FF0000",awful:"#8B0000"},P=function(t,e,i){const s=t.type;let n=null,a=null;if(n=t.condition_rating?A[t.condition_rating]:"#F93","i"===s||"u"===s||"x"===s||"o"===s||"r"===s)a=T[s];else{if("w"!==s){if("a"===s)return new y["a"].style.Style;throw new Error("Wrong document specification")}a=Object(M["b"])({prefix:"waypoint",iconName:t.waypoint_type||"misc"}).html[0]}return D(e,a,n,i)},j=function(t,e){return new y["a"].style.Style({stroke:new y["a"].style.Stroke({color:e?"red":"yellow",width:3}),text:S(t,e)})},N=new y["a"].format.GeoJSON;var z=i("bc3a"),I=i.n(z);function F(){this.url="https://biodiv-sports.fr/api/v2/sensitivearea/",this.axios=I.a.create()}F.prototype.fetchData=function(t,e,i){"fr"!==i&&"en"!==i&&"it"!==i&&(i="en");const s={in_bbox:`${t[0]},${t[1]},${t[2]},${t[3]}`,language:i,fields:"id,geometry,name,description,info_url,period,kml_url"};if(e&&e.length>0){const t=[1,2,4];e.indexOf("paragliding")>0&&t.push(3),s["practices"]=t.join(",")}return this.axios.get(this.url,{params:s})};var V=F;function U(){this.axios=I.a.create()}U.prototype.identify=function(t,e,i,s,n){"fr"!==n&&"de"!==n&&"it"!==n&&(n="en");const a="https://api3.geo.admin.ch/rest/services/api/MapServer/identify",r="all:"+["ch.bafu.wrz-jagdbanngebiete_select","ch.bafu.wrz-wildruhezonen_portal"].join(","),o=`${t[0]},${t[1]}`,l="esriGeometryPoint",c="geojson",u=`${e[0]},${e[1]},${e[2]},${e[3]}`,d=96*window.devicePixelRatio,m=`${i},${s},${d}`,p=3;return I.a.get(a+"?geometry="+o+"&geometryType="+l+"&geometryFormat="+c+"&layers="+r+"&mapExtent="+u+"&imageDisplay="+m+"&tolerance="+p+"&lang="+n)};var B=U,R=i("0307");function H(){R["a"].call(this,"https://photon.komoot.io/api/")}H.prototype=Object.create(R["a"].prototype),H.prototype.constructor=H,H.prototype.getPropositions=function(t,e,i){let s={q:t,lon:i[0],lat:i[1]};return["en","de","fr","it"].includes(e)&&(s={...s,lang:e}),this.get("/",{params:s})};var G=new H;const Z=[-4e5,52e5,12e5,6e6],W=12,Y=19,J=13,Q=new V,K=new B;var X={components:{BiodivInformation:m,SwissProtectionAreaInformation:g},props:{documents:{type:Array,default:null},showFilterControl:{type:Boolean,default:!1},showRecenterOn:{type:Boolean,default:!1},showCenterOnGeolocation:{type:Boolean,default:!1},showProtectionAreas:{type:Boolean,default:!1},biodivSportsActivities:{type:Array,default:null},geomDetailEditable:{type:Boolean,default:!1},editedDocument:{type:Object,default:null},oldDocument:{type:Object,default:null},newDocument:{type:Object,default:null},highlightedDocument:{type:Object,default:null}},data(){let t=$(),e=L();return this.$user.isLogged||(t=t.filter(t=>!t.get("restricted")),e=e.filter(t=>!t.get("restricted"))),{map:null,mapLayers:t,dataLayers:e,protectionAreasLayer:new y["a"].layer.Vector({source:new y["a"].source.Vector}),protectionAreasLayers:q(),documentsLayer:new y["a"].layer.Vector({source:new y["a"].source.Vector}),waypointsLayer:new y["a"].layer.Vector({source:new y["a"].source.Vector}),imagesLayer:new y["a"].layer.Vector({source:new y["a"].source.Vector}),geolocation:null,showLayerSwitcher:!1,filterDocumentsWithMap:Boolean(this.$route.query.bbox),recenterPropositions:null,showRecenterOnPropositions:!1,biodivData:{},swissProtectionAreaData:{properties:{}},protectionAreasVisible:this.showProtectionAreas&&!this.editable,initialGeometry:null,highlightedFeature:null,minZoomLevel:W}},computed:{editable(){return null!==this.editedDocument},urlValue:{get(){const t=this.$route.query.bbox;return t?t.replace("%252C",",").split(",").map(t=>parseInt(t,10)):void 0}},view(){return this.map.getView()},visibleLayer:{get(){return this.mapLayers.find(t=>!0===t.getVisible())},set(t){this.visibleLayer.setVisible(!1),t.setVisible(!0)}}},watch:{documents:{handler(){this.drawDocumentMarkers(),this.fitMapToDocuments()}},editedDocument:{handler(){this.drawDocumentMarkers(),this.fitMapToDocuments(),this.setDrawInteraction()},deep:!0},"editedDocument.geometry.geom":{handler(t,e){null===e&&null!==t&&this.fitMapToDocuments(!0)}},filterDocumentsWithMap:"sendBoundsToUrl",highlightedDocument(){this.highlightedDocument?this.setHighlightedFeature(this.documentsLayer.getSource().getFeatureById(this.highlightedDocument.document_id)):this.setHighlightedFeature(null)}},mounted(){this.map=new y["a"].Map({target:this.$refs.map,controls:[new y["a"].control.Zoom({zoomInTipLabel:this.$gettext("Zoom in","Map controls"),zoomOutTipLabel:this.$gettext("Zoom out","Map controls")}),new y["a"].control.FullScreen({source:this.$el,tipLabel:this.$gettext("Toggle full-screen","Map Controls")}),new y["a"].control.ScaleLine,new y["a"].control.Control({element:this.$refs.layerSwitcherButton}),new y["a"].control.Control({element:this.$refs.layerSwitcher}),new y["a"].control.Control({element:this.$refs.useMapAsFilter}),new y["a"].control.Control({element:this.$refs.centerOnGeolocation}),new y["a"].control.Control({element:this.$refs.recenterOnControl}),new y["a"].control.Control({element:this.$refs.recenterOnPropositions}),new y["a"].control.Control({element:this.$refs.resetGeometry}),new y["a"].control.Control({element:this.$refs.clearGeometry}),new y["a"].control.Attribution({tipLabel:this.$gettext("Attributions","Map controls")})],layers:[...this.mapLayers,...this.dataLayers,...this.protectionAreasLayers,this.protectionAreasLayer,this.imagesLayer,this.documentsLayer,this.waypointsLayer],view:new y["a"].View({maxZoom:Y}),loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0}),this.map.on("moveend",this.sendBoundsToUrl),this.map.on("moveend",this.getBiodivSportsAreas),this.protectionAreasVisible&&this.protectionAreasLayers.forEach(t=>t.setVisible(!0)),this.geolocation=new y["a"].Geolocation({trackingOptions:{enableHighAccuracy:!0},projection:this.view.getProjection()}),this.geolocation.on("change:position",this.setCenterOnGeoLocation),this.drawDocumentMarkers(),this.urlValue?this.view.fit(this.urlValue,{size:this.map.getSize()}):this.fitMapToDocuments(!0),this.editable?(this.initialGeometry=JSON.parse(JSON.stringify(this.editedDocument.geometry)),this.setModifyInteractions(),this.setDrawInteraction(),this.setDragAndDropInteraction()):(this.map.on("pointermove",this.onPointerMove),this.map.on("click",this.onClick))},methods:{setModifyInteractions(){const t=this.documentsLayer.getSource(),e=new y["a"].interaction.Modify({source:t});this.map.addInteraction(e),this.map.addInteraction(new y["a"].interaction.Snap({source:t})),e.on("modifyend",t=>{for(const e of t.features.getArray())this.updateDocumentGeometryFromFeature(e)})},setDrawInteraction(){var t;const e=this.documentsLayer.getSource();this.drawInteraction&&this.map.removeInteraction(this.drawInteraction),this.drawInteraction=null,this.editedDocument.geometry=null!==(t=this.editedDocument.geometry)&&void 0!==t?t:{},this.editedDocument.geometry.geom?this.geomDetailEditable&&!this.editedDocument.geometry.geom_detail&&(this.drawInteraction=new y["a"].interaction.Draw({source:e,type:"LineString"})):this.drawInteraction=new y["a"].interaction.Draw({source:e,type:"Point"}),this.drawInteraction&&(this.map.addInteraction(this.drawInteraction),this.drawInteraction.on("drawend",t=>{this.setDocumentGeometryFromFeature(t.feature)}))},setDragAndDropInteraction(){const t=new y["a"].interaction.DragAndDrop({formatConstructors:[y["a"].format.GPX,y["a"].format.KML]});t.on("addfeatures",function(t){t.features.map(this.setDocumentGeometryFromFeature),this.fitMapToDocuments(!0)}.bind(this)),this.map.addInteraction(t)},updateDocumentGeometryFromFeature(t){const e=t.get("document");e&&this.setDocumentGeometry(e,t.get("geometry"))},setDocumentGeometryFromGpx(t){const e=new y["a"].format.GPX,i=e.readFeatures(t,{featureProjection:"EPSG:3857"});i.map(this.setDocumentGeometryFromFeature),this.fitMapToDocuments(!0)},setDocumentGeometryFromFeature(t){this.setDocumentGeometry(this.editedDocument,t.get("geometry")),this.drawDocumentMarkers(),this.setDrawInteraction()},setDocumentGeometry(t,e){const i=N.writeGeometryObject(e);if("Point"===i.type)i.coordinates=i.coordinates.slice(0,2),t.geometry.geom=JSON.stringify(i);else if("LineString"===i.type||"MultiLineString"===i.type){if("a"===t.type){i.type="Polygon";const t=JSON.stringify(i.coordinates[0][0]),e=JSON.stringify(i.coordinates[0][i.coordinates[0].length-1]);t!==e&&i.coordinates[0].push(i.coordinates[0][0])}if(t.geometry.geom_detail=JSON.stringify(i),!t.geometry.geom){const i="MultiLineString"===e.getType()?e.getLineString(0):e;this.setDocumentGeometry(t,new y["a"].geom.Point(i.getCoordinateAt(.5)))}}else{if("Polygon"!==i.type)throw new Error("Unexpected geometry type : "+e.type);t.geometry.geom_detail=JSON.stringify(i)}},drawDocumentMarkers(){const t=this.documentsLayer.getSource(),e=this.waypointsLayer.getSource(),i=this.imagesLayer.getSource();t.clear(),e.clear(),i.clear(),this.addDocumentFeature(this.oldDocument,t,O(!0)),this.addDocumentFeature(this.newDocument,t,O(!1)),this.addDocumentFeature(this.editedDocument,t);for(const o of null!==(s=this.documents)&&void 0!==s?s:[]){var s;if(this.addDocumentFeature(o,t),o.associations){for(const t of null!==(n=o.associations.waypoints)&&void 0!==n?n:[]){var n;this.addDocumentFeature(t,e)}for(const t of null!==(a=o.associations.waypoint_children)&&void 0!==a?a:[]){var a;this.addDocumentFeature(t,e)}if("o"===o.type)for(const t of null!==(r=o.associations.images)&&void 0!==r?r:[]){var r;this.$documentUtils.hasSameGeolocation(t,o)||this.addDocumentFeature(t,i)}}}},addDocumentFeature(t,e,i){if(!t||!t.geometry)return;const s=this.$documentUtils.getDocumentTitle(t);if(t.geometry.geom){const n=this.addFeature(e,JSON.parse(t.geometry.geom),null!==i&&void 0!==i?i:P(t,s,!1),i?null:P(t,s,!0));n.set("document",t),n.setId(t.document_id)}t.geometry.geom_detail&&this.addFeature(e,JSON.parse(t.geometry.geom_detail),null!==i&&void 0!==i?i:j(s,!1),i?null:j(s,!0)).set("document",t)},addFeature(t,e,i,s){if(!e)return;const n=N.readFeature(e);return n.set("normalStyle",i),s&&n.set("highlightedStyle",s),n.setStyle(i),t.addFeature(n),n},addBiodivSportsData(t){const e=t["data"]["results"],i=this.protectionAreasLayer.getSource();for(const s of e){const t=N.readGeometry(s["geometry"],{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"}),e=new y["a"].Feature({geometry:t,id:s["id"],biodivData:{source:"biodivsports",title:s["name"],description:s["description"],infoUrl:s["info_url"],kmlUrl:s["kml_url"],period:s["period"]}});e.setId("biodiv_"+s["id"]),e.set("normalStyle",E()),e.setStyle(e.get("normalStyle")),i.addFeature(e),this.$emit("has-protection-area")}},toggleProtectionAreas(){this.protectionAreasVisible=!this.protectionAreasVisible,this.protectionAreasLayers.forEach(t=>t.setVisible(!t.getVisible())),this.protectionAreasLayer.setVisible(!this.protectionAreasLayer.getVisible())},sendBoundsToUrl(){const t=this.view.calculateExtent(),e=Object.assign({},this.$route.query);e.bbox=this.filterDocumentsWithMap?t.map(Math.round).join(","):void 0,e.bbox!==this.$route.query.bbox&&this.$router.push({query:e})},fitMapToDocuments(t){if((this.filterDocumentsWithMap||this.editable)&&!t)return;let e=y["a"].extent.createEmpty();for(const i of[this.documentsLayer,this.waypointsLayer])y["a"].extent.extend(e,i.getSource().getExtent());4!==e.filter(isFinite).length&&(e=Z),this.view.fit(e,{size:this.map.getSize()}),this.view.setZoom(Math.min(this.minZoomLevel,this.view.getZoom()))},toogleMapLayer(t){t.setVisible(!t.getVisible())},getExtent(t){let e=this.view.calculateExtent(this.map.getSize()||null);return t&&(e=y["a"].proj.transformExtent(e,y["a"].proj.get("EPSG:3857"),y["a"].proj.get(t))),e},onPointerMove(t){let e=null;this.map.forEachFeatureAtPixel(t.pixel,(function(t){return e=t,!0})),this.setHighlightedFeature(e),this.$emit("highlight-document",e?e.get("document"):null)},setHighlightedFeature(t){t!==this.highlightedFeature&&(this.highlightedFeature&&this.highlightedFeature.setStyle(this.highlightedFeature.get("normalStyle")),this.highlightedFeature=t,t&&t.get("highlightedStyle")&&t.setStyle(t.get("highlightedStyle")))},onClick(t){const e=this.map.forEachFeatureAtPixel(t.pixel,t=>t);if(e){const t=e.get("document");t?this.$router.push({name:this.$documentUtils.getDocumentType(t.type),params:{id:t.document_id}}):e.get("biodivData")&&(this.biodivData=e.get("biodivData"),this.$refs.BiodivInformation.show())}else if(this.protectionAreasVisible){const e=this.view.calculateExtent(this.map.getSize()||null),i=y["a"].proj.transformExtent(e,y["a"].proj.get("EPSG:3857"),y["a"].proj.get("EPSG:21781")),s=y["a"].proj.transform(t.coordinate,y["a"].proj.get("EPSG:3857"),y["a"].proj.get("EPSG:21781"));K.identify(s,i,this.map.getSize()[0],this.map.getSize()[1],this.$language.current).then(({data:t})=>{t.results&&t.results.length>0&&(this.swissProtectionAreaData=t.results[0],this.$refs.SwissProtectionAreaInformation.show())})}},activateCenterOnGeolocation(){this.geolocation.setTracking(!0)},setCenterOnGeoLocation(){const t=this.geolocation.getPosition();this.view.setZoom(J),this.view.setCenter(t),this.geolocation.setTracking(!1)},searchRecenterPropositions(t){const e=t.target.value;if(e&&e.length>=3){const t=this.view.getCenter(),i=y["a"].proj.toLonLat(t);this.recenterPropositions=G.getPropositions(e,this.$language.current,i),this.showRecenterOnPropositions=!0}},recenterOn(t){const e=N.readFeature(t);let i=e.get("extent"),s=e.getGeometry().flatCoordinates;i?(i=y["a"].proj.transformExtent(i,"EPSG:4326","EPSG:3857"),this.view.fit(i,{size:this.map.getSize(),maxZoom:12})):(s=y["a"].proj.transform(s,"EPSG:4326","EPSG:3857"),this.view.setCenter(s),this.view.setZoom(16)),this.showRecenterOnPropositions=!1},getBiodivSportsAreas(){if(!this.protectionAreasVisible)return;const t=this.view.calculateExtent(this.map.getSize()||null),e=y["a"].proj.transformExtent(t,y["a"].proj.get("EPSG:3857"),y["a"].proj.get("EPSG:4326"));Q.fetchData(e,this.biodivSportsActivities,this.$language.current).then(this.addBiodivSportsData)},clearGeometry(){this.editedDocument.geometry.geom=null,this.editedDocument.geometry.geom_detail=null,this.drawDocumentMarkers(),this.setDrawInteraction()},resetGeometry(){this.editedDocument.geometry=JSON.parse(JSON.stringify(this.initialGeometry)),this.drawDocumentMarkers(),this.setDrawInteraction()}}},tt=X,et=(i("cef9"),i("2b90"),i("2afa"),Object(u["a"])(tt,s,n,!1,null,"64d2c0bd",null));e["default"]=et.exports},"7ac6":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal",class:{"is-active":t.visible,"is-wide":t.wide}},[i("div",{staticClass:"modal-background",on:{click:t.hide}}),t._v(" "),i("div",{staticClass:"modal-card"},[t.$slots.title?i("header",{staticClass:"modal-card-head"},[i("p",{staticClass:"modal-card-title"},[t._t("title",[t._v("Modal title")])],2),t._v(" "),i("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:t.hide}})]):t._e(),t._v(" "),i("section",{staticClass:"modal-card-body"},[t._t("default",[t._v(" Modal content ")])],2),t._v(" "),i("footer",{staticClass:"modal-card-foot"},[t._t("footer",[t._v("footer")])],2)])])},n=[],a=i("85e7"),r={mixins:[a["a"]],props:{wide:{type:Boolean,default:!1}}},o=r,l=(i("5e01"),i("2877")),c=Object(l["a"])(o,s,n,!1,null,"bb118cf0",null);e["default"]=c.exports},"7b3c":function(t,e,i){},"7bd5":function(t,e,i){"use strict";i("4b28")},"7c31":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fa-icon",{attrs:{icon:"users"}})},n=[],a=i("2877"),r={},o=Object(a["a"])(r,s,n,!1,null,null,null);e["default"]=o.exports},"7c44":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"control buttons",class:{"has-error":t.hasError}},t._l(t.options,(function(e){return i("span",{key:e,staticClass:"multi-select-item has-cursor-pointer",attrs:{checked:t.value_.includes(e)},on:{click:function(i){return t.toggle(e)}}},[t._v("\n    "+t._s(t._f("uppercaseFirstLetter")(t.i18n?t.$gettext(e,t.i18nContext):e))+"\n  ")])})),0)},n=[],a=i("4b81"),r={mixins:[a["b"],a["a"]],props:{options:{type:Array,required:!0},i18n:{type:Boolean,default:!1},i18nContext:{type:String,default:void 0}}},o=r,l=(i("c123"),i("2877")),c=Object(l["a"])(o,s,n,!1,null,"302ef9d2",null);e["default"]=c.exports},"7d20":function(t,e,i){"use strict";i("99c4")},"7d56":function(t,e,i){var s={"./Activities.vue":"3405","./ContentBox.vue":"6b18","./DocumentField.vue":"cfdf","./DocumentRating.vue":"8e44","./DocumentTitle.vue":"2009","./DropdownButton.vue":"5222","./HtmlHeader.vue":"fac3","./LoadingNotification.vue":"4321","./Markdown.vue":"35f9","./TextualArray.vue":"bfa7","./buttons/DeleteButton.vue":"f0fd","./buttons/LoginButton.vue":"2a7d","./icons/IconActivity.vue":"1714","./icons/IconBlocked.vue":"e431","./icons/IconCondition.vue":"5630","./icons/IconCreativeCommons.vue":"f6c7","./icons/IconEdit.vue":"877d","./icons/IconEventActivity.vue":"8ad9","./icons/IconForum.vue":"d024","./icons/IconGeometryDetail.vue":"09c4","./icons/IconHeightDiffUp.vue":"a8fb","./icons/IconHelp.vue":"caa1","./icons/IconHistory.vue":"e830","./icons/IconModerator.vue":"7625","./icons/IconQuality.vue":"75c6","./icons/IconRatings.vue":"14f8","./icons/IconRobot.vue":"98a9","./icons/IconTopoguide.vue":"5b9f","./icons/IconUsers.vue":"7c31","./icons/IconWaypointType.vue":"2075","./icons/IconYeti.vue":"5316","./icons/document/IconArea.vue":"a3e9","./icons/document/IconArticle.vue":"86d5","./icons/document/IconBook.vue":"419f","./icons/document/IconDocument.vue":"db40","./icons/document/IconImage.vue":"9fef","./icons/document/IconMap.vue":"f5d3","./icons/document/IconOuting.vue":"5904","./icons/document/IconProfile.vue":"5061","./icons/document/IconRoute.vue":"fe7b","./icons/document/IconWaypoint.vue":"b1cb","./icons/document/IconXreport.vue":"fd54","./inputs/InputActivity.vue":"fbba","./inputs/InputCheckbox.vue":"619b","./inputs/InputDate.vue":"b354","./inputs/InputDatetime.vue":"a5c7","./inputs/InputDocument.vue":"5a9a","./inputs/InputEventActivity.vue":"8bff","./inputs/InputMarkdown.vue":"8ecd","./inputs/InputMultiSelect.vue":"7c44","./inputs/InputOrientation.vue":"2b05","./inputs/InputSimple.vue":"a40c","./inputs/InputYesNo.vue":"b86a","./links/AddLink.vue":"f03c","./links/AssociationHistoryLink.vue":"43bc","./links/AuthorLink.vue":"e5fb","./links/ContributorLink.vue":"e4dd","./links/DiffLink.vue":"697c","./links/DocumentLink.vue":"4a54","./links/EditLink.vue":"07d2","./links/HistoryLink.vue":"6a22","./links/VersionLink.vue":"5f22","./markers/MarkerCondition.vue":"71e0","./markers/MarkerDocumentType.vue":"a20c","./markers/MarkerGpsTrace.vue":"4683","./markers/MarkerHelper.vue":"d7dc","./markers/MarkerImageCount.vue":"457a","./markers/MarkerQuality.vue":"db5b","./modals/ModalCard.vue":"7ac6","./modals/ModalConfirmation.vue":"b34d","./modals/ModalWindow.vue":"17f8","./pretty-links/PrettyBookLink.vue":"6216","./pretty-links/PrettyOutingLink.vue":"ae0c","./pretty-links/PrettyRouteLink.vue":"8f9c","./pretty-links/PrettyWaypointLink.vue":"16a2"};function n(t){var e=a(t);return i(e)}function a(t){if(!i.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}n.keys=function(){return Object.keys(s)},n.resolve=a,t.exports=n,n.id="7d56"},"7dd4":function(t,e,i){"use strict";i("2f83")},"7ddb":function(t,e,i){"use strict";i("ddb0");const s=function(){this._size=0,this._data=new Map,this._maxSize=25e4};s.prototype.feed=function(t,e){if(this.delete(t),this._data.set(t,e),this._size+=t.length+e.length,this._size>this._maxSize){const t=this._data.keys();while(this._size>this._maxSize)this.delete(t.next().value)}},s.prototype.has=function(t){return this._data.has(t)},s.prototype.get=function(t){const e=this._data.get(t);return this.feed(t,e),e},s.prototype.delete=function(t){this._data.has(t)&&(this._size-=this._data.get(t).length+t.length,this._data.delete(t))};var n=s,a=i("188b");const r=new Set(["lang","version","title","slope","conditions_levels","topic_id","participants"]),o=function(){this._cache=new n};o.prototype.has=function(t){return this._cache.has(t)},o.prototype.get=function(t){return this._cache.get(t)},o.prototype.feed=function(t,e){for(const i of Object.keys(t))!r.has(i)&&t[i]&&this._cache.feed(t[i],e[i])},o.prototype.cook=function(t){const e={},i={};let s=!1;for(const n of Object.keys(t))r.has(n)||!t[n]?i[n]=t[n]:this.has(t[n])?i[n]=this.get(t[n]):(s=!0,e[n]=t[n]);if(s)return a["a"].cooker(e).then(t=>{this.feed(e,t.data),t.data=Object.assign(i,t.data)});{const t={data:i};return{response:t,then(e){e(t)}}}};e["a"]=new o},"7e3e":function(t){t.exports=JSON.parse('{"access":{"type":"markdown","parent":"locales"},"access_comment":{"type":"markdown","parent":"locales"},"access_condition":{"values":"access_conditions"},"access_period":{"type":"markdown","parent":"locales"},"access_time":{"values":"access_times"},"activities":{"values":"activities","multiple":true,"required":true,"queryMode":"activities","helper":"1063015#activities"},"activity_rate":{"values":"activity_rates"},"age":{"type":"number","min":0,"max":120,"units":"years"},"aid_rating":{"values":"aid_ratings","queryMode":"valuesRangeSlider","i18n":false,"helper":"133323#aid"},"anonymous":{"type":"boolean","default":false},"area_type":{"values":"area_types","required":true},"areas":{"type":"document","parent":"associations","documentType":"area","multiple":true,"url":"a"},"article_categories":{"name":"categories","values":"article_categories","multiple":true,"required":true},"article_type":{"values":"article_types","required":true},"articles":{"type":"document","parent":"associations","documentType":"article","multiple":true,"url":"c"},"author":{"minLength":2,"i18n":false},"author_status":{"values":"author_statuses","helper":"1063015#author-status"},"autonomy":{"values":"autonomies","helper":"1063015#autonomy"},"avalanche_level":{"values":"avalanche_levels","helper":"1063015#avalanche-level"},"avalanche_signs":{"values":"avalanche_signs","multiple":true,"helper":"1063027#avalanche-signs"},"avalanche_slope":{"values":"avalanche_slopes","helper":"1063015#avalanche-slope"},"avalanches":{"type":"markdown","parent":"locales"},"best_periods":{"values":"months","multiple":true},"blanket_unstaffed":{"type":"boolean","nullable":true},"book_types":{"values":"book_types","multiple":true,"required":true},"books":{"type":"document","parent":"associations","documentType":"book","multiple":true,"url":"b"},"camera_name":{"type":"text"},"capacity":{"type":"number","min":0,"max":150},"capacity_staffed":{"type":"number","min":0,"max":1000},"categories":{"values":"user_categories","multiple":true},"children_proof":{"values":"children_proof_types"},"climbing_indoor_types":{"values":"climbing_indoor_types","multiple":true},"climbing_outdoor_type":{"values":"climbing_outdoor_types"},"climbing_outdoor_types":{"values":"climbing_outdoor_types","multiple":true},"climbing_rating_max":{"values":"climbing_ratings","i18n":false},"climbing_rating_median":{"values":"climbing_ratings","i18n":false},"climbing_rating_min":{"values":"climbing_ratings","i18n":false},"climbing_styles":{"values":"climbing_styles","multiple":true},"code":{"type":"text"},"condition_rating":{"values":"condition_ratings","queryMode":"valuesRangeSlider","helper":"1063027#condition-rating"},"conditions":{"type":"markdown","parent":"locales"},"conditions_levels":{"type":"Array","parent":"locales","helper":"1063027#conditions_levels"},"configuration":{"values":"route_configuration_types","multiple":true,"helper":"1063045#configuration"},"custodianship":{"values":"custodianship_types"},"date":{"type":"date"},"date_end":{"type":"date","required":true},"date_start":{"type":"date","required":true,"queryMode":"date"},"date_time":{"type":"date_time"},"description":{"type":"markdown","parent":"locales"},"difficulties_height":{"type":"number","min":0,"max":9000,"unit":"m","helper":"1063045#difficulties-height"},"disable_comments":{"type":"boolean","default":false},"durations":{"values":"route_duration_types","multiple":true,"i18n":false,"queryMode":"valuesRangeSlider","unit":"day"},"editor":{"minLength":2},"elevation":{"type":"number","min":0,"max":9000,"unit":"m"},"elevation_access":{"type":"number","min":0,"max":9000,"unit":"m"},"elevation_down_snow":{"type":"number","min":0,"max":9000,"unit":"m","helper":"1063027#elevation-down_snow"},"elevation_max":{"type":"number","min":0,"max":9000,"unit":"m"},"elevation_min":{"type":"number","min":0,"max":9000,"unit":"m"},"elevation_up_snow":{"type":"number","min":0,"max":9000,"unit":"m","helper":"1063027#elevation-up_snow"},"engagement_rating":{"values":"engagement_ratings","queryMode":"valuesRangeSlider","i18n":false,"helper":"133323#engagement"},"equipment_rating":{"values":"equipment_ratings","queryMode":"valuesRangeSlider","i18n":false,"helper":"133323#equipment"},"equipment_ratings":{"values":"equipment_ratings","multiple":true,"i18n":false,"helper":"133323#equipment"},"event_activity":{"values":"event_activities","helper":"1063015#activities"},"event_type":{"values":"event_types","helper":"1063015#event-type"},"exposition_rock_rating":{"values":"exposition_rock_ratings","queryMode":"valuesRangeSlider","i18n":false,"helper":"133323#exposition"},"exposure_time":{"type":"number","min":0,"max":0,"unit":"ms"},"external_resources":{"type":"markdown","parent":"locales"},"file_size":{"type":"number","disabled":true},"filename":{"type":"text","disabled":true},"fnumber":{"type":"text"},"focal_length":{"type":"number","min":1,"unit":"mm"},"frequentation":{"values":"frequentation_types","helper":"1063027#frequentation"},"gas_unstaffed":{"type":"boolean","nullable":true},"gear":{"type":"markdown","parent":"locales","helper":"1063045#gear"},"gender":{"values":"genders"},"glacier_gear":{"values":"glacier_gear_types","required":true,"default":"no"},"glacier_rating":{"values":"glacier_ratings","queryMode":"valuesRangeSlider","helper":"1063027#glacier-rating"},"global_rating":{"values":"global_ratings","queryMode":"valuesRangeSlider","i18n":false,"helper":"133323#global-rating"},"ground_types":{"values":"ground_types","multiple":true},"group_management":{"type":"markdown","parent":"locales"},"heating_unstaffed":{"type":"boolean","nullable":true},"height":{"type":"number","disabled":true},"height_diff_access":{"type":"number","min":0,"max":3000,"unit":"m","helper":"1063045#height-diff-access"},"height_diff_difficulties":{"type":"number","min":0,"max":3000,"unit":"m","helper":"1063027#height-diff_difficulties"},"height_diff_down":{"type":"number","min":0,"max":9000,"unit":"m","helper":"1063027#height-diff_down"},"height_diff_up":{"type":"number","min":0,"max":9000,"unit":"m","helper":"1063027#height-diff_up"},"height_max":{"type":"number","min":0,"max":9000,"unit":"m"},"height_median":{"type":"number","min":0,"max":9000,"unit":"m"},"height_min":{"type":"number","min":0,"max":9000,"unit":"m"},"hiking_mtb_exposition":{"values":"exposition_ratings","queryMode":"valuesRangeSlider","i18n":false,"helper":"106859#hiking-mtb-exposition"},"hiking_rating":{"values":"hiking_ratings","queryMode":"valuesRangeSlider","i18n":false,"helper":"106859#hiking-rating"},"hut_comment":{"type":"markdown","parent":"locales"},"hut_status":{"values":"hut_status"},"lang":{"parent":"locales","values":"langs"},"images":{"type":"document","parent":"associations","documentType":"image","multiple":true},"ice_rating":{"values":"ice_ratings","queryMode":"valuesRangeSlider","i18n":false,"helper":"106871#ice-rating"},"image_categories":{"name":"categories","values":"image_categories","multiple":true},"image_type":{"values":"image_types","required":true,"url":"ityp"},"increase_impact":{"type":"markdown","parent":"locales","helper":"1063015#increase-impact"},"isbn":{"minLength":9,"maxLength":17},"iso_speed":{"type":"number","min":1,"unit":"ISO"},"labande_global_rating":{"values":"global_ratings","queryMode":"valuesRangeSlider","i18n":false,"helper":"107675#labande-global_rating"},"labande_ski_rating":{"values":"labande_ski_ratings","queryMode":"valuesRangeSlider","i18n":false,"helper":"107675#labande-ski-rating"},"langs":{"values":"langs","multiple":true},"length":{"type":"number","min":0,"max":9000,"unit":"m"},"length_total":{"type":"number","min":0,"unit":"m","queryMode":"input"},"lift_access":{"type":"boolean","nullable":true},"lift_status":{"values":"lift_status"},"main_waypoint_id":{"helper":"1063045#main-waypoint"},"maps_info":{"type":"text"},"matress_unstaffed":{"type":"boolean","nullable":true},"mixed_rating":{"values":"mixed_ratings","queryMode":"valuesRangeSlider","i18n":false,"helper":"106871#mixed-rating"},"modifications":{"type":"markdown","parent":"locales","helper":"1063015#modifications"},"motivations":{"type":"markdown","parent":"locales"},"mtb_down_rating":{"values":"mtb_down_ratings","queryMode":"valuesRangeSlider","i18n":false,"helper":"922056#mtb-down_rating"},"mtb_height_diff_portages":{"type":"number","min":0,"max":5000,"unit":"m"},"mtb_length_asphalt":{"type":"number","min":0,"max":500000,"unit":"m"},"mtb_length_trail":{"type":"number","min":0,"max":500000,"unit":"m"},"mtb_up_rating":{"values":"mtb_up_ratings","queryMode":"valuesRangeSlider","i18n":false,"helper":"922056#mtb-up_rating"},"name":{"disabled":true},"nb_impacted":{"type":"number","min":0,"max":1000,"helper":"1063015#nb-impacted"},"nb_pages":{"type":"number","min":0,"max":9000},"nb_participants":{"type":"number","min":0,"max":1000},"orientations":{"values":"orientation_types","multiple":true,"queryMode":"orientations","i18n":false,"helper":"1063045#orientations"},"other_comments":{"type":"markdown","parent":"locales"},"outings":{"type":"document","parent":"associations","documentType":"outing","multiple":true,"url":"o"},"paragliding_rating":{"values":"paragliding_ratings","queryMode":"valuesRangeSlider","i18n":true},"parking_fee":{"values":"parking_fee_types"},"partial_trip":{"type":"boolean","default":false},"participant_count":{"type":"number","min":1,"max":9000},"participants":{"parent":"locales","type":"text","helper":"1063027#participants"},"phone":{"type":"tel"},"phone_custodian":{"type":"tel"},"place":{"type":"markdown","parent":"locales"},"previous_injuries":{"values":"previous_injuries"},"product_types":{"values":"product_types","multiple":true},"prominence":{"type":"number","min":0,"max":9000,"unit":"m"},"protected":{"type":"boolean","default":false},"public_transport":{"type":"boolean","default":false},"public_transportation_rating":{"values":"public_transportation_ratings"},"public_transportation_types":{"values":"public_transportation_types","multiple":true},"publication_date":{"type":"text"},"qualification":{"values":"qualification"},"quality":{"values":"quality_types","queryMode":"valuesRangeSlider","i18n":true,"default":"draft"},"rain_proof":{"values":"rain_proof_types"},"reduce_impact":{"type":"markdown","parent":"locales","helper":"1063015#reduce-impact"},"remarks":{"type":"markdown","parent":"locales"},"rescue":{"type":"boolean","nullable":true,"helper":"1063015#rescue"},"risk":{"type":"markdown","parent":"locales"},"risk_rating":{"values":"risk_ratings","queryMode":"valuesRangeSlider","i18n":false,"helper":"133323#objective-danger"},"rock_free_rating":{"values":"climbing_ratings","queryMode":"valuesRangeSlider","i18n":false,"helper":"133323#rock-free"},"rock_required_rating":{"values":"climbing_ratings","queryMode":"valuesRangeSlider","i18n":false,"helper":"133323#rock-required"},"rock_types":{"values":"rock_types","multiple":true},"route_description":{"type":"markdown","parent":"locales"},"route_history":{"type":"markdown","parent":"locales"},"route_length":{"type":"number","min":0,"max":500000,"unit":"m"},"route_study":{"type":"markdown","parent":"locales"},"route_types":{"values":"route_types","multiple":true,"helper":"1063045#route-types"},"routes":{"type":"document","parent":"associations","documentType":"route","multiple":true,"helper":"1063027#routes","url":"r"},"routes_quantity":{"type":"number","min":0,"max":9000},"safety":{"type":"markdown","parent":"locales","helper":"1063015#safety"},"scale":{"type":"text"},"severity":{"values":"severities","helper":"1063015#severity"},"ski_exposition":{"values":"exposition_ratings","queryMode":"valuesRangeSlider","i18n":false,"helper":"107675#ski-exposition"},"ski_rating":{"values":"ski_ratings","queryMode":"valuesRangeSlider","i18n":false,"helper":"107675#ski-rating"},"slackline_anchor1":{"type":"markdown","parent":"locales"},"slackline_anchor2":{"type":"markdown","parent":"locales"},"slackline_height":{"type":"number","min":0,"unit":"m"},"slackline_length_max":{"type":"number","min":0,"max":9000,"unit":"m"},"slackline_length_min":{"type":"number","min":0,"max":9000,"unit":"m"},"slackline_type":{"values":"slackline_types"},"slackline_types":{"values":"slackline_types","multiple":true},"slope":{"type":"text","parent":"locales"},"waypoint_slope":{"name":"slope","type":"number","min":0,"max":99,"unit":"°","skipSpaceBeforeUnit":true},"snow_clearance_rating":{"values":"snow_clearance_ratings"},"snow_quality":{"values":"snow_quality_ratings"},"snow_quantity":{"values":"snow_quantity_ratings"},"snowshoe_rating":{"values":"snowshoe_ratings","queryMode":"valuesRangeSlider","i18n":false,"helper":"239491#snowshoe-rating"},"summary":{"type":"markdown","parent":"locales"},"supervision":{"values":"supervision"},"time_management":{"type":"markdown","parent":"locales"},"timing":{"type":"markdown","parent":"locales"},"title":{"required":true,"parent":"locales","minLength":3,"queryMode":"input","url":"q"},"training":{"type":"markdown","parent":"locales"},"url":{"type":"url","minLength":6},"users":{"type":"document","parent":"associations","documentType":"profile","multiple":true,"helper":"1063027#users","url":"u"},"via_ferrata_rating":{"values":"via_ferrata_ratings","queryMode":"valuesRangeSlider","i18n":false,"helper":"925306#via-ferrata_rating"},"waypoint_type":{"values":"waypoint_types"},"waypoints":{"type":"document","parent":"associations","documentType":"waypoint","multiple":true,"url":"w"},"weather":{"type":"markdown","parent":"locales"},"weather_station_types":{"values":"weather_station_types","multiple":true},"width":{"type":"number","disabled":true},"xreports":{"type":"document","parent":"associations","documentType":"xreport","multiple":true}}')},"7e8b":function(t,e,i){},8037:function(t,e,i){"use strict";i("b659")},"835e":function(t,e,i){"use strict";i("0ae2")},"83d7":function(t,e,i){},"85e7":function(t,e,i){"use strict";e["a"]={data(){return{visible:!1}},methods:{show(){this.visible=!0,this.$emit("show")},hide(){this.visible=!1,this.$emit("hide")}}}},"86d5":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fa-icon",{attrs:{icon:"newspaper"}})},n=[],a=i("2877"),r={},o=Object(a["a"])(r,s,n,!1,null,null,null);e["default"]=o.exports},"877d":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fa-icon",{attrs:{icon:"edit"}})},n=[],a=i("2877"),r={},o=Object(a["a"])(r,s,n,!1,null,null,null);e["default"]=o.exports},"88f4":function(t,e,i){"use strict";i("6dbd")},8906:function(t,e,i){},"8a55":function(t,e,i){},"8a7f":function(t,e,i){"use strict";e["a"]={computed:{descriptionTitle(){return this.document&&"access"===this.document.waypoint_type?this.$gettext("road access"):this.$gettext("description")},accessTitle(){if(!this.document)return"";switch(this.document.waypoint_type){case"access":return this.$gettext("public transportation access");case"climbing_outdoor":return this.$gettext("pedestrian access");case"hut":return this.$gettext("pedestrian access","hut");default:return this.$gettext("road or pedestrian access")}},accessPeriodTitle(){if(!this.document)return"";switch(this.document.waypoint_type){case"hut":case"gite":case"camp_site":return this.$gettext("opening_periods");case"local_product":return this.$gettext("opening_hours");case"climbing_outdoor":return this.$gettext("restricted_access");default:return this.$gettext("access_period")}},descriptionPlaceholder(){const t=this.document?this.document.waypoint_type:void 0;switch(t){case"access":return this.$gettext("Describe road access");default:return this.$gettext("Describe here the waypoint")}},accessPlaceholder(){const t=this.document?this.document.waypoint_type:void 0;switch(t){case"access":return this.$gettext("Describe pt access");case"hut":return this.$gettext("Describe pedestrian access","hut");case"climbing_outdoor":return this.$gettext("Describe pedestrian access");default:return this.$gettext("Describe access")}},accessPeriodPlaceholder(){const t=this.document?this.document.waypoint_type:void 0;switch(t){case"hut":case"gite":case"camp_site":return this.$gettext("Describe opening periods");case"local_product":return this.$gettext("Describe opening hours");case"climbing_outdoor":return this.$gettext("Describe access restrictions");default:return this.$gettext("Describe access period")}}}}},"8ad9":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fa-icon",{class:"no-print",attrs:{icon:["activity",t.regularActivity]}})},n=[],a={props:{eventActivity:{type:String,required:!0}},computed:{regularActivity(){return"other"===this.eventActivity?"other":"alpine_climbing"===this.eventActivity?"mountain_climbing":"multipitch_climbing"===this.eventActivity||"sport_climbing"===this.eventActivity?"rock_climbing":this.eventActivity}}},r=a,o=i("2877"),l=Object(o["a"])(r,s,n,!1,null,null,null);e["default"]=l.exports},"8b1b":function(t,e,i){"use strict";i("22dc")},"8b52":function(t,e,i){"use strict";i("b705")},"8bfa":function(t,e,i){},"8bff":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"control",class:{"has-error":t.hasError}},t._l(t.event_activities,(function(e){return i("span",{key:e,staticClass:"input-item has-cursor-pointer",class:{"with-labels":t.showLabels},attrs:{checked:t.value_===e,title:t.showLabels?null:t.$gettext(e,"event_activities")},on:{click:function(i){t.value_=e}}},[i("icon-event-activity",{attrs:{"event-activity":e}}),t._v(" "),t.showLabels?i("span",{staticClass:"is-size-6 input-label"},[t._v("\n      "+t._s(t.$gettext(e,"event_activities"))+"\n    ")]):t._e()],1)})),0)},n=[],a=i("4b81"),r=i("25c4"),o={mixins:[a["b"]],props:{value:{type:String,default:null},showLabels:{type:Boolean,default:!1}},computed:{event_activities(){return r["a"].event_activities}}},l=o,c=(i("4ed6"),i("2877")),u=Object(c["a"])(l,s,n,!1,null,"db8eefc8",null);e["default"]=u.exports},"8caa":function(t,e,i){},"8e44":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(t.showHelper?"dropdown-button":"span",{tag:"component"},[i("span",{attrs:{slot:"button"},slot:"button"},[t.document.global_rating?i("span",{attrs:{title:t.$gettext("global_rating")}},[t._v("\n      "+t._s(t.document.global_rating)+"\n    ")]):t._e(),t._v(" "),t.document.via_ferrata_rating?i("span",{attrs:{title:t.$gettext("via_ferrata_rating")}},[t._v("\n      "+t._s(t.document.via_ferrata_rating)+"\n    ")]):t._e(),t._v(" "),i("span",[t.document.rock_free_rating?i("span",{attrs:{title:t.$gettext("rock_free_rating")}},[t._v("\n        "+t._s(t.document.rock_free_rating))]):t._e(),t.document.rock_required_rating?i("span",{attrs:{title:t.$gettext("rock_required_rating")}},[t._v(">"+t._s(t.document.rock_required_rating)+"\n      ")]):t._e()]),t._v(" "),t.document.aid_rating?i("span",{attrs:{title:t.$gettext("aid_rating")}},[t._v("\n      "+t._s(t.document.aid_rating)+"\n    ")]):t._e(),t._v(" "),t.document.engagement_rating?i("span",{attrs:{title:t.$gettext("engagement_rating")}},[t._v("\n      "+t._s(t.document.engagement_rating)+"\n    ")]):t._e(),t._v(" "),t.document.risk_rating?i("span",{attrs:{title:t.$gettext("risk_rating")}},[t._v("\n      "+t._s(t.document.risk_rating)+"\n    ")]):t._e(),t._v(" "),t.document.equipment_rating?i("span",{attrs:{title:t.$gettext("equipment_rating")}},[t._v("\n      "+t._s(t.document.equipment_rating)+"\n    ")]):t._e(),t._v(" "),t.document.exposition_rock_rating?i("span",{attrs:{title:t.$gettext("exposition_rock_rating")}},[t._v("\n      "+t._s(t.document.exposition_rock_rating)+"\n    ")]):t._e(),t._v(" "),t.document.ice_rating?i("span",{attrs:{title:t.$gettext("ice_rating")}},[t._v("\n      "+t._s(t.document.ice_rating)+"\n    ")]):t._e(),t._v(" "),t.document.mixed_rating?i("span",{attrs:{title:t.$gettext("mixed_rating")}},[t._v("\n      "+t._s(t.document.mixed_rating)+"\n    ")]):t._e(),t._v(" "),t.document.ski_rating?i("span",{attrs:{title:t.$gettext("ski_rating")}},[t._v("\n      "+t._s(t.document.ski_rating)+"\n    ")]):t._e(),t._v(" "),t.document.ski_rating&&(t.document.ski_exposition||t.document.labande_global_rating)?i("span",[t._v(" / ")]):t._e(),t._v(" "),t.document.ski_exposition||t.document.labande_global_rating?i("span",[t.document.ski_exposition?i("span",{attrs:{title:t.$gettext("ski_exposition")}},[t._v("\n        "+t._s(t.document.ski_exposition)+"\n      ")]):t._e(),t._v(" "),t.document.labande_global_rating?i("span",{attrs:{title:t.$gettext("labande_global_rating")}},[t._v("\n        "+t._s(t.document.labande_global_rating)+"\n      ")]):t._e()]):t._e(),t._v(" "),t.document.labande_ski_rating?i("span",{attrs:{title:t.$gettext("labande_ski_rating")}},[t._v("\n      /\n      "+t._s(t.document.labande_ski_rating)+"\n    ")]):t._e(),t._v(" "),t.document.snowshoe_rating?i("span",{attrs:{title:t.$gettext("snowshoe_rating")}},[t._v("\n      "+t._s(t.document.snowshoe_rating)+"\n    ")]):t._e(),t._v(" "),t.document.hiking_rating?i("span",{attrs:{title:t.$gettext("hiking_rating")}},[t._v("\n      "+t._s(t.document.hiking_rating)+"\n    ")]):t._e(),t._v(" "),t.document.mtb_up_rating?i("span",{attrs:{title:t.$gettext("mtb_up_rating")}},[t._v("\n      "+t._s(t.document.mtb_up_rating)+"\n    ")]):t._e(),t._v(" "),t.document.mtb_down_rating?i("span",{attrs:{title:t.$gettext("mtb_down_rating")}},[t._v("\n      "+t._s(t.document.mtb_down_rating)+"\n    ")]):t._e(),t._v(" "),t.document.hiking_mtb_exposition?i("span",{attrs:{title:t.$gettext("hiking_mtb_exposition")}},[t._v("\n      "+t._s(t.document.hiking_mtb_exposition)+"\n    ")]):t._e(),t._v(" "),t.showHelper?i("fa-icon",{staticClass:"marker-helper has-text-info no-print",attrs:{icon:"info-circle"}}):t._e()],1),t._v(" "),t._l(t.showHelper?t.displayed_ratings:[],(function(e){return i("router-link",{key:e,staticClass:"dropdown-item",attrs:{to:t.getHelperLink(t.fields[e].helper)}},[i("div",{staticClass:"has-text-weight-bold",staticStyle:{width:"2em",display:"inline-block"}},[t._v("\n      "+t._s(t.document[e])+"\n    ")]),t._v(" "),i("span",[t._v("\n      "+t._s(t.$gettext(e))+"\n    ")])])}))],2)},n=[],a=(i("ddb0"),i("25c4")),r=i("a50d"),o={mixins:[r["a"]],props:{showHelper:{type:Boolean,default:!1}},ratings:["global_rating","via_ferrata_rating","rock_free_rating","rock_required_rating","aid_rating","engagement_rating","risk_rating","equipment_rating","exposition_rock_rating","ice_rating","mixed_rating","ski_rating","ski_exposition","labande_global_rating","labande_ski_rating","snowshoe_rating","hiking_rating","mtb_up_rating","mtb_down_rating","hiking_mtb_exposition"],computed:{fields(){return a["a"].objectDefinitions[this.documentType].fields},displayed_ratings(){const t=[];for(const e of this.$options.ratings)this.document[e]&&t.push(e);return t}},methods:{getHelperLink(t){const e=t.split("#");return{name:"article",hash:"#"+e[1],params:{id:parseInt(e[0])}}}}},l=o,c=i("2877"),u=Object(c["a"])(l,s,n,!1,null,null,null);e["default"]=u.exports},"8e68":function(t,e,i){},"8ecd":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"control"},[i("markdown-editor",{attrs:{placeholder:t.placeholder},model:{value:t.value_,callback:function(e){t.value_=e},expression:"value_"}})],1)},n=[],a=i("4b81"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"markdown-editor",class:{"is-active":t.focus,fullScreen:t.fullScreen}},[i("div",{staticClass:"button-bar"},[i("div",{staticClass:"buttons has-addons is-pulled-right"},[i("editor-button",{attrs:{icon:"question-circle",tooltip:t.$gettext("help"),href:"https://www.camptocamp.org/articles/151910",target:"_blank"}}),t._v(" "),i("span",[t._v(" ")]),t._v(" "),i("editor-button",{attrs:{icon:t.fullScreen?"compress":"expand",tooltip:t.fullScreen?t.$gettext("Leave fullscreen"):t.$gettext("Toggle fullscreen")},on:{click:function(e){t.fullScreen=!t.fullScreen}}})],1),t._v(" "),i("div",{staticClass:"buttons has-addons"},[i("editor-button",{attrs:{icon:"bold",disabled:t.preview,tooltip:t.$gettext("strong text")},on:{click:t.handleBold}}),t._v(" "),i("editor-button",{attrs:{icon:"italic",disabled:t.preview,tooltip:t.$gettext("emphasized text")},on:{click:t.handleItalic}}),t._v(" "),i("editor-button",{attrs:{icon:"heading",disabled:t.preview,tooltip:t.$gettext("Heading")},on:{click:t.handleHeading}}),t._v(" "),i("span",[t._v(" ")]),t._v(" "),i("editor-button",{attrs:{icon:"image",disabled:t.preview,tooltip:t.$gettext("Insert image")},on:{click:t.handleImage}}),t._v(" "),i("editor-button",{attrs:{icon:"link",disabled:t.preview,tooltip:t.$gettext("Insert link")},on:{click:t.handleLink}}),t._v(" "),i("editor-button",{attrs:{icon:"grin",disabled:t.preview,tooltip:t.$gettext("Insert emoji")},on:{click:t.handleEmoji}}),t._v(" "),i("span",[t._v(" ")]),t._v(" "),i("editor-button",{attrs:{icon:"hashtag",disabled:t.preview,tooltip:t.$gettext("Pitch description tag")},on:{click:t.handleHashtag}}),t._v(" "),i("editor-button",{attrs:{icon:"list-ul",disabled:t.preview,tooltip:t.$gettext("Unordered list")},on:{click:t.handleListUl}}),t._v(" "),i("editor-button",{attrs:{icon:"list-ol",disabled:t.preview,tooltip:t.$gettext("Ordered list")},on:{click:t.handleListOl}}),t._v(" "),i("editor-button",{attrs:{icon:"code",disabled:t.preview,tooltip:t.$gettext("Unformatted text")},on:{click:t.handleCode}}),t._v(" "),i("editor-button",{attrs:{icon:"comment",disabled:t.preview,tooltip:t.$gettext("Quote")},on:{click:t.handleQuote}}),t._v(" "),i("span",[t._v(" ")]),t._v(" "),i("editor-button",{attrs:{icon:t.preview?"code":"eye",text:t.preview?t.$gettext("Back to code"):t.$gettext("Preview")},on:{click:function(e){t.preview=!t.preview}}})],1)]),t._v(" "),i("div",{staticClass:"markdown-editor-content"},[i("textarea",{ref:"textarea",staticClass:"textarea",attrs:{placeholder:t.placeholder},on:{change:t.onInput,focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}}),t._v(" "),t.preview&&!t.cookerPromise.error?i("markdown",{staticClass:"preview",attrs:{content:t.cooked}}):t._e(),t._v(" "),t.preview&&t.cookerPromise.error?i("div",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"preview-error has-background-danger has-text-warning has-text-weight-bold"},[t._v("\n      Oups! something went wrong...\n    ")]):t._e()],1),t._v(" "),i("link-helper",{ref:"linkHelper",on:{insert:t.insertLink}})],1)},o=[],l=(i("5319"),i("ddb0"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{staticClass:"button has-text-primary",attrs:{disabled:t.disabled,title:t.tooltip,target:t.target,href:t.href},on:{click:function(e){t.disabled||t.$emit("click",arguments[0])}}},[t.icon?i("span",{staticClass:"icon"},[i("fa-icon",{attrs:{icon:t.icon}})],1):t._e(),t._v(" "),t.text?i("span",[t._v("\n    "+t._s(t.text)+"\n  ")]):t._e()])}),c=[],u={props:{text:{type:String,default:null},icon:{type:String,default:null},tooltip:{type:String,default:null},disabled:{type:Boolean,default:!1},target:{type:String,default:null},href:{type:String,default:null}}},d=u,m=i("2877"),p=Object(m["a"])(d,l,c,!1,null,null,null),h=p.exports,v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("modal-card",{ref:"modalWindow"},[i("div",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{slot:"title"},slot:"title"},[t._v("Insert a link")]),t._v(" "),i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[t._v("\n      "+t._s(t._f("uppercaseFirstLetter")(t.$gettext("text to display")))+"\n    ")]),t._v(" "),i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.chunk,expression:"chunk"}],staticClass:"input",domProps:{value:t.chunk},on:{input:function(e){e.target.composing||(t.chunk=e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[t._v("\n      "+t._s(t._f("uppercaseFirstLetter")(t.$gettext("URL")))+"\n    ")]),t._v(" "),i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"url"}],staticClass:"input",domProps:{value:t.url},on:{input:function(e){e.target.composing||(t.url=e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"buttons",attrs:{slot:"footer"},slot:"footer"},[i("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"button is-success",on:{click:t.insert}},[t._v("Insert link")]),t._v(" "),i("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"button is-danger",on:{click:function(e){return t.$refs.modalWindow.hide()}}},[t._v("Cancel")])])])},f=[],_={data(){return{chunk:"",url:""}},methods:{show(t,e){this.chunk=null!==t&&void 0!==t?t:this.$gettext("text to display"),this.url=null!==e&&void 0!==e?e:"https:\\\\",this.$refs.modalWindow.show()},insert(){this.$emit("insert",this.chunk,this.url),this.$refs.modalWindow.hide()}}},g=_,b=Object(m["a"])(g,v,f,!1,null,null,null),y=b.exports,w=i("7ddb");function x(t,e){this.textarea=t,this.onInput=e}Object.defineProperty(x.prototype,"start",{get(){return this.textarea.selectionStart},set(t){this.textarea.selectionStart=t}}),Object.defineProperty(x.prototype,"end",{get(){return this.textarea.selectionEnd},set(t){this.textarea.selectionEnd=t}}),Object.defineProperty(x.prototype,"length",{get(){return this.end-this.start}}),Object.defineProperty(x.prototype,"text",{get(){return this.textarea.value.substr(this.start,this.length)}}),Object.defineProperty(x.prototype,"isEmpty",{get(){return this.start===this.end}}),x.prototype.set=function(t,e){this.start=t,this.end=null!==e&&void 0!==e?e:t},x.prototype.setText=function(t,e="",i=""){const s=e+t+i,n=this.start;this.textarea.value=this.textarea.value.substr(0,this.start)+s+this.textarea.value.substr(this.end,this.textarea.value.length),this.set(n+e.length,n+e.length+t.length),this.onInput(this.textarea.value)},x.prototype.replace=function(t,e){this.setText(this.text.replace(t,e))},x.prototype.isSurroundedBy=function(t,e){const i=t.length,s=e.length,n=this.textarea.value;return n.substr(this.start-i,i)===t&&n.substr(this.end,s)===e},x.prototype.expandToEntireLine=function(){const t=this.textarea.value.lastIndexOf("\n",this.start);this.start=t+1;const e=this.textarea.value.indexOf("\n",this.end);this.end=-1===e?this.textarea.value.length:e},x.prototype.linesStartsWith=function(t){for(const e of this.text.split("\n"))if(!e.startsWith(t))return!1;return!0},x.prototype.removeLinePrefix=function(t){this.setText(this.text.split("\n").map(e=>e.substr(t.length)).join("\n"))},x.prototype.addLinePrefix=function(t){this.setText(this.text.split("\n").map(e=>t+e).join("\n"))};var C={components:{EditorButton:h,LinkHelper:y},props:{value:{type:String,default:""},placeholder:{type:String,default:void 0}},data(){return{selection:null,focus:!1,preview:!1,fullScreen:!1,cookerPromise:{}}},computed:{cooked(){return this.cookerPromise?this.cookerPromise.loading?"<em>Loading...</em>":this.cookerPromise.response.data.value:null}},watch:{preview:"computePreview",value:"updateValue"},mounted(){this.$refs.textarea.value=this.value,this.selection=new x(this.$refs.textarea,this.onInput)},methods:{onInput(){this.$emit("input",this.$refs.textarea.value)},updateValue(){this.$refs.textarea.value=this.value},computePreview(){this.preview&&(this.cookerPromise=w["a"].cook({value:this.value}))},handleSimpleMarkdownTag(t,e){const i=t.length;if(this.selection.isSurroundedBy(t,t)){const t=this.selection.text;this.selection.set(this.selection.start-i,this.selection.end+i),this.selection.setText(t)}else{const i=this.selection.isEmpty?e:this.selection.text;this.selection.setText(i,t,t)}this.$refs.textarea.focus()},handleBlockMarkdownTag(t,e){this.selection.expandToEntireLine(),this.selection.isEmpty?(this.selection.setText(e),this.selection.set(this.selection.start+t.length)):this.selection.linesStartsWith(t)?(this.selection.removeLinePrefix(t),this.selection.set(this.selection.start)):(this.selection.addLinePrefix(t),this.selection.set(this.selection.start+t.length)),this.$refs.textarea.focus()},handleBold(){this.handleSimpleMarkdownTag("**",this.$gettext("strong text"))},handleItalic(){this.handleSimpleMarkdownTag("_",this.$gettext("emphasized text"))},handleHeading(){const t=this.$gettext("heading text");if(this.selection.expandToEntireLine(),this.selection.text.startsWith("#"))this.selection.replace(/^#+ */,"");else{const e=this.selection.isEmpty?t:this.selection.text;this.selection.setText(e,"## ")}this.$refs.textarea.focus()},handleLink(){this.$refs.linkHelper.show(this.selection.text,"")},insertLink(t,e){this.selection.setText(`[${t}](${e})`),this.$refs.textarea.focus()},handleImage(){this.selection.set(this.selection.start,this.selection.start),this.selection.setText("IMAGE_ID","\n\n[img="," right]Legend[/img]\n\n"),this.$refs.textarea.focus()},handleEmoji(){this.selection.set(this.selection.start,this.selection.start),this.selection.setText("smile",":",":"),this.$refs.textarea.focus()},handleHashtag(){this.selection.expandToEntireLine(),this.selection.isEmpty?(this.selection.setText("L# | cotation | length | description\nL# | cotation | length | description\nL# | cotation | length | description"),this.selection.set(this.selection.start+5)):this.selection.addLinePrefix("L# | "),this.$refs.textarea.focus()},handleListUl(){this.handleBlockMarkdownTag("* ","* item 1\n* item 2\n* item 3")},handleListOl(){this.handleBlockMarkdownTag("1. ","1. item 1\n2. item 2\n3. item 3")},handleCode(){this.selection.text.includes("\n")?this.handleBlockMarkdownTag("    "):this.handleSimpleMarkdownTag("`",this.$gettext("Unformatted text"))},handleQuote(){this.handleBlockMarkdownTag("> ","> Citation")}}},k=C,$=(i("522a"),Object(m["a"])(k,r,o,!1,null,"2e5b8ef6",null)),L=$.exports,q={components:{MarkdownEditor:L},mixins:[a["b"]],props:{value:{type:String,default:null}}},M=q,S=Object(m["a"])(M,s,n,!1,null,null,null);e["default"]=S.exports},"8f9c":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("document-link",{staticClass:"pretty-route-link has-hover-background",attrs:{document:t.route}},[i("document-title",{attrs:{document:t.route}}),t._v(" "),t.hideActivities?t._e():i("activities",{staticClass:"is-size-3 has-text-secondary icon-activities",attrs:{activities:t.route.activities}}),t._v(" "),t.route.height_diff_difficulties&&!t.hideHeightDiffDifficulties?i("span",{staticClass:"has-text-normal",attrs:{title:t.$gettext("height_diff_difficulties")}},[t._v("\n    "+t._s(t.route.height_diff_difficulties)+" m,\n  ")]):t._e(),t._v(" "),t.route.orientations&&!t.hideOrientation?i("span",{staticClass:"has-text-normal",attrs:{title:t.$gettext("orientations")}},[t._v("\n    "+t._s(t.route.orientations.join(", "))+",\n  ")]):t._e(),t._v(" "),i("document-rating",{staticClass:"has-text-normal",attrs:{document:t.route}}),t._v(" "),t.route.geometry.has_geom_detail?i("marker-gps-trace",{staticClass:"has-text-normal"}):t._e(),t._v(" "),t.hideArea?t._e():i("span",{staticClass:"has-text-normal"},t._l(t.rangeAreas,(function(e){return i("em",{key:e.document_id},[t._v("\n       • \n      "),i("small",[i("document-title",{attrs:{document:e}})],1)])})),0)],1)},n=[],a={props:{route:{type:Object,required:!0},hideActivities:{type:Boolean,default:!1},hideArea:{type:Boolean,default:!1},hideOrientation:{type:Boolean,default:!1},hideHeightDiffDifficulties:{type:Boolean,default:!1}},computed:{rangeAreas(){return this.route.areas.filter(t=>"range"===t.area_type)}}},r=a,o=(i("0247"),i("2877")),l=Object(o["a"])(r,s,n,!1,null,"0cd22982",null);e["default"]=l.exports},9111:function(t,e,i){"use strict";i("c8e9")},"91aa":function(t,e,i){"use strict";i("fbfa")},9299:function(t,e,i){},"92e3":function(t,e,i){},"93ea":function(t,e,i){"use strict";i("0e16")},"940e":function(t,e,i){t.exports=i.p+"img/mre_carte.4e515870.avif"},"94c4":function(t,e,i){"use strict";i("36ea")},9531:function(t,e,i){},9616:function(t,e,i){"use strict";i("ca53")},"97ee":function(t,e,i){"use strict";i("4f4e")},9868:function(t,e,i){"use strict";i("daba")},"98a9":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fa-icon",{attrs:{icon:"robot"}})},n=[],a=i("2877"),r={},o=Object(a["a"])(r,s,n,!1,null,null,null);e["default"]=o.exports},9944:function(t,e,i){"use strict";i("5319"),i("ddb0");var s=i("21a6"),n=i.n(s);e["a"]={stringDivider(t,e,i){if(t&&t.length>e){let s=e;while(s>0&&" "!==t[s]&&"-"!==t[s])s--;if(s>0){let n;n="-"===t.substring(s,s+1)?t.substring(0,s+1):t.substring(0,s);const a=t.substring(s+1);return n+i+this.stringDivider(a,e,i)}}return t},download(t,e,i){const s=navigator.userAgent,a=-1!==s.indexOf("Safari")&&-1===s.indexOf("Chrome"),r=void 0===i||a?"text/plain;charset=utf-8":i,o=new Blob([t],{type:r});n()(o,e)},downloadCsv(t,e,i){const s=(t,e)=>t[e],n=function(t){return null===t||void 0===t?"":"string"===typeof t?`"${t.replace(/"/g,'\\"')}"`:"boolean"===typeof t||"number"===typeof t?t:Array.isArray(t)?`"${t.join(",")}"`:""};if(!t)return;const a=new Set(["areas","locales","geometry","author"]);for(const o of t)for(const t in o)a.has(t)||i.set(t,s);i=new Map([...i.entries()].sort());const r=[[...i.keys()].join(";")];for(const o of t){const t=[];for(const[e,s]of i)t.push(n(s(o,e)));r.push(t.join(";"))}this.download(r.join("\n"),e,"text/csv;charset=utf-8")},intersectionIsNotNull(t,e){for(const i of t)if(e.includes(i))return!0;return!1},decodeHtmlEntities(t){if(!DOMParser)return t;const e=(new DOMParser).parseFromString(t,"text/html");return e.documentElement.textContent},stripMarkdown(t){return t.replace(/\[([^\]]+)\]\([^)]+\)/g,"$1").replace(/\[\[[^|]+\|([^\]]+)\]\]/g,"$1").replace(/([\\s\n])-(\\s\n)/g,"$1$2").replace(/[*_\\#~`]/g,"").replace(/<su[bp]>(.+)<\/su[bp]>/g,"$1")}}},"99c4":function(t,e,i){},"9a0b":function(t,e,i){"use strict";i("76ab")},"9b6d":function(t,e,i){},"9b99":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section has-background-white-print"},[i("document-view-header",{attrs:{document:t.document,version:t.version,promise:t.promise}}),t._v(" "),t.document?i("div",{staticClass:"columns is-block-print"},[i("div",{staticClass:"column is-3 is-12-print"},[i("div",{staticClass:"box"},[i("activities-field",{attrs:{document:t.document}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.categories}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.article_type}}),t._v(" "),t.document.author&&"personal"===t.document.article_type?i("label-value",{attrs:{label:t.$gettext("contributor")}},[i("author-link",{attrs:{author:t.document.author}})],1):t._e(),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.quality}})],1),t._v(" "),t.$screen.isMobile?t._e():i("tool-box",{attrs:{document:t.document}})],1),t._v(" "),i("div",{staticClass:"column is-9 is-12-print"},[i("div",{staticClass:"box"},[i("markdown-section",{attrs:{document:t.document,field:t.fields.summary}}),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.description,"hide-title":""}}),t._v(" "),i("div",{staticStyle:{clear:"both"}})],1),t._v(" "),t.isDraftView?t._e():i("routes-box",{attrs:{document:t.document,"hide-buttons":""}}),t._v(" "),t.isDraftView?t._e():i("recent-outings-box",{attrs:{document:t.document}}),t._v(" "),t.isDraftView?t._e():i("images-box",{attrs:{document:t.document}}),t._v(" "),t.$screen.isMobile?i("tool-box",{attrs:{document:t.document}}):t._e(),t._v(" "),t.isDraftView?t._e():i("comments-box",{attrs:{document:t.document}})],1)]):t._e()],1)},n=[],a=i("6197"),r={mixins:[a["a"]]},o=r,l=i("2877"),c=Object(l["a"])(o,s,n,!1,null,null,null);e["a"]=c.exports},"9c0c":function(t,e,i){},"9f21":function(t,e,i){},"9f3f":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section has-background-white-print"},[i("document-view-header",{attrs:{document:t.document,version:t.version,promise:t.promise}}),t._v(" "),t.document?i("div",{staticClass:"columns"},[i("div",{staticClass:"column is-3"},[i("div",{staticClass:"box"},[i("field-view",{attrs:{document:t.document,field:t.fields.area_type}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.quality}})],1),t._v(" "),i("map-box",{attrs:{document:t.document}}),t._v(" "),i("tool-box",{attrs:{document:t.document}})],1),t._v(" "),i("div",{staticClass:"column is-9"},[t.document.cooked.summary||t.document.cooked.description?i("div",{staticClass:"box"},[i("markdown-section",{attrs:{document:t.document,field:t.fields.summary}}),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.description}}),t._v(" "),i("div",{staticStyle:{clear:"both"}})],1):t._e(),t._v(" "),i("div",{staticClass:"box"},[i("div",{staticClass:"level is-mobile"},t._l(["waypoint","route","outing"],(function(e){return i("div",{key:e,staticClass:"level-item has-text-centered"},[i("router-link",{attrs:{to:{name:e+"s",query:{a:t.documentId}}}},[i("div",[i("icon-document",{staticClass:"is-size-1",attrs:{"document-type":e.toLowerCase()}})],1),t._v(" "),i("p",[t._v(t._s(t._f("uppercaseFirstLetter")(t.$gettext(e+"s"))))])])],1)})),0)]),t._v(" "),i("images-box",{attrs:{document:t.document}}),t._v(" "),i("comments-box",{attrs:{document:t.document}})],1)]):t._e()],1)},n=[],a=i("6197"),r={mixins:[a["a"]]},o=r,l=i("2877"),c=Object(l["a"])(o,s,n,!1,null,null,null);e["a"]=c.exports},"9fef":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fa-icon",{attrs:{icon:"image"}})},n=[],a=i("2877"),r={},o=Object(a["a"])(r,s,n,!1,null,null,null);e["default"]=o.exports},a068:function(t,e,i){"use strict";i("d8bf")},a13b:function(t,e,i){"use strict";i("5468")},a20c:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{attrs:{title:t.$gettext(t.documentType)}},[i("icon-document",{attrs:{"document-type":t.documentType}})],1)},n=[],a=i("a50d"),r={mixins:[a["b"]]},o=r,l=i("2877"),c=Object(l["a"])(o,s,n,!1,null,null,null);e["default"]=c.exports},a3e9:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fa-icon",{attrs:{icon:"globe-americas"}})},n=[],a=i("2877"),r={},o=Object(a["a"])(r,s,n,!1,null,null,null);e["default"]=o.exports},a40c:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"control",class:{"has-icons-right":t.postfix,"has-prefix":t.prefix,"is-expanded":t.isExpanded}},[t.prefix?i("span",{staticClass:"button prefix",class:{"is-danger":t.hasError},on:{click:function(e){return t.$emit("click-prefix")}}},[i("span",[t._v("\n      "+t._s(t._f("uppercaseFirstLetter")(t.prefix))+"\n    ")])]):t._e(),t._v(" "),t.options?i("div",{staticClass:"select",class:{"is-danger":t.hasError}},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.value_,expression:"value_"}],attrs:{disabled:t.disabled},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.value_=e.target.multiple?i:i[0]}}},[t.required?t._e():i("option"),t._v(" "),t._l(t.options,(function(e){return i("option",{key:e,domProps:{value:e}},[t._v("\n        "+t._s(t.i18n?t.$gettext(e,t.i18nContext):e)+"\n      ")])}))],2)]):i("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.value_,expression:"value_",modifiers:{lazy:!0}}],staticClass:"input",class:{"is-danger":t.hasError},attrs:{type:t.type,min:t.divisor?t.min/t.divisor:t.min,max:t.divisor?t.max/t.divisor:t.max,disabled:t.disabled,placeholder:t.placeholder},domProps:{value:t.value_},on:{change:function(e){t.value_=e.target.value}}}),t._v(" "),t.postfix?i("span",{staticClass:"icon is-right"},[t._v("\n    "+t._s(t.postfix)+"\n  ")]):t._e()])},n=[],a=i("4b81"),r={mixins:[a["b"]],props:{min:{type:Number,default:null},max:{type:[Number,String],default:null},value:{type:[String,Number,Boolean],default:null},prefix:{type:String,default:null},postfix:{type:String,default:null},options:{type:Array,default:null},isExpanded:{type:Boolean,default:null},disabled:{type:Boolean,default:!1},i18n:{type:Boolean,default:!1},i18nContext:{type:String,default:void 0}}},o=r,l=(i("7dd4"),i("2877")),c=Object(l["a"])(o,s,n,!1,null,"57304790",null);e["default"]=c.exports},a50d:function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"c",(function(){return n})),i.d(e,"b",(function(){return a}));const s={props:{document:{type:Object,required:!0}},computed:{documentType(){return this.$documentUtils.getDocumentType(this.document.type)}}},n={props:{field:{type:Object,required:!0}}},a={props:{documentType:{type:String,required:!0,validator:t=>t.length>1}}}},a517:function(t,e,i){"use strict";i("52a7")},a5c7:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"columns is-mobile is-variable is-0"},[i("div",{staticClass:"column date-container"},[i("input-date",{model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" "),i("div",{staticClass:"column is-narrow hour-container"},[i("div",{staticClass:"select"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.hour,expression:"hour"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.hour=e.target.multiple?i:i[0]}}},t._l(t.hours,(function(e){return i("option",{key:e},[t._v(t._s(e))])})),0)])]),t._v(" "),i("div",{staticClass:"column is-narrow minute-container"},[i("div",{staticClass:"select"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.minute,expression:"minute"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.minute=e.target.multiple?i:i[0]}}},t._l(t.minutes,(function(e){return i("option",{key:e},[t._v(t._s(e))])})),0)])])])},n=[],a=(i("ddb0"),i("4b81"));const r=(t,e)=>[...Array(e-t+1).keys()].map(e=>e+t);var o={mixins:[a["b"]],props:{value:{type:String,default:null}},computed:{minutes(){return r(1,59)},hours(){return r(0,23)},value_:{get(){return this.$dateUtils.parseDate(this.value||void 0)},set(t){this.disabled||(t="number"===this.type&&void 0!==this.divisor&&t?t*this.divisor:t,this.$emit("input",t))}},date:{get(){return this.value?this.$dateUtils.toLocalizedString(this.value_,"yyyy-MM-dd"):null},set(t){const e=this.value_;t=this.$dateUtils.parseDate(t),e.setYear(t.getFullYear()),e.setMonth(t.getMonth()),e.setDate(t.getDate()),this.onInput(e)}},hour:{get(){return this.value?this.value_.getHours():null},set(t){const e=this.value_;e.setHours(t),this.onInput(e)}},minute:{get(){return this.value?this.value_.getMinutes():null},set(t){const e=this.value_;e.setMinutes(t),this.onInput(e)}}},methods:{onInput(t){this.$emit("input",this.$dateUtils.toLocalizedString(t,"yyyy-MM-dd'T'HH:mm:ssxxx"))}}},l=o,c=(i("37c0"),i("2877")),u=Object(c["a"])(l,s,n,!1,null,"439d06a3",null);e["default"]=u.exports},a687:function(t,e,i){"use strict";i("c95b")},a6cd:function(t,e,i){"use strict";i("0e76")},a790:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section has-background-white-print"},[i("document-view-header",{attrs:{document:t.document,version:t.version,promise:t.promise}},[t.document&&t.document.waypoint_type?i("icon-waypoint-type",{attrs:{slot:"icon-document","waypoint-type":t.document.waypoint_type},slot:"icon-document"}):t._e()],1),t._v(" "),t.document?i("div",{staticClass:"columns"},[i("div",{staticClass:"column is-3 no-print"},[i("map-box",{attrs:{document:t.document}}),t._v(" "),i("tool-box",{attrs:{document:t.document}})],1),t._v(" "),i("div",{staticClass:"column is-9 is-12-print"},[i("div",{staticClass:"box"},[i("div",{staticClass:"columns is-multiline"},[i("div",{staticClass:"column is-4"},[i("field-view",{attrs:{document:t.document,field:t.fields.elevation}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.waypoint_type}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.climbing_indoor_types}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.rock_types}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.slackline_types}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.climbing_outdoor_types}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.product_types}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.ground_types}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.weather_station_types}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.rain_proof}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.children_proof}}),t._v(" "),t.document.capacity?i("field-view",{attrs:{document:t.document,field:t.fields.capacity,context:t.capacityContext}}):t._e(),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.capacity_staffed}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.length}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.slope}}),t._v(" "),i("double-numeric-field",{attrs:{document:t.document,field1:t.fields.slackline_length_min,field2:t.fields.slackline_length_max,label:t.$gettext("slackline_length")}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.routes_quantity}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.best_periods}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.quality}})],1),t._v(" "),i("div",{staticClass:"column is-4"},[t.document.orientations&&t.document.orientations.length?i("input-orientation",{attrs:{disabled:""},model:{value:t.document.orientations,callback:function(e){t.$set(t.document,"orientations",e)},expression:"document.orientations"}}):t._e(),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.url}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.phone}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.custodianship}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.phone_custodian}}),t._v(" "),i("double-numeric-field",{attrs:{document:t.document,field1:t.fields.climbing_rating_min,field2:t.fields.climbing_rating_max,label:t.$gettext("climbing rating")}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.climbing_rating_median}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.equipment_ratings}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.paragliding_rating}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.prominence}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.elevation_min}}),t._v(" "),i("double-numeric-field",{attrs:{document:t.document,field1:t.fields.height_min,field2:t.fields.height_max,label:t.$gettext("height")}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.height_median}})],1),t._v(" "),i("div",{staticClass:"column is-4"},[i("field-view",{attrs:{document:t.document,field:t.fields.matress_unstaffed}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.blanket_unstaffed}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.heating_unstaffed}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.gas_unstaffed}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.climbing_styles}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.access_time}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.public_transportation_types}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.public_transportation_rating}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.parking_fee}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.snow_clearance_rating}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.lift_access}})],1)])]),t._v(" "),t.locale.summary||t.locale.access_period||t.locale.description||t.locale.access?i("div",{staticClass:"box"},[i("markdown-section",{attrs:{document:t.document,field:t.fields.summary}}),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.access_period,title:t.accessPeriodTitle}}),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.description,title:t.descriptionTitle}}),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.access,title:t.accessTitle}}),t._v(" "),i("div",{staticStyle:{clear:"both"}})],1):t._e(),t._v(" "),t.isDraftView?t._e():i("routes-box",{attrs:{document:t.document}}),t._v(" "),t.isDraftView?t._e():i("recent-outings-box",{attrs:{document:t.document}}),t._v(" "),t.isDraftView?t._e():i("images-box",{attrs:{document:t.document}}),t._v(" "),t.isDraftView?t._e():i("comments-box",{attrs:{document:t.document}})],1)]):t._e()],1)},n=[],a=i("6197"),r=i("8a7f"),o={mixins:[a["a"],r["a"]],computed:{capacityContext(){return"bivouac"===this.document.waypoint_type?this.document.waypoint_type:null}}},l=o,c=i("2877"),u=Object(c["a"])(l,s,n,!1,null,null,null);e["a"]=u.exports},a81c:function(t,e,i){},a8dd:function(t,e,i){"use strict";i("47b4")},a8fb:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fa-icon",{attrs:{icon:"arrow-right",transform:{rotate:-45}}})},n=[],a=i("2877"),r={},o=Object(a["a"])(r,s,n,!1,null,null,null);e["default"]=o.exports},a9b2:function(t,e,i){"use strict";var s=i("fbd1"),n=i.n(s),a=i("e3ee"),r=i("2cf3"),o=i("49ef"),l=i("737d");i("ddb0");class c{constructor(){this._stack=[],this._working=!1}push(t,...e){const i=()=>t(...e);this._stack.push(i),this._work()}_next(){this._working=!1,this._work()}_work(){if(this._working||0===this._stack.length)return;const t=this._stack.shift();this._working=!0,t().then(this._next.bind(this)).catch(this._next.bind(this))}}var u=c,d=i("188b"),m=i("dac7");const p=m["a"].proj.get("EPSG:4326").getExtent(),h=new u,v=(t,e,i,s)=>{let n=Number(t)+Number(e)/60+parseFloat(i)/3600;return"S"!==s&&"W"!==s||(n*=-1),n},f=(t,e)=>{var i;const s=e?e.DateCreated:null,n=t?null!==(i=t.DateTimeOriginal)&&void 0!==i?i:t.DateTime:null;let c=null;return s?c=e.TimeCreated?Object(a["a"])(`${s}T${e.TimeCreated}`):Object(r["a"])(s,"yyyyMMdd",new Date):n&&(c=Object(r["a"])(n,"yyyy:MM:dd HH:mm:ss",new Date)),c&&Object(o["a"])(c)?Object(l["a"])(c):null},_=t=>{var e,i,s,n;if(null===t||void 0===t||null===(e=t.GPSInfo)||void 0===e||!e.GPSLatitude||null===t||void 0===t||null===(i=t.GPSInfo)||void 0===i||!i.GPSLongitude)return;let a=t.GPSInfo.GPSLatitude.split(","),r=t.GPSInfo.GPSLongitude.split(",");if(a=v(a[0],a[1],a[2],null===(s=t.GPSInfo)||void 0===s?void 0:s.GPSLatitudeRef),r=v(r[0],r[1],r[2],null===(n=t.GPSInfo)||void 0===n?void 0:n.GPSLongitudeRef),isNaN(a)||isNaN(r)||!m["a"].extent.containsXY(p,r,a))return;const o=m["a"].proj.transform([r,a],"EPSG:4326","EPSG:3857"),l={coordinates:o,type:"Point"};return{geom:JSON.stringify(l)}},g=t=>{var e;if(null===t||void 0===t||null===(e=t.GPSInfo)||void 0===e||!e.GPSAltitude)return;const i=parseFloat(t.GPSInfo.GPSAltitude);return isNaN(i)?void 0:i},b=(t,e,i)=>{void 0!==i&&(t[e]=i)},y=async t=>new Promise((e,i)=>{const s=new FileReader;s.onload=()=>{e(s.result)},s.onerror=i,s.readAsDataURL(t)}),w=async t=>new Promise(e=>{const i=new Image;i.onload=()=>e({dataUrl:t,width:i.width,height:i.height}),i.src=t}),x=(t,e)=>{const i=e.exif?e.exif.getAll():null,s=e.iptc?e.iptc.getAll():null;let n=0;return b(t,"date_time",f(i,s)),i&&(n=e.exif.get("Orientation"),b(t,"exposure_time",i.ExposureTime),b(t,"iso_speed",i.PhotographicSensitivity),b(t,"focal_length",i.FocalLengthIn35mmFilm),b(t,"fnumber",i.FNumber),b(t,"camera_name",i.Make&&i.Model?i.Make+" "+i.Model:void 0),b(t,"geometry",_(i)),b(t,"elevation",g(i))),n},C=async(t,e,i,s)=>{let a={};"image/jpeg"===t.type&&i&&(a={...a,orientation:i});const r=await y(t),{dataUrl:o,width:l,height:c}=await w(r);if("image/svg+xml"!==t.type&&t.size>2097152&&c>2048&&(a={...a,maxHeight:2048}),Object.keys(a).length){a={...a,canvas:!0};const{image:i}=await n()(t,a);return s(i.toDataURL(t.type)),new Promise(s=>{i.toBlob(t=>{e.file_size=t.size,e.width=i.width,e.height=i.height,s(t)},t.type)})}return s(o),e.width=l,e.height=c,Promise.resolve(t)},k=async(t,e,i,s,a)=>{try{const r={},o=await n.a.parseMetaData(t),l=await x(r,o),c=await C(t,r,l,e);h.push(d["a"].uploadImage.bind(d["a"]),c,i,t=>{r.filename=t.data.filename,s(r)},a)}catch(r){a()}};e["a"]=k},a9d6:function(t,e,i){},aa16:function(t,e,i){"use strict";i("8e68")},aa66:function(t,e,i){t.exports=i.p+"img/logo-ensg.e6781953.jpg"},abe2:function(t,e,i){t.exports=i.p+"img/mrd.3a3621c9.jpg"},acb8:function(t,e,i){},ae0c:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("document-link",{staticClass:"pretty-outing-link has-hover-background",attrs:{document:t.outing}},[i("marker-quality",{staticClass:"has-text-normal",attrs:{quality:t.outing.quality}}),t._v(" "),i("marker-condition",{attrs:{condition:t.outing.condition_rating}}),t._v(" "),i("span",{staticClass:"has-text-normal"},[t._v("\n    "+t._s(t.outing.date_end)+"\n    :\n  ")]),t._v(" "),i("document-title",{attrs:{document:t.outing}}),t._v(" "),i("span",{staticClass:"has-text-normal"},[t._v("\n     • \n    "+t._s(t.outing.author.name)+"\n  ")]),t._v(" "),0!=t.outing.img_count||t.outing.geometry.has_geom_detail?i("span",{staticClass:"has-text-normal"},[t._v("\n     • \n    "),0!=t.outing.img_count?i("marker-image-count",{attrs:{"image-count":t.outing.img_count}}):t._e(),t._v(" "),t.outing.geometry.has_geom_detail?i("marker-gps-trace"):t._e()],1):t._e()],1)},n=[],a={props:{outing:{type:Object,required:!0}}},r=a,o=(i("c684"),i("2877")),l=Object(o["a"])(r,s,n,!1,null,"3b4e113d",null);e["default"]=l.exports},aee2:function(t,e,i){},b0c8:function(t,e,i){t.exports=i.p+"img/methode_3x3.fedd6075.avif"},b0df:function(t,e,i){"use strict";i("65d6")},b101:function(t,e,i){},b105:function(t,e,i){},b17d:function(t,e,i){},b1cb:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fa-icon",{attrs:{icon:"map-marker-alt"}})},n=[],a=i("2877"),r={},o=Object(a["a"])(r,s,n,!1,null,null,null);e["default"]=o.exports},b221:function(t,e,i){},b22e:function(t,e,i){},b32b:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section has-background-white-print"},[i("document-view-header",{attrs:{document:t.document,version:t.version,promise:t.promise}}),t._v(" "),t.document?i("div",[i("div",{staticClass:"box"},[i("div",{staticClass:"columns"},[i("div",{staticClass:"column is-3"},[i("field-view",{attrs:{document:t.document,field:t.fields.editor}})],1),t._v(" "),i("div",{staticClass:"column is-3"},[i("field-view",{attrs:{document:t.document,field:t.fields.code}})],1),t._v(" "),i("div",{staticClass:"column is-3"},[i("field-view",{attrs:{document:t.document,field:t.fields.scale}})],1)])]),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.summary}}),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.description,"hide-title":""}}),t._v(" "),i("comments-box",{attrs:{document:t.document}})],1):t._e()],1)},n=[],a=i("6197"),r={mixins:[a["a"]]},o=r,l=i("2877"),c=Object(l["a"])(o,s,n,!1,null,null,null);e["a"]=c.exports},b34d:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("modal-card",{ref:"modalWindow"},[i("div",{attrs:{slot:"title"},slot:"title"},[t._t("title")],2),t._v(" "),i("div",[t.showUncancelableWarning?i("div",{staticClass:"notification is-warning has-text-centered"},[i("strong",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v(" Warning: This action cannot be undone! ")])]):t._e(),t._v(" "),t._t("default")],2),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("button",{staticClass:"button is-danger",class:{"is-loading":t.promise&&t.promise.loading},on:{click:function(e){return t.$emit("confirm")}}},[t._t("confirm-label",[i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v(" Confirm ")])])],2),t._v(" "),i("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"button is-success",attrs:{disabled:t.promise&&t.promise.loading},on:{click:function(e){return t.$refs.modalWindow.hide()}}},[t._v("\n      Cancel\n    ")])])])},n=[],a={props:{showUncancelableWarning:{type:Boolean,default:!1},promise:{type:Object,default:null}},watch:{"promise.error":"onError"},methods:{show(){this.$refs.modalWindow.show()},hide(){this.$refs.modalWindow.hide()},onError(){this.promise.error&&(this.promise.error.response&&this.promise.error.response.data?this.promise.error.response.data.errors?window.alert(this.$gettext(this.promise.error.response.data.errors[0].description)):window.alert(!this.promise.error.response.data):window.alert("Unexpected error"))}}},r=a,o=i("2877"),l=Object(o["a"])(r,s,n,!1,null,null,null);e["default"]=l.exports},b354:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("datepicker",{staticClass:"intput-date",attrs:{"monday-first":"","input-class":t.hasError?"input is-danger":"input",language:t.$options.datepickerLocales[t.$language.current],highlighted:{dates:[new Date]},"disabled-dates":t.disabledDates,required:t.required,value:t.value},on:{input:t.onInput}})},n=[],a=i("fa33"),r=i("2430"),o=i("4b81");const l={fr:r["fr"],en:r["en"],es:r["es"],ca:r["ca"],de:r["de"],it:r["it"]};var c={components:{Datepicker:a["a"]},mixins:[o["b"]],props:{value:{type:String,default:null},disabledDates:{type:Object,default:void 0}},methods:{onInput(t){t=this.$dateUtils.toLocalizedString(t,"yyyy-MM-dd"),this.$emit("input",t)}},datepickerLocales:l},u=c,d=(i("313f"),i("2877")),m=Object(d["a"])(u,s,n,!1,null,"78064916",null);e["default"]=m.exports},b441:function(t,e,i){"use strict";i("f301")},b55a:function(t,e,i){},b659:function(t,e,i){},b705:function(t,e,i){},b86a:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"control"},[null!==t.prefix?i("span",[t._v(" "+t._s(t._f("uppercaseFirstLetter")(t.prefix))+" : ")]):t._e(),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.value_,expression:"value_"}],staticClass:"is-checkradio is-primary",attrs:{id:"c2c-"+t._uid+"_yes",type:"radio"},domProps:{value:!0,checked:t._q(t.value_,!0)},on:{change:function(e){t.value_=!0}}}),t._v(" "),i("label",{attrs:{for:"c2c-"+t._uid+"_yes"}},[t._v(t._s(t._f("uppercaseFirstLetter")(t.labelYes||t.$gettext("yes"))))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.value_,expression:"value_"}],staticClass:"is-checkradio is-primary",attrs:{id:"c2c-"+t._uid+"_no",type:"radio"},domProps:{value:!1,checked:t._q(t.value_,!1)},on:{change:function(e){t.value_=!1}}}),t._v(" "),i("label",{attrs:{for:"c2c-"+t._uid+"_no"}},[t._v(t._s(t._f("uppercaseFirstLetter")(t.labelNo||t.$gettext("no"))))]),t._v(" "),t.nullable?i("input",{directives:[{name:"model",rawName:"v-model",value:t.value_,expression:"value_"}],staticClass:"is-checkradio is-primary",attrs:{id:"c2c-"+t._uid+"_null",type:"radio"},domProps:{value:null,checked:t._q(t.value_,null)},on:{change:function(e){t.value_=null}}}):t._e(),t._v(" "),t.nullable?i("label",{staticClass:"is-italic",attrs:{for:"c2c-"+t._uid+"_null"}},[t._v("\n    "+t._s(t._f("uppercaseFirstLetter")(t.$gettext("no info")))+"\n  ")]):t._e()])},n=[],a=i("4b81"),r={mixins:[a["b"]],props:{value:{type:Boolean,default:null},nullable:{type:Boolean,default:!1},prefix:{type:String,default:null},labelYes:{type:String,default:null},labelNo:{type:String,default:null}}},o=r,l=(i("30c7"),i("2877")),c=Object(l["a"])(o,s,n,!1,null,"3a95d149",null);e["default"]=c.exports},bb29:function(t,e,i){t.exports=i.p+"img/mrp_carte.0fddb355.webp"},bc36:function(t,e,i){"use strict";i("5319");var s=i("0307"),n=i("14ac");function a(){s["a"].call(this,n["a"].urls.forum)}a.prototype=Object.create(s["a"].prototype),a.prototype.constructor=a,Object.defineProperty(a.prototype,"url",{get(){return n["a"].urls.forum}}),a.prototype.getTopic=function(t){return this.get("/t/title/"+t+".json")},a.prototype.getLatest=function(t){t=t?"?"+t.map(t=>"exclude_category_ids[]="+t).join("&"):"";const e=this.get("/latest.json"+t);return e.then((function(t){const e={};t.data.users.forEach((function(t){e[t.username]=t})),t.data.topic_list.topics.map((function(t){t.last_poster_user=e[t.last_poster_username]}))})),e},a.prototype.readAnnouncement=function(t){return t="zh_CN"===t?"en":t,this.get("/t/annonce-"+t+".json")},a.prototype.getAvatarUrl=function(t,e){const i=t.avatar_template.startsWith("/")?this.url+t.avatar_template:t.avatar_template;return i.replace("{size}",e)},e["a"]=new a},bcd2:function(t,e,i){t.exports=i.p+"img/artefact_vallorcine.aa10877c.jpg"},bd36:function(t,e,i){"use strict";i("edd8")},bfa7:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.array?i("span",t._l(t.array,(function(e,s){return i("span",{key:s},[t._v(t._s(t.i18n?t.$gettext(e,t.i18nContext):e)),s!=t.array.length-1?i("span",[t._v(", ")]):t._e()])})),0):t._e()},n=[],a={props:{array:{type:Array,default:null},i18n:{type:Boolean,default:!0},i18nContext:{type:String,default:void 0}}},r=a,o=i("2877"),l=Object(o["a"])(r,s,n,!1,null,null,null);e["default"]=l.exports},bfb9:function(t,e,i){"use strict";i("f1d3")},bfef:function(t,e,i){"use strict";i("f619")},c0ba:function(t,e,i){},c123:function(t,e,i){"use strict";i("7e8b")},c3c3:function(t,e,i){},c41b:function(t,e,i){},c458:function(t,e,i){"use strict";i("77b8")},c672:function(t,e,i){t.exports=i.p+"img/mrp_carte.4b940014.jpg"},c684:function(t,e,i){"use strict";i("e034")},c7b6:function(t,e,i){t.exports=i.p+"img/pentes_amont.7a7ff047.avif"},c7e8:function(t,e,i){"use strict";i("4d66")},c837:function(t,e,i){"use strict";i("83d7")},c854:function(t,e,i){},c8e9:function(t,e,i){},c95b:function(t,e,i){},c995:function(t,e,i){},ca53:function(t,e,i){},caa1:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fa-icon",{attrs:{icon:"life-ring"}})},n=[],a=i("2877"),r={},o=Object(a["a"])(r,s,n,!1,null,null,null);e["default"]=o.exports},cbc0:function(t,e,i){t.exports=i.p+"img/mrd.5a8c54cb.avif"},ce5c:function(t,e,i){"use strict";i("b101")},cece:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section has-background-white-print"},[i("document-view-header",{attrs:{document:t.document,version:t.version,promise:t.promise}}),t._v(" "),t.document&&t.document.not_authorized?i("div",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"notification is-danger"},[t._v("\n    This profile is only available to authenticated users.\n  ")]):t._e(),t._v(" "),t.document&&!t.document.not_authorized?i("div",{staticClass:"columns"},[i("div",{staticClass:"column is-3"},[i("div",{staticClass:"box"},[t.document.activities&&t.document.activities.length?i("activities-field",{attrs:{document:t.document}}):t._e(),t._v(" "),i("label-value",{attrs:{label:t.$gettext("forum")}},[i("a",{attrs:{href:t.$options.forumUrl+"/users/"+t.document.forum_username+"/activity"}},[t._v("\n            @"+t._s(t.document.forum_username)+"\n          ")])]),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.categories}}),t._v(" "),i("div",{staticClass:"buttons is-centered button-outings"},[i("outings-downloader",{attrs:{"profile-id":t.documentId}})],1)],1),t._v(" "),t.document.geometry&&t.document.geometry.geom?i("map-box",{attrs:{document:t.document}}):t._e(),t._v(" "),i("tool-box",{attrs:{document:t.document}})],1),t._v(" "),i("div",{staticClass:"column is-9"},[t.locale.summary||t.locale.description?i("div",{staticClass:"box"},[i("markdown-section",{attrs:{document:t.document,field:t.fields.summary}}),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.description,"hide-title":""}}),t._v(" "),i("div",{staticStyle:{clear:"both"}})],1):t._e(),t._v(" "),i("images-box",{attrs:{document:t.document}}),t._v(" "),i("feed-widget",{attrs:{type:"profile"}})],1)]):t._e()],1)},n=[],a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{directives:[{name:"translate",rawName:"v-translate"}],staticClass:"button is-primary",class:{"is-loading":t.isLoading},on:{click:t.downloadOutings}},[t._v("\n  Download outings\n")])},r=[],o=(i("ddb0"),i("188b")),l=i("9944"),c={props:{profileId:{type:Number,required:!0}},data(){return{isLoading:!1}},methods:{downloadOutings(){this.isLoading=!0;const t=[],e=new Map([["title",this.$documentUtils.getDocumentTitle],["url",t=>{const e=this.$router.resolve({name:"outing",params:{id:t.document_id}}).href;return"https://www.camptocamp.org"+e}]]),i=function(s){o["a"].outing.getAll({u:this.profileId,limit:50,offset:s}).then(n=>{for(const e of n.data.documents)t.push(e);0===n.data.documents.length||t.length===n.data.total?(l["a"].downloadCsv(t,"outings.csv",e),this.isLoading=!1):i(s+50)}).catch(t=>{this.isLoading=!1,window.alert(t.response.data.errors[0].description)})}.bind(this);i(0)}}},u=c,d=i("2877"),m=Object(d["a"])(u,a,r,!1,null,null,null),p=m.exports,h=i("6197"),v=i("f5bf"),f=i("14ac"),_={components:{FeedWidget:v["a"],OutingsDownloader:p},mixins:[h["a"]],forumUrl:f["a"].urls.forum},g=_,b=(i("ff34"),Object(d["a"])(g,s,n,!1,null,"074b6882",null));e["a"]=b.exports},cef9:function(t,e,i){"use strict";i("b22e")},cfdf:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",["activities"==t.field.name?i("activities",{staticClass:"has-text-secondary",attrs:{activities:t.document.activities}}):"url"===t.field.type?i("a",{attrs:{href:t.value}},[t._v(t._s(t.value))]):"date_time"===t.field.type?i("span",[t._v(t._s(t.$dateUtils.toLocalizedString(t.value,"PPpp")))]):t.isArray?i("textual-array",{attrs:{array:t.value,i18n:t.field.i18n,"i18n-context":t.field.i18nContext}}):"boolean"===typeof t.value?i("span",[t.value?i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v(" yes ")]):i("span",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v(" no ")])]):t.field.i18n?i("span",[t._v(t._s(t.$gettext(t.value,t.field.i18nContext))+" ")]):i("span",[t._v(t._s(t.divisor?Math.round(t.value/t.divisor):t.value))]),t.showUnit&&!t.field.skipSpaceBeforeUnit?i("span",[t._v(" ")]):t._e(),t.showUnit?i("span",[t._v(t._s(t.unit||t.field.unit))]):t._e()],1)},n=[],a=i("a50d"),r={mixins:[a["a"],a["c"]],props:{unit:{type:String,default:null},divisor:{type:Number,default:null}},computed:{value(){return this.document[this.field.name]},isArray(){return Array.isArray(this.value)},showUnit(){return(this.unit||this.field.unit)&&null!==this.value&&void 0!==this.value}}},o=r,l=i("2877"),c=Object(l["a"])(o,s,n,!1,null,null,null);e["default"]=c.exports},d024:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fa-icon",{attrs:{icon:"comments"}})},n=[],a=i("2877"),r={},o=Object(a["a"])(r,s,n,!1,null,null,null);e["default"]=o.exports},d1c3:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section has-background-white-print"},[i("document-view-header",{attrs:{document:t.document,version:t.version,promise:t.promise}}),t._v(" "),t.document?i("div",{staticClass:"columns is-block-print"},[i("div",{staticClass:"column is-3 is-12-print"},[i("div",{staticClass:"box"},[i("event-activity-field",{attrs:{document:t.document}}),t._v(" "),t.document.author?i("label-value",{attrs:{label:t.$gettext("contributor")}},[i("author-link",{attrs:{author:t.document.author}})],1):t._e(),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.event_type}}),t._v(" "),t.document.associations.users.length?i("label-value",{attrs:{label:t.$gettext("participants")}},[i("profiles-links",{attrs:{profiles:t.document.associations.users}})],1):t._e(),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.avalanche_level}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.avalanche_slope}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.elevation}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.nb_participants}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.nb_impacted}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.rescue}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.severity}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.supervision}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.autonomy}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.activity_rate}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.qualification}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.quality}})],1),t._v(" "),i("map-box",{attrs:{document:t.document}}),t._v(" "),i("tool-box",{attrs:{document:t.document}})],1),t._v(" "),i("div",{staticClass:"column is-9 is-12-print"},[i("div",{staticClass:"box"},[i("markdown-section",{attrs:{document:t.document,field:t.fields.summary}}),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.description}}),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.place}}),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.route_study}}),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.conditions}}),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.training}}),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.motivations}}),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.group_management}}),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.risk}}),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.time_management}}),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.safety}}),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.increase_impact}}),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.reduce_impact}}),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.modifications}}),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.other_comments}}),t._v(" "),i("div",{staticStyle:{clear:"both"}}),t._v(" "),t._l(t.document.associations.routes,(function(t){return i("div",{key:t.document_id},[i("pretty-route-link",{attrs:{route:t,"hide-area":"","hide-orientation":""}})],1)}))],2),t._v(" "),t.document?i("images-box",{attrs:{document:t.document}}):t._e(),t._v(" "),i("comments-box",{attrs:{document:t.document}})],1)]):t._e()],1)},n=[],a=i("6197"),r={mixins:[a["a"]]},o=r,l=i("2877"),c=Object(l["a"])(o,s,n,!1,null,null,null);e["a"]=c.exports},d315:function(t,e,i){t.exports=i.p+"img/logo-fondation-petzl.24ab8a49.webp"},d517:function(t,e,i){"use strict";i("c0ba")},d541:function(t,e,i){"use strict";i("6038")},d5ed:function(t,e,i){},d7dc:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.name?i("fa-icon",{staticClass:"marker-helper has-text-info",attrs:{icon:"info-circle"},on:{click:function(e){return t.$helper.show(t.name)}}}):t._e()},n=[],a={props:{name:{type:String,default:null}}},r=a,o=(i("a517"),i("2877")),l=Object(o["a"])(r,s,n,!1,null,"59c9ad67",null);e["default"]=l.exports},d7de:function(t,e,i){"use strict";i("3b2a")},d83c:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section has-background-white-print"},[i("document-view-header",{attrs:{document:t.document,version:t.version,promise:t.promise}}),t._v(" "),t.document?i("div",{staticClass:"columns is-block-print"},[i("div",{staticClass:"column is-3 no-print"},[i("map-box",{attrs:{document:t.document},on:{"has-protection-area":function(e){t.hasProtectionArea=!0}}}),t._v(" "),i("tool-box",{attrs:{document:t.document}})],1),t._v(" "),i("div",{staticClass:"column is-9 is-12-print"},[i("div",{staticClass:"box"},[i("div",{staticClass:"columns"},[i("div",{staticClass:"column is-4"},[i("activities-field",{attrs:{document:t.document}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.route_types}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.durations,unit:t.$gettext("day(s)")}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.rock_types}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.quality}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.climbing_outdoor_type}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.configuration}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.slackline_type}})],1),t._v(" "),i("div",{staticClass:"column is-4"},[i("label-value",{attrs:{label:t.$gettext("ratings")}},[t.$documentUtils.hasRating(t.document)?i("document-rating",{attrs:{document:t.document,"show-helper":""}}):i("edit-link",{attrs:{document:t.document,lang:t.$user.lang}})],1),t._v(" "),"no"!=t.document.glacier_gear?i("field-view",{attrs:{document:t.document,field:t.fields.glacier_gear}}):t._e(),t._v(" "),t.document.orientations&&t.document.orientations.length?i("input-orientation",{attrs:{disabled:""},model:{value:t.document.orientations,callback:function(e){t.$set(t.document,"orientations",e)},expression:"document.orientations"}}):t._e()],1),t._v(" "),i("div",{staticClass:"column is-4"},[i("double-numeric-field",{attrs:{document:t.document,field1:t.fields.elevation_min,field2:t.fields.elevation_max,label:t.$gettext("elevation")}}),t._v(" "),i("double-numeric-field",{attrs:{document:t.document,field1:t.fields.height_diff_up,field2:t.fields.height_diff_down,label:t.$gettext("height_diff"),"show-signs":""}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.height_diff_difficulties}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.difficulties_height}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.height_diff_access}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.lift_access}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.route_length,divisor:1e3,unit:"km"}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.mtb_height_diff_portages}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.mtb_length_asphalt,divisor:1e3,unit:"km"}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.mtb_length_trail,divisor:1e3,unit:"km"}}),t._v(" "),t.document.cooked.slope?i("label-value",{attrs:{label:t.$gettext("slope")}},[t._v("\n              "+t._s(t.document.cooked.slope)+"\n            ")]):t._e(),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.slackline_height}})],1)])]),t._v(" "),i("div",{staticClass:"box"},[i("markdown-section",{attrs:{document:t.document,field:t.fields.summary}}),t._v(" "),t.locale.route_history?i("markdown-section",{attrs:{document:t.document,field:t.fields.route_history}}):t.showMissingHistoryBanner?i("div",{staticClass:"notification is-info no-print"},[i("edit-link",{directives:[{name:"translate",rawName:"v-translate"}],attrs:{document:t.document,lang:t.lang,"show-always":""}},[t._v("\n            History is missing, please provide it if you have information.\n          ")])],1):t._e(),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.description}}),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.slackline_anchor1}}),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.slackline_anchor2}}),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.remarks}},[t.hasProtectionArea?i("div",{staticClass:"notification is-info protection-area-info",attrs:{slot:"after"},slot:"after"},[i("strong",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v(" Sensitive areas ")]),t._v(" "),i("p",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("There are sensitive areas on this route. Please refer to the map.")])]):t._e()]),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.gear}},[0!==Object.keys(t.gear_articles).length?i("div",{staticClass:"content automatic-gears",attrs:{slot:"after"},slot:"after"},[i("ul",t._l(t.gear_articles,(function(e,s){return i("li",{key:s},[i("router-link",{attrs:{to:{name:"article",params:{id:s}}}},[t._v("\n                  "+t._s(e)+"\n                ")])],1)})),0)]):t._e()]),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.external_resources}}),t._v(" "),i("div",{staticStyle:{clear:"both"}})],1),t._v(" "),i("routes-box",{attrs:{document:t.document,"hide-buttons":"","disable-activity-split":""}}),t._v(" "),i("images-box",{attrs:{document:t.document}}),t._v(" "),i("recent-outings-box",{attrs:{document:t.document}}),t._v(" "),i("comments-box",{attrs:{document:t.document}})],1)]):t._e()],1)},n=[],a=(i("ddb0"),i("6197"));const r=["snow_ice_mixed","mountain_climbing","rock_climbing","ice_climbing","via_ferrata","slacklining"];var o={mixins:[a["a"]],data(){return{hasProtectionArea:!1}},computed:{gear_articles(){var t;const e={},i=this.document,s=null!==(t=i.activities)&&void 0!==t?t:[],n=["F","F+","PD-","PD","PD+","AD-","AD"],a=["P2","P2+","P3","P3+","P4"],r=["mountain_climbing","skitouring","snow_ice_mixed","snowshoeing"];return(s.includes("snowshoeing")||s.includes("skitouring"))&&(e["183333"]=this.$gettext("skitouring gear")),s.includes("snow_ice_mixed")&&["F","F+","PD-","PD","PD+"].includes(i.global_rating)&&(e["185750"]=this.$gettext("easy snow ice mixed gear")),s.includes("mountain_climbing")&&n.includes(i.global_rating)&&(e["185384"]=this.$gettext("easy mountain climbing gear")),s.includes("rock_climbing")&&(["P1","P1+"].includes(i.equipment_rating)?e["183332"]=this.$gettext("bolted rock climbing gear"):!s.includes("mountain_climbing")&&n.includes(i.global_rating)&&a.includes(i.equipment_rating)&&(e["185384"]=this.$gettext("easy mountain climbing gear"))),s.includes("ice_climbing")&&(e["194479"]=this.$gettext("ice and dry climbing gear")),s.includes("hiking")&&(e["185207"]=this.$gettext("hiking gear")),i.glacier_gear&&"no"!==i.glacier_gear&&s.filter(t=>r.includes(t))&&(e["185750"]=this.$gettext("easy snow ice mixed gear")),e},showMissingHistoryBanner(){var t;const e=this.document,i=null!==(t=e.activities)&&void 0!==t?t:[];for(let s of r)if(i.includes(s))return!0;return!(!i.includes("skitouring")||!["5.1","5.2","5.3","5.4","5.5"].includes(e.ski_rating))}}},l=o,c=(i("bfb9"),i("2877")),u=Object(c["a"])(l,s,n,!1,null,"3291d4de",null);e["a"]=u.exports},d86b:function(t,e,i){t.exports=i.p+"img/mre.203f0b57.webp"},d8bf:function(t,e,i){},d9253:function(t,e,i){"use strict";i("c995")},d9cb:function(t,e,i){},daba:function(t,e,i){},dac7:function(t,e,i){"use strict";i("a60f");var s=i("5eee"),n=i("a2c7"),a=i("4cdf"),r=i("f53f"),o=i("3900"),l=i("c320"),c=i("9d47"),u=i("e29f"),d=i("076a"),m=i("0af5"),p=i("cbcb"),h=i("a2e1"),v=i("1ab5"),f=i("7a09"),_=i("f403"),g=i("5bc3"),b=i("ac29"),y=i("c807"),w=i("b2fc"),x=i("88df"),C=i("c810"),k=i("480c"),$=i("3e6b"),L=i("256f"),q=i("bc81"),M=i("a226"),S=i("e7df"),E=i("5831"),O=i("d510"),D=i("2ef1"),T=i("6cbf"),A=i("6c77"),P=i("ce2c"),j=i("83a6"),N=i("8682"),z=i("8295"),I=i("6ed8"),F=i("a79f");F["a"].defs("EPSG:21781","+proj=somerc +lat_0=46.95240555555556 +lon_0=7.439583333333333 +k_0=1 +x_0=600000 +y_0=200000 +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +units=m +no_defs"),Object(q["a"])(F["a"]),e["a"]={Map:s["a"],View:n["a"],Feature:a["a"],Geolocation:r["a"],control:{Control:o["a"],FullScreen:l["a"],ScaleLine:c["a"],Zoom:u["a"],Attribution:d["a"]},extent:{buffer:m["c"],getWidth:m["E"],containsXY:m["h"],createEmpty:m["j"],extend:m["q"]},format:{GeoJSON:h["a"],GPX:p["a"],KML:v["a"]},geom:{LineString:f["a"],Point:_["a"],Polygon:g["b"]},interaction:{Draw:b["a"],Modify:y["a"],Snap:w["a"],DragAndDrop:x["a"]},layer:{Vector:$["a"],Tile:k["a"],Image:C["a"]},proj:{get:L["j"],transform:L["s"],transformExtent:L["t"],toLonLat:L["p"]},source:{Vector:E["a"],BingMaps:M["a"],XYZ:D["a"],WMTS:O["a"],ImageStatic:S["a"]},style:{Icon:T["a"],Style:A["c"],Circle:P["a"],Fill:j["a"],Stroke:N["a"],Text:z["a"]},tilegrid:{WMTS:I["b"]}}},db40:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("icon-"+t.documentType,{tag:"component"})},n=[],a=i("a50d"),r={mixins:[a["b"]]},o=r,l=i("2877"),c=Object(l["a"])(o,s,n,!1,null,null,null);e["default"]=c.exports},db5b:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{attrs:{title:t.$gettext("quality")+" : "+t.$gettext(t.quality,"quality_types")}},[i("icon-quality",{attrs:{quality:t.quality}})],1)},n=[],a={props:{quality:{type:String,required:!0}}},r=a,o=i("2877"),l=Object(o["a"])(r,s,n,!1,null,null,null);e["default"]=l.exports},dbfb:function(t,e,i){"use strict";i("6b29")},dcac:function(t,e,i){},dd43:function(t,e,i){"use strict";i("5020")},de23:function(t,e,i){},df7d:function(t,e,i){},e004:function(t,e,i){t.exports=i.p+"img/logo-ensg.35fbf647.webp"},e034:function(t,e,i){},e29fc:function(t,e,i){t.exports=i.p+"img/mre_carte.8e63fda2.jpg"},e431:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fa-icon",{staticClass:"has-text-danger",attrs:{icon:"exclamation-circle"}})},n=[],a=i("2877"),r={},o=Object(a["a"])(r,s,n,!1,null,null,null);e["default"]=o.exports},e4dd:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[t.contributor.moderator?i("icon-moderator"):t._e(),t._v(" "),t.contributor.blocked?i("icon-blocked"):t._e(),t._v(" "),t.contributor.robot?i("icon-robot"):t._e(),t._v(" "),i("router-link",{attrs:{to:{name:"profile",params:{id:t.contributor.user_id}}}},[t._v("\n    "+t._s(t.contributor.name)+"\n  ")]),t._v(" "),i("span",[i("span",[t._v("(")]),t._v(" "),i("router-link",{attrs:{to:{name:"whatsnew",query:{u:t.contributor.user_id}}}},[t._v("c")]),t._v(" "),t.contributor.forum_username?i("span",[i("span",[t._v("|")]),t._v(" "),i("a",{attrs:{href:t.$options.forumUrl+"/users/"+t.contributor.forum_username+"/activity"}},[t._v("d")])]):t._e(),t._v(" "),i("span",[t._v(")")])],1)],1)},n=[],a=i("14ac"),r={forumUrl:a["a"].urls.forum,props:{contributor:{type:Object,required:!0}}},o=r,l=i("2877"),c=Object(l["a"])(o,s,n,!1,null,null,null);e["default"]=c.exports},e4f7:function(t,e,i){"use strict";i("30b8")},e52b:function(t,e,i){"use strict";i("0a65")},e5fb:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[i("router-link",{attrs:{to:{name:"profile",params:{id:t.author.user_id}}}},[t._v("\n    "+t._s(t.author.name)+"\n  ")])],1)},n=[],a={props:{author:{type:Object,required:!0}}},r=a,o=i("2877"),l=Object(o["a"])(r,s,n,!1,null,null,null);e["default"]=l.exports},e78b:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section has-background-white-print"},[i("document-view-header",{attrs:{document:t.document,version:t.version,promise:t.promise}}),t._v(" "),t.document?i("images-box",{attrs:{document:t.document}}):t._e(),t._v(" "),t.document?i("div",{staticClass:"columns is-multiline is-block-print"},[i("div",{staticClass:"column is-3 no-print"},[i("map-box",{attrs:{document:t.document}}),t._v(" "),i("tool-box",{attrs:{document:t.document}})],1),t._v(" "),i("div",{staticClass:"column is-9 is-12-print"},[i("div",{staticClass:"box"},[t._l(t.document.associations.routes,(function(t){return i("div",{key:t.document_id},[i("pretty-route-link",{attrs:{route:t,"hide-area":"","hide-orientation":""}})],1)})),t._v(" "),i("div",[i("profiles-links",{attrs:{profiles:t.document.associations.users}}),t._v(" "),t.document.cooked.participants?i("span",[t._v(", "+t._s(t.document.cooked.participants))]):t._e()],1),t._v(" "),i("hr"),t._v(" "),i("div",{staticClass:"columns"},[i("div",{staticClass:"column is-4"},[i("activities-field",{attrs:{document:t.document}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.frequentation}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.condition_rating}}),t._v(" "),t.document.partial_trip?i("field-view",{attrs:{document:t.document,field:t.fields.partial_trip}}):t._e(),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.quality}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.participant_count}})],1),t._v(" "),i("div",{staticClass:"column is-4"},[i("label-value",{attrs:{label:t.$gettext("ratings")}},[i("document-rating",{attrs:{document:t.document,"show-helper":""}})],1),t._v(" "),t.document.public_transport?i("field-view",{attrs:{document:t.document,field:t.fields.public_transport}}):t._e(),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.access_condition}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.lift_status}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.hut_status}})],1),t._v(" "),i("div",{staticClass:"column is-4"},[i("double-numeric-field",{attrs:{document:t.document,field1:t.fields.elevation_min,field2:t.fields.elevation_max,label:t.$gettext("elevation")}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.elevation_access}}),t._v(" "),i("double-numeric-field",{attrs:{document:t.document,field1:t.fields.height_diff_up,field2:t.fields.height_diff_down,label:t.$gettext("height_diff"),"show-signs":""}}),t._v(" "),t.document.length_total?i("label-value",{attrs:{label:t.$gettext("length_total")}},[t._v("\n              "+t._s(t.document.length_total/1e3)+" km\n            ")]):t._e(),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.elevation_up_snow}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.elevation_down_snow}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.snow_quantity}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.snow_quality}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.glacier_rating}}),t._v(" "),i("field-view",{attrs:{document:t.document,field:t.fields.avalanche_signs}})],1)])],2),t._v(" "),i("div",{staticClass:"box"},[i("markdown-section",{attrs:{document:t.document,field:t.fields.route_description}}),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.weather}}),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.conditions}}),t._v(" "),i("condition-levels",{attrs:{data:t.locale.conditions_levels}}),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.avalanches}}),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.timing}}),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.access_comment}}),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.hut_comment}}),t._v(" "),i("markdown-section",{attrs:{document:t.document,field:t.fields.description,title:t.$gettext("personal comments")}}),t._v(" "),i("div",{staticStyle:{clear:"both"}})],1),t._v(" "),i("comments-box",{attrs:{document:t.document}})],1)]):t._e()],1)},n=[],a=i("6197"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.hasData?i("div",{staticClass:"content"},[i("table",[i("thead",[i("tr",[i("th",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("Location / elevation / orientation")]),t._v(" "),i("th",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("soft snow")]),t._v(" "),i("th",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("total snow")]),t._v(" "),i("th",{directives:[{name:"translate",rawName:"v-translate"}]},[t._v("comment")])])]),t._v(" "),i("tbody",t._l(t.levels,(function(e,s){return i("tr",{key:s},[i("td",{attrs:{"data-title":e.level_place?t.$gettext("Location / elevation / orientation"):void 0}},[t._v("\n          "+t._s(e.level_place)+"\n        ")]),t._v(" "),i("td",{attrs:{"data-title":e.level_snow_height_soft?t.$gettext("soft snow"):void 0}},[t._v("\n          "+t._s(e.level_snow_height_soft)+"\n        ")]),t._v(" "),i("td",{attrs:{"data-title":e.level_snow_height_total?t.$gettext("total snow"):void 0}},[t._v("\n          "+t._s(e.level_snow_height_total)+"\n        ")]),t._v(" "),i("td",{attrs:{"data-title":e.level_comment?t.$gettext("comment"):void 0}},[t._v(t._s(e.level_comment))])])})),0)])]):t._e()},o=[],l={props:{data:{type:String,default:null}},computed:{levels(){return this.data?JSON.parse(this.data):null},hasData(){if(null===this.levels||0===this.levels.length)return!1;const t=this.levels[0];return Boolean(t.level_place)||Boolean(t.level_snow_height_soft)||Boolean(t.level_snow_height_total)||Boolean(t.level_comment)}}},c=l,u=(i("aa16"),i("2877")),d=Object(u["a"])(c,r,o,!1,null,"61a753bf",null),m=d.exports,p={components:{ConditionLevels:m},mixins:[a["a"]]},h=p,v=Object(u["a"])(h,s,n,!1,null,null,null);e["a"]=v.exports},e830:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fa-icon",{attrs:{icon:"history"}})},n=[],a=i("2877"),r={},o=Object(a["a"])(r,s,n,!1,null,null,null);e["default"]=o.exports},e952:function(t,e,i){"use strict";i("5319");var s=i("14ac");const n=function(t,e){if(!t.filename){const i=e?"?$size="+e:"";return`${s["a"].urls.api}/images/proxy/${t.document_id}${i}`}let i;return i=e?t.filename.replace(".",e+".").replace(".svg",".jpg"):t.filename,`${s["a"].urls.media}/${i}`};e["a"]={getSquared(t){return n(t,"SI")},getMedium(t){return n(t,"MI")},getBig(t){return n(t,"BI")},get(t){return n(t)}}},ea37:function(t,e,i){"use strict";i("2b8f")},ecf2:function(t,e,i){"use strict";i("188f")},ed59:function(t,e,i){"use strict";i("9531")},edd8:function(t,e,i){},ef05:function(t,e,i){"use strict";i("8a55")},ef39:function(t,e,i){"use strict";i("5cf1")},f03c:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("router-link",{attrs:{to:{name:t.documentType+"-add",params:{lang:t.$language.current},query:t.query}}},[t._t("default",[t._v("\n    "+t._s(t._f("uppercaseFirstLetter")(t.$documentUtils.getCreationTitle(t.documentType)))+"\n  ")])],2)},n=[],a=i("a50d"),r={mixins:[a["b"]],props:{query:{type:Object,default:null}}},o=r,l=i("2877"),c=Object(l["a"])(o,s,n,!1,null,null,null);e["default"]=c.exports},f0b3:function(t,e,i){},f0ee:function(t,e,i){"use strict";i("d9cb")},f0fd:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fa-layers",{staticClass:"fa-lg",class:{"hidden-button":!t.visible},on:{click:function(e){t.visible&&t.$emit("click")}}},[i("fa-icon",{attrs:{icon:"circle"}}),t._v(" "),i("fa-icon",{style:{color:"white"},attrs:{icon:["far","trash-alt"],transform:"shrink-6"}})],1)},n=[],a={props:{visible:{type:Boolean,default:!0}}},r=a,o=(i("2e60"),i("2877")),l=Object(o["a"])(r,s,n,!1,null,"23e15ae1",null);e["default"]=l.exports},f17e:function(t,e,i){},f1d3:function(t,e,i){},f301:function(t,e,i){},f3b0:function(t,e,i){"use strict";i("3b88")},f494:function(t,e,i){"use strict";i.d(e,"a",(function(){return H})),i.d(e,"b",(function(){return G}));var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("activities",{staticClass:"card-icon is-size-2 is-ellipsed icon-activities has-text-secondary",attrs:{activities:t.activities}})},n=[],a={props:{activities:{type:Array,default:null}}},r=a,o=(i("91aa"),i("2877")),l=Object(o["a"])(r,s,n,!1,null,null,null),c=l.exports,u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card",class:{"is-highlighted":t.highlighted}},[i("document-link",{attrs:{document:t.document,target:t.target}},[t._t("default")],2)],1)},d=[],m={props:{document:{type:Object,default:null},target:{type:String,default:void 0},highlighted:{type:Boolean,default:!1}}},p=m,h=(i("7d20"),Object(o["a"])(p,u,d,!1,null,"77249c26",null)),v=h.exports,f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.elevation?i("span",{staticClass:"is-nowrap",attrs:{title:t.$gettext("elevation_max")}},[i("fa-icon",{staticClass:"card-icon",attrs:{icon:"sort-amount-up"}}),t._v("\n  "+t._s(t.elevation)+" m\n")],1):t._e()},_=[],g={props:{elevation:{type:Number,default:null}}},b=g,y=Object(o["a"])(b,f,_,!1,null,null,null),w=y.exports,x=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("icon-event-activity",{staticClass:"card-icon is-size-2 is-ellipsed icon-activities has-text-secondary",attrs:{"event-activity":t.eventActivity}})},C=[],k={props:{eventActivity:{type:String,default:null}}},$=k,L=(i("8037"),Object(o["a"])($,x,C,!1,null,"7559f5b0",null)),q=L.exports,M=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.text?i("span",{staticClass:"is-ellipsed"},[i("icon-area",{staticClass:"card-icon"}),t._v("\n  "+t._s(t.text)+"\n")],1):t._e()},S=[],E=i("a50d"),O={mixins:[E["a"]],computed:{text(){return this.$documentUtils.getSortedAreaList(this.document)}}},D=O,T=Object(o["a"])(D,M,S,!1,null,null,null),A=T.exports,P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._t("default")],2)},j=[],N=(i("0025"),{}),z=Object(o["a"])(N,P,j,!1,null,"3aa38981",null),I=z.exports,F=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",{staticClass:"card-header"},[i("p",{staticClass:"card-header-title"},[t._t("default",[t._v("A very long header that should be ellipsed")])],2)])},V=[],U=(i("f3b0"),{}),B=Object(o["a"])(U,F,V,!1,null,"504be853",null),R=B.exports;const H={components:{CardContainer:v,CardTitle:R,CardRow:I,CardRegionItem:A,CardElevationItem:w,CardActivitiesItem:c,CardEventActivityItem:q},props:{target:{type:String,default:void 0},highlighted:{type:Boolean,default:!1}}},G={mixins:[H,E["a"]]}},f4ad:function(t,e,i){},f52f:function(t,e,i){t.exports=i.p+"img/mrd_carte.a36cb472.webp"},f5bf:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.load,expression:"load"}],staticClass:"columns",attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"500"}},t._l(t.columns,(function(e,s){return i("div",{key:s,class:"column "+t.cssColumnsClass},t._l(e.items,(function(t){return i("feed-card",{key:t.id,staticClass:"feed-card",attrs:{item:t}})})),1)})),0)},n=[],a=(i("ddb0"),i("487a")),r=i.n(a),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("card-container",{staticClass:"feed-card",attrs:{document:t.document}},[i("card-title",[i("span",{attrs:{title:t.$gettext("User avatar")}},[t.useDefaultAvatarIcon?i("fa-icon",{staticClass:"is-size-3 has-text-grey",attrs:{icon:"user"}}):i("img",{staticClass:"avatar",attrs:{src:t.$options.forumAvatarUrl+t.item.user.forum_username+"/36/1_1.png"},on:{error:function(e){t.useDefaultAvatarIcon=!0}}})],1),t._v(" "),i("span",[i("document-title",{attrs:{document:t.item.user}}),t._v(" "),i("span",{staticClass:"has-text-weight-normal"},[t._v(" "+t._s(t.actionLine))])],1),t._v(" "),i("marker-document-type",{staticClass:"is-pulled-right is-size-3",attrs:{"document-type":t.documentType}})],1),t._v(" "),i("card-row",[i("document-title",{staticClass:"has-text-weight-bold",attrs:{document:t.item.document}}),t._v(" "),"outing"==t.documentType?i("span",{staticClass:"is-nowrap has-left-margin-mobile"},[t._v(t._s(t.dates))]):t._e()],1),t._v(" "),t.locale&&t.locale.summary?i("card-row",[i("p",{staticClass:"is-max-3-lines-height"},[t._v(t._s(t._f("max300chars")(t._f("stripMarkdown")(t.locale.summary))))])]):t._e(),t._v(" "),0!=t.images.length?i("card-row",[i("gallery",{attrs:{images:t.images}})],1):t._e(),t._v(" "),"article"!=t.documentType&&"book"!=t.documentType?i("card-row",["outing"==t.documentType||"route"==t.documentType?i("span",[i("icon-ratings",{staticClass:"card-icon"}),t._v(" "),i("document-rating",{attrs:{document:t.item.document}})],1):t._e(),t._v(" "),i("card-elevation-item",{staticClass:"is-ellipsed",attrs:{elevation:t.item.document.elevation_max}}),t._v(" "),t.item.document.height_diff_up?i("span",{attrs:{title:t.$gettext("height_diff_up")}},[i("icon-height-diff-up"),t._v("\n      "+t._s(t.item.document.height_diff_up)+" m\n    ")],1):t._e(),t._v(" "),t.item.document.height_diff_difficulties?i("span",{attrs:{title:t.$gettext("height_diff_difficulties")}},[i("fa-icon",{attrs:{icon:"arrows-alt-v"}}),t._v("\n      "+t._s(t.item.document.height_diff_difficulties)+" m\n    ")],1):t._e(),t._v(" "),t.item.document.elevation?i("card-elevation-item",{attrs:{elevation:t.item.document.elevation}}):t._e(),t._v(" "),t.item.document.waypoint_type?i("span",[i("icon-waypoint-type",{attrs:{"waypoint-type":t.item.document.waypoint_type}}),t._v(" "),i("span",[t._v(t._s(t._f("uppercaseFirstLetter")(t.$gettext(t.item.document.waypoint_type,"waypoint_types"))))])],1):t._e()],1):t._e(),t._v(" "),t.item.document.areas&&t.item.document.areas.length?i("card-row",[i("card-region-item",{attrs:{document:t.item.document}})],1):t._e(),t._v(" "),i("card-row",[i("span",[t.item.document.activities?i("card-activities-item",{attrs:{activities:t.item.document.activities}}):t._e()],1),t._v(" "),i("span",[i("marker-image-count",{attrs:{"image-count":t.item.document.img_count}}),t._v(" "),i("span",[t._v(" ")]),t._v(" "),t.item.document.geometry&&t.item.document.geometry.has_geom_detail?i("marker-gps-trace"):t._e()],1),t._v(" "),i("span",[t._v(" "+t._s(t.$dateUtils.timeAgo(t.item.time))+" ")]),t._v(" "),i("span",["outing"==t.documentType?i("marker-condition",{attrs:{condition:t.item.document.condition_rating}}):t._e(),t._v(" "),i("marker-quality",{attrs:{quality:t.item.document.quality}})],1)])],1)},l=[],c=(i("5319"),i("f494")),u=i("48ec"),d=i("bc36"),m={components:{Gallery:u["a"]},filters:{max300chars:t=>t.length>300?t.substring(0,300)+"…":t},mixins:[c["a"]],props:{item:{type:Object,required:!0}},data(){return{actionLine:null,images:[],useDefaultAvatarIcon:!1}},computed:{document(){return this.item.document},documentType(){return this.$documentUtils.getDocumentType(this.document["type"])},locale(){return this.$documentUtils.getLocaleSmart(this.item.document)}},forumAvatarUrl:d["a"].url+"/user_avatar/"+d["a"].url.replace("https://","")+"/",created(){this.actionLine={"added_photos article":this.$gettext("has added images to article"),"added_photos book":this.$gettext("has added images to book"),"added_photos area":this.$gettext("has added images to area"),"added_photos outing":this.$gettext("has added images to outing"),"added_photos route":this.$gettext("has added images to route"),"added_photos waypoint":this.$gettext("has added images to waypoint"),"added_photos xreport":this.$gettext("has added images to xreport"),"created article":this.$gettext("has created a new article"),"created book":this.$gettext("has created a new book"),"created image":this.$gettext("has created a new image"),"created outing":this.$gettext("has created a new outing"),"created route":this.$gettext("has created a new route"),"created waypoint":this.$gettext("has created a new waypoint"),"created xreport":this.$gettext("has created a new xreport"),"updated area":this.$gettext("has updated the area"),"updated article":this.$gettext("has updated the article"),"updated book":this.$gettext("has updated the book"),"updated image":this.$gettext("has updated the image"),"updated outing":this.$gettext("has updated the outing"),"updated route":this.$gettext("has updated the route"),"updated waypoint":this.$gettext("has updated the waypoint"),"updated xreport":this.$gettext("has updated the xreport")}[[this.item["change_type"],this.documentType].join(" ")],this.dates=this.$documentUtils.getOutingDatesLocalized(this.item["document"]),this.item.image1&&this.images.push(this.item.image1),this.item.image2&&this.images.push(this.item.image2),this.item.image3&&this.images.push(this.item.image3)}},p=m,h=(i("2395"),i("2877")),v=Object(h["a"])(p,o,l,!1,null,"1b5809a7",null),f=v.exports,_=i("188b"),g={components:{FeedCard:f},directives:{infiniteScroll:r.a},props:{type:{type:String,required:!0},hideEmptyDocuments:{type:Boolean,default:!1}},data(){return{promise:null,feed:[],paginationToken:null,endOfFeed:!1,columns:null,cssColumnsClass:null}},computed:{loading(){return!!this.promise&&this.promise.loading}},watch:{$route:"initialize",type:"initialize"},mounted(){window.addEventListener("resize",this.initializeColumns),this.initialize()},beforeDestroy(){window.removeEventListener("resize",this.initializeColumns)},methods:{initialize(){this.paginationToken=void 0,this.endOfFeed=!1,this.feed=[],this.initializeColumns(),this.load()},initializeColumns(){const t=this.$el.clientWidth,e=400;let i;t<2*e?(this.cssColumnsClass="is-full",i=1):t<3*e?(this.cssColumnsClass="is-half",i=2):t<4*e?(this.cssColumnsClass="is-one-third",i=3):t<5*e?(this.cssColumnsClass="is-one-quarter",i=4):t<6*e?(this.cssColumnsClass="is-two-fifths",i=5):(this.cssColumnsClass="is-2",i=6),this.columns=[];for(let s=0;s<i;s++)this.columns.push({items:[],height:0});this.dispatchToColumns(this.feed)},load(){if(this.promise&&this.promise.loading)return;if(this.endOfFeed)return;const t={pl:"zh_CN"===this.$language.current?"en":this.$language.current,token:this.paginationToken,u:this.$route.params.id};"personal"===this.type?this.promise=_["a"].feed.getPersonalFeed(t).then(this.onLoad):"default"===this.type?this.promise=_["a"].feed.getDefaultFeed(t).then(this.onLoad):"profile"===this.type&&(this.promise=_["a"].feed.getProfileFeed(t).then(this.onLoad))},onLoad(t){this.paginationToken=t.data.pagination_token;for(const e of t.data.feed)this.feed.push(e);this.endOfFeed=0===t.data.feed.length,this.dispatchToColumns(t.data.feed)},dispatchToColumns(t){let e=this.columns[0];this.hideEmptyDocuments&&(t=t.filter(t=>"empty"!==t.document.quality));for(const i of t){for(const t of this.columns)t.height<e.height&&(e=t);e.items.push(i),e.height+=this.estimateSize(i)}},estimateSize(t){const e=47,i=29,s=30,n=30,a=29,r=38,o=223,l=22;let c=e+i+a+r+l;return t.document.locales[0].summary&&(c+=s),(document.elevation_max||document.elevation||document.height_diff_up||document.height_diff_difficulties)&&(c+=n),null!==t.image1&&(c+=o),c}}},b=g,y=(i("9a0b"),Object(h["a"])(b,s,n,!1,null,"d12f7bc8",null));e["a"]=y.exports},f5d3:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fa-icon",{attrs:{icon:"map"}})},n=[],a=i("2877"),r={},o=Object(a["a"])(r,s,n,!1,null,null,null);e["default"]=o.exports},f619:function(t,e,i){},f6c7:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fa-icon",{attrs:{icon:["fab","creative-commons"]}})},n=[],a=i("2877"),r={},o=Object(a["a"])(r,s,n,!1,null,null,null);e["default"]=o.exports},f74a:function(t,e,i){"use strict";i("aee2")},f752:function(t,e,i){},fa1c:function(t,e,i){},fa339:function(t,e,i){"use strict";i("c854")},fac3:function(t,e,i){"use strict";function s(t){return t.charAt(0).toUpperCase()+t.slice(1)}i.r(e);var n,a,r={props:{title:{type:String,required:!0}},watch:{title:{handler(){document.title=s(this.title)+" - Camptocamp.org"},immediate:!0}},render(){return""}},o=r,l=i("2877"),c=Object(l["a"])(o,n,a,!1,null,null,null);e["default"]=c.exports},fb01:function(t,e,i){},fbba:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"control",class:{"has-error":t.hasError}},t._l(t.activities,(function(e){return i("span",{key:e,staticClass:"input-item has-cursor-pointer",class:{"with-labels":t.showLabels},attrs:{checked:t.value_.includes(e),title:t.showLabels?null:t.$gettext(e,"activities")},on:{click:function(i){return t.toggle(e)}}},[i("icon-activity",{attrs:{activity:e}}),t._v(" "),t.showLabels?i("span",{staticClass:"is-size-6 input-label"},[t._v("\n      "+t._s(t.$gettext(e,"activities"))+"\n    ")]):t._e()],1)})),0)},n=[],a=i("4b81"),r=i("25c4"),o={mixins:[a["b"],a["a"]],props:{showLabels:{type:Boolean,default:!1},documentType:{type:String,default:void 0}},computed:{activities(){let t=r["a"].activities;return"r"===this.documentType&&t.splice(t.indexOf("paragliding"),1),t}}},l=o,c=(i("0c00"),i("2877")),u=Object(c["a"])(l,s,n,!1,null,"20af6ab6",null);e["default"]=u.exports},fbfa:function(t,e,i){},fc52:function(t,e,i){t.exports=i.p+"img/logo-fondation-petzl.4b665657.jpg"},fcc5:function(t,e,i){},fd54:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fa-icon",{attrs:{icon:"flag-checkered"}})},n=[],a=i("2877"),r={},o=Object(a["a"])(r,s,n,!1,null,null,null);e["default"]=o.exports},fd83:function(t,e,i){},fe7b:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fa-icon",{attrs:{icon:"route"}})},n=[],a=i("2877"),r={},o=Object(a["a"])(r,s,n,!1,null,null,null);e["default"]=o.exports},ff34:function(t,e,i){"use strict";i("fb01")}});
//# sourceMappingURL=app-legacy.5d4ea8a8.js.map